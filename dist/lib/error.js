'use strict';var a16_0x33d0=['throwProcessedFCPermissionError','url','NoPermission','1Xqzlzl','207321XTqUyq','2nRGNMt','\x0a1.\x20Create\x20Policy','AccessDenied','\x0a2.\x20Attach\x20Policy\x20To\x20User','\x20--PolicyDocument\x20\x22','replace','__spreadArrays','fun-generated-','code','Allow','throwProcessedPopPermissionError','defineProperty','44054TECdYf','31pGvsGN','data','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','245185lpbERi','\x27\x20on\x20\x27','3nGIkkC','generatePolicyName','random','../common/logger','includes','36833VNIWPA','10954jyzlzN','Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli','slice','stringify','message','exec','Forbbiden','printPermissionTip','toString','749886lgdpav','__esModule','length','717532FziuFP','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','error','join','74OsMEmV','Message','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','default'];var a16_0x216c64=a16_0x1ebc;(function(_0x844d40,_0x2c54dd){var _0xcb7fb9=a16_0x1ebc;while(!![]){try{var _0xccf152=parseInt(_0xcb7fb9(0x170))+parseInt(_0xcb7fb9(0x188))*parseInt(_0xcb7fb9(0x178))+parseInt(_0xcb7fb9(0x172))*parseInt(_0xcb7fb9(0x190))+-parseInt(_0xcb7fb9(0x181))+parseInt(_0xcb7fb9(0x184))*parseInt(_0xcb7fb9(0x18f))+-parseInt(_0xcb7fb9(0x191))*parseInt(_0xcb7fb9(0x16c))+parseInt(_0xcb7fb9(0x177))*-parseInt(_0xcb7fb9(0x16d));if(_0xccf152===_0x2c54dd)break;else _0x844d40['push'](_0x844d40['shift']());}catch(_0xde7516){_0x844d40['push'](_0x844d40['shift']());}}}(a16_0x33d0,0x656e3));var __spreadArrays=this&&this[a16_0x216c64(0x197)]||function(){var _0x563358=a16_0x216c64;for(var _0x476624=0x0,_0xddb9b8=0x0,_0x3bb072=arguments['length'];_0xddb9b8<_0x3bb072;_0xddb9b8++)_0x476624+=arguments[_0xddb9b8][_0x563358(0x183)];for(var _0x1839e4=Array(_0x476624),_0x2a2e4d=0x0,_0xddb9b8=0x0;_0xddb9b8<_0x3bb072;_0xddb9b8++)for(var _0x58f967=arguments[_0xddb9b8],_0x522854=0x0,_0x5a3194=_0x58f967[_0x563358(0x183)];_0x522854<_0x5a3194;_0x522854++,_0x2a2e4d++)_0x1839e4[_0x2a2e4d]=_0x58f967[_0x522854];return _0x1839e4;},__importDefault=this&&this['__importDefault']||function(_0x475b48){return _0x475b48&&_0x475b48['__esModule']?_0x475b48:{'default':_0x475b48};};Object[a16_0x216c64(0x16b)](exports,a16_0x216c64(0x182),{'value':!![]}),exports[a16_0x216c64(0x18c)]=exports[a16_0x216c64(0x17f)]=exports['generatePolicyName']=exports[a16_0x216c64(0x19b)]=void 0x0;var logger_1=__importDefault(require(a16_0x216c64(0x175)));function throwProcessedPopPermissionError(_0x4d4655,_0x9d5fd6){var _0x12644f=a16_0x216c64;if(!_0x4d4655['code']||!_0x4d4655['url']||_0x4d4655[_0x12644f(0x199)]!==_0x12644f(0x18e)&&_0x4d4655[_0x12644f(0x199)]!=='Forbidden.RAM'&&!_0x4d4655['code'][_0x12644f(0x176)](_0x12644f(0x17e)))throw _0x4d4655;var _0x13b3b7=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0x45cbe0=_0x13b3b7[_0x12644f(0x17d)](_0x4d4655[_0x12644f(0x18d)]);if(!_0x45cbe0)throw _0x4d4655;var _0x46974e=_0x45cbe0[0x1];_0x9d5fd6=_0x46974e+':'+_0x9d5fd6;var _0x37d59d='*';if(_0x4d4655['data']&&_0x4d4655['data'][_0x12644f(0x189)]){var _0x50c251=new RegExp(/Resource: (.*) Action: (.*)/),_0x50951a=_0x50c251[_0x12644f(0x17d)](_0x4d4655[_0x12644f(0x16e)][_0x12644f(0x189)]);_0x50951a&&(_0x37d59d=_0x50951a[0x1],_0x9d5fd6=_0x50951a[0x2]);}var _0x556b61=generatePolicyName(_0x9d5fd6);printPermissionTip(_0x556b61,_0x9d5fd6,_0x37d59d);throw _0x4d4655;}exports[a16_0x216c64(0x19b)]=throwProcessedPopPermissionError;function generatePolicyName(_0x4d32cb){var _0x482884=a16_0x216c64,_0x13afe1=[];for(var _0xf9c3a1=0x1;_0xf9c3a1<arguments[_0x482884(0x183)];_0xf9c3a1++){_0x13afe1[_0xf9c3a1-0x1]=arguments[_0xf9c3a1];}var _0x3521a2=_0x13afe1&&_0x13afe1['length']?_0x13afe1[_0x482884(0x187)]('-'):Math[_0x482884(0x174)]()[_0x482884(0x180)](0x24)[_0x482884(0x17a)](-0x8);return _0x482884(0x198)+_0x4d32cb['replace'](/:/g,'-')+'-'+_0x3521a2;}exports[a16_0x216c64(0x173)]=generatePolicyName;function a16_0x1ebc(_0x125746,_0x227d85){return a16_0x1ebc=function(_0x33d027,_0x1ebc7e){_0x33d027=_0x33d027-0x16b;var _0x42cd31=a16_0x33d0[_0x33d027];return _0x42cd31;},a16_0x1ebc(_0x125746,_0x227d85);}function printPermissionTip(_0x4c868f,_0x10ed30,_0x5838b3){var _0x54f96b=a16_0x216c64,_0x39eff9={'Version':'1','Statement':[{'Effect':_0x54f96b(0x19a),'Action':[_0x10ed30],'Resource':[_0x5838b3]}]};logger_1[_0x54f96b(0x18b)]['error'](_0x54f96b(0x16f)+_0x10ed30+_0x54f96b(0x171)+_0x5838b3+'\x27\x20'),logger_1['default']['error'](_0x54f96b(0x179)),logger_1[_0x54f96b(0x18b)][_0x54f96b(0x186)](_0x54f96b(0x185)),logger_1['default']['error'](_0x54f96b(0x192)),logger_1[_0x54f96b(0x18b)]['error']('Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20'+_0x4c868f+_0x54f96b(0x195)+JSON[_0x54f96b(0x17b)](_0x39eff9)[_0x54f96b(0x196)](/"/g,'\x5c\x22')+'\x22'),logger_1['default'][_0x54f96b(0x186)](_0x54f96b(0x194)),logger_1['default'][_0x54f96b(0x186)](_0x54f96b(0x18a)+_0x4c868f+'\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a');}exports[a16_0x216c64(0x17f)]=printPermissionTip;function throwProcessedFCPermissionError(_0x3992a0,_0x349781){var _0x12189f=a16_0x216c64,_0x212732=[];for(var _0x301203=0x2;_0x301203<arguments['length'];_0x301203++){_0x212732[_0x301203-0x2]=arguments[_0x301203];}if(!_0x3992a0[_0x12189f(0x199)]||_0x3992a0[_0x12189f(0x199)]!==_0x12189f(0x193)||!_0x3992a0[_0x12189f(0x17c)])throw _0x3992a0;var _0x13e2ed=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0x4b06bf=_0x13e2ed[_0x12189f(0x17d)](_0x3992a0[_0x12189f(0x17c)]);if(!_0x4b06bf)throw _0x3992a0;var _0x4d46d4=_0x4b06bf[0x1],_0x151777=_0x4b06bf[0x2],_0x3727c8=generatePolicyName['apply'](void 0x0,__spreadArrays([_0x4d46d4,_0x349781],_0x212732));printPermissionTip(_0x3727c8,_0x4d46d4,_0x151777);throw _0x3992a0;}exports[a16_0x216c64(0x18c)]=throwProcessedFCPermissionError;