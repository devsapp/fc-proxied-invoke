'use strict';var a16_0x22ff=['url','message','printPermissionTip','15877zlcGsX','12451pLDvKS','Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli','__esModule','15QeLEYV','throwProcessedPopPermissionError','code','122OjchVN','131iHLdho','__importDefault','throwProcessedFCPermissionError','Allow','161461owgGfK','674923GyAmPx','1194496PHhTPv','1iSgBql','AccessDenied','Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20','Message','data','default','NoPermission','replace','defineProperty','generatePolicyName','slice','__spreadArrays','length','51761uzcGLj','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','1NcAoET','../common/logger','join','\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a','fun-generated-','stringify','exec','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','\x0a2.\x20Attach\x20Policy\x20To\x20User','\x20--PolicyDocument\x20\x22','random','toString','error','\x0a1.\x20Create\x20Policy','190319MrIxsd'];var a16_0x88caf3=a16_0x2821;function a16_0x2821(_0x229da9,_0xb12eef){return a16_0x2821=function(_0x22fff4,_0x2821a2){_0x22fff4=_0x22fff4-0x1eb;var _0x4d74f3=a16_0x22ff[_0x22fff4];return _0x4d74f3;},a16_0x2821(_0x229da9,_0xb12eef);}(function(_0x52fa01,_0x20f26d){var _0x4bb4ec=a16_0x2821;while(!![]){try{var _0x236617=-parseInt(_0x4bb4ec(0x206))+parseInt(_0x4bb4ec(0x1ff))*parseInt(_0x4bb4ec(0x1f9))+-parseInt(_0x4bb4ec(0x1f4))+-parseInt(_0x4bb4ec(0x205))*parseInt(_0x4bb4ec(0x207))+-parseInt(_0x4bb4ec(0x1fc))*parseInt(_0x4bb4ec(0x214))+parseInt(_0x4bb4ec(0x216))*parseInt(_0x4bb4ec(0x204))+-parseInt(_0x4bb4ec(0x200))*-parseInt(_0x4bb4ec(0x1f8));if(_0x236617===_0x20f26d)break;else _0x52fa01['push'](_0x52fa01['shift']());}catch(_0x238e65){_0x52fa01['push'](_0x52fa01['shift']());}}}(a16_0x22ff,0xe1a39));var __spreadArrays=this&&this[a16_0x88caf3(0x212)]||function(){var _0xc970f4=a16_0x88caf3;for(var _0x4b8942=0x0,_0x504eae=0x0,_0x2541cb=arguments[_0xc970f4(0x213)];_0x504eae<_0x2541cb;_0x504eae++)_0x4b8942+=arguments[_0x504eae][_0xc970f4(0x213)];for(var _0x2f71ff=Array(_0x4b8942),_0x430fe2=0x0,_0x504eae=0x0;_0x504eae<_0x2541cb;_0x504eae++)for(var _0x54c0fc=arguments[_0x504eae],_0x186d1a=0x0,_0x391a09=_0x54c0fc[_0xc970f4(0x213)];_0x186d1a<_0x391a09;_0x186d1a++,_0x430fe2++)_0x2f71ff[_0x430fe2]=_0x54c0fc[_0x186d1a];return _0x2f71ff;},__importDefault=this&&this[a16_0x88caf3(0x201)]||function(_0x454259){return _0x454259&&_0x454259['__esModule']?_0x454259:{'default':_0x454259};};Object[a16_0x88caf3(0x20f)](exports,a16_0x88caf3(0x1fb),{'value':!![]}),exports[a16_0x88caf3(0x202)]=exports[a16_0x88caf3(0x1f7)]=exports[a16_0x88caf3(0x210)]=exports['throwProcessedPopPermissionError']=void 0x0;var logger_1=__importDefault(require(a16_0x88caf3(0x217)));function throwProcessedPopPermissionError(_0x207f38,_0x1226df){var _0x5d2063=a16_0x88caf3;if(!_0x207f38['code']||!_0x207f38[_0x5d2063(0x1f5)]||_0x207f38[_0x5d2063(0x1fe)]!==_0x5d2063(0x20d)&&_0x207f38['code']!=='Forbidden.RAM'&&!_0x207f38[_0x5d2063(0x1fe)]['includes']('Forbbiden'))throw _0x207f38;var _0x55385f=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0xe8088=_0x55385f[_0x5d2063(0x1eb)](_0x207f38[_0x5d2063(0x1f5)]);if(!_0xe8088)throw _0x207f38;var _0x31c0c5=_0xe8088[0x1];_0x1226df=_0x31c0c5+':'+_0x1226df;var _0x18dd2b='*';if(_0x207f38[_0x5d2063(0x20b)]&&_0x207f38[_0x5d2063(0x20b)][_0x5d2063(0x20a)]){var _0x4e712e=new RegExp(/Resource: (.*) Action: (.*)/),_0x43f028=_0x4e712e[_0x5d2063(0x1eb)](_0x207f38[_0x5d2063(0x20b)]['Message']);_0x43f028&&(_0x18dd2b=_0x43f028[0x1],_0x1226df=_0x43f028[0x2]);}var _0x1609bb=generatePolicyName(_0x1226df);printPermissionTip(_0x1609bb,_0x1226df,_0x18dd2b);throw _0x207f38;}exports[a16_0x88caf3(0x1fd)]=throwProcessedPopPermissionError;function generatePolicyName(_0x11aa77){var _0x599705=a16_0x88caf3,_0x157a5a=[];for(var _0x3cfa5c=0x1;_0x3cfa5c<arguments['length'];_0x3cfa5c++){_0x157a5a[_0x3cfa5c-0x1]=arguments[_0x3cfa5c];}var _0x202fbc=_0x157a5a&&_0x157a5a[_0x599705(0x213)]?_0x157a5a[_0x599705(0x218)]('-'):Math[_0x599705(0x1f0)]()[_0x599705(0x1f1)](0x24)[_0x599705(0x211)](-0x8);return _0x599705(0x21a)+_0x11aa77[_0x599705(0x20e)](/:/g,'-')+'-'+_0x202fbc;}exports['generatePolicyName']=generatePolicyName;function printPermissionTip(_0x52fcf1,_0x696955,_0xfbf845){var _0x17d979=a16_0x88caf3,_0x1616b7={'Version':'1','Statement':[{'Effect':_0x17d979(0x203),'Action':[_0x696955],'Resource':[_0xfbf845]}]};logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x1ec)+_0x696955+'\x27\x20on\x20\x27'+_0xfbf845+'\x27\x20'),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x1fa)),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x1ed)),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x1f3)),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x209)+_0x52fcf1+_0x17d979(0x1ef)+JSON[_0x17d979(0x21b)](_0x1616b7)[_0x17d979(0x20e)](/"/g,'\x5c\x22')+'\x22'),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x1ee)),logger_1[_0x17d979(0x20c)][_0x17d979(0x1f2)](_0x17d979(0x215)+_0x52fcf1+_0x17d979(0x219));}exports[a16_0x88caf3(0x1f7)]=printPermissionTip;function throwProcessedFCPermissionError(_0x3d136f,_0x56388c){var _0x4d6e65=a16_0x88caf3,_0x523544=[];for(var _0x4b8eaf=0x2;_0x4b8eaf<arguments[_0x4d6e65(0x213)];_0x4b8eaf++){_0x523544[_0x4b8eaf-0x2]=arguments[_0x4b8eaf];}if(!_0x3d136f[_0x4d6e65(0x1fe)]||_0x3d136f[_0x4d6e65(0x1fe)]!==_0x4d6e65(0x208)||!_0x3d136f[_0x4d6e65(0x1f6)])throw _0x3d136f;var _0x339ec8=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0x15fa39=_0x339ec8[_0x4d6e65(0x1eb)](_0x3d136f[_0x4d6e65(0x1f6)]);if(!_0x15fa39)throw _0x3d136f;var _0xc15c47=_0x15fa39[0x1],_0x190c11=_0x15fa39[0x2],_0x2a42bb=generatePolicyName['apply'](void 0x0,__spreadArrays([_0xc15c47,_0x56388c],_0x523544));printPermissionTip(_0x2a42bb,_0xc15c47,_0x190c11);throw _0x3d136f;}exports[a16_0x88caf3(0x202)]=throwProcessedFCPermissionError;