'use strict';var a16_0x4c28=['767569QTWKmQ','\x0a1.\x20Create\x20Policy','Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli','toString','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','\x20--PolicyDocument\x20\x22','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','10kWGSiB','default','\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a','797MNEyoL','Message','url','message','Forbbiden','length','replace','stringify','7635vskjRL','\x27\x20on\x20\x27','throwProcessedPopPermissionError','slice','397074wolUqx','NoPermission','printPermissionTip','throwProcessedFCPermissionError','data','__spreadArrays','163hDsIpR','code','__esModule','3964178kPOsAw','Forbidden.RAM','random','../common/logger','join','defineProperty','1148984YAdBAi','57874QKlmhE','1004dDFxcP','includes','error','exec','\x0a2.\x20Attach\x20Policy\x20To\x20User'];var a16_0x54da1f=a16_0x4858;(function(_0x5725d0,_0x2ce411){var _0x1d6ce7=a16_0x4858;while(!![]){try{var _0x4b7f9b=parseInt(_0x1d6ce7(0x15a))*-parseInt(_0x1d6ce7(0x14c))+-parseInt(_0x1d6ce7(0x169))+parseInt(_0x1d6ce7(0x14d))*parseInt(_0x1d6ce7(0x15d))+-parseInt(_0x1d6ce7(0x14b))+-parseInt(_0x1d6ce7(0x152))+parseInt(_0x1d6ce7(0x16f))*-parseInt(_0x1d6ce7(0x165))+parseInt(_0x1d6ce7(0x145));if(_0x4b7f9b===_0x2ce411)break;else _0x5725d0['push'](_0x5725d0['shift']());}catch(_0x40eccc){_0x5725d0['push'](_0x5725d0['shift']());}}}(a16_0x4c28,0x99326));var __spreadArrays=this&&this[a16_0x54da1f(0x16e)]||function(){var _0x4e9796=a16_0x54da1f;for(var _0x8a5b78=0x0,_0x412904=0x0,_0x202409=arguments[_0x4e9796(0x162)];_0x412904<_0x202409;_0x412904++)_0x8a5b78+=arguments[_0x412904][_0x4e9796(0x162)];for(var _0x25d3b6=Array(_0x8a5b78),_0x10e840=0x0,_0x412904=0x0;_0x412904<_0x202409;_0x412904++)for(var _0x322eb7=arguments[_0x412904],_0x556922=0x0,_0x8bae1a=_0x322eb7['length'];_0x556922<_0x8bae1a;_0x556922++,_0x10e840++)_0x25d3b6[_0x10e840]=_0x322eb7[_0x556922];return _0x25d3b6;},__importDefault=this&&this['__importDefault']||function(_0x7d5a39){var _0x405252=a16_0x54da1f;return _0x7d5a39&&_0x7d5a39[_0x405252(0x171)]?_0x7d5a39:{'default':_0x7d5a39};};function a16_0x4858(_0x970758,_0x187305){return a16_0x4858=function(_0x4c2836,_0x485829){_0x4c2836=_0x4c2836-0x145;var _0x33a6cf=a16_0x4c28[_0x4c2836];return _0x33a6cf;},a16_0x4858(_0x970758,_0x187305);}Object[a16_0x54da1f(0x14a)](exports,'__esModule',{'value':!![]}),exports[a16_0x54da1f(0x16c)]=exports[a16_0x54da1f(0x16b)]=exports['generatePolicyName']=exports[a16_0x54da1f(0x167)]=void 0x0;var logger_1=__importDefault(require(a16_0x54da1f(0x148)));function throwProcessedPopPermissionError(_0x493cc7,_0x1a3007){var _0xda3e2a=a16_0x54da1f;if(!_0x493cc7[_0xda3e2a(0x170)]||!_0x493cc7[_0xda3e2a(0x15f)]||_0x493cc7[_0xda3e2a(0x170)]!==_0xda3e2a(0x16a)&&_0x493cc7[_0xda3e2a(0x170)]!==_0xda3e2a(0x146)&&!_0x493cc7[_0xda3e2a(0x170)][_0xda3e2a(0x14e)](_0xda3e2a(0x161)))throw _0x493cc7;var _0x2cac0b=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0x21ca63=_0x2cac0b[_0xda3e2a(0x150)](_0x493cc7[_0xda3e2a(0x15f)]);if(!_0x21ca63)throw _0x493cc7;var _0x3399e4=_0x21ca63[0x1];_0x1a3007=_0x3399e4+':'+_0x1a3007;var _0x47f95f='*';if(_0x493cc7[_0xda3e2a(0x16d)]&&_0x493cc7['data'][_0xda3e2a(0x15e)]){var _0x237eb2=new RegExp(/Resource: (.*) Action: (.*)/),_0x21a844=_0x237eb2[_0xda3e2a(0x150)](_0x493cc7['data'][_0xda3e2a(0x15e)]);_0x21a844&&(_0x47f95f=_0x21a844[0x1],_0x1a3007=_0x21a844[0x2]);}var _0x13da07=generatePolicyName(_0x1a3007);printPermissionTip(_0x13da07,_0x1a3007,_0x47f95f);throw _0x493cc7;}exports[a16_0x54da1f(0x167)]=throwProcessedPopPermissionError;function generatePolicyName(_0xd3ba5a){var _0x40155b=a16_0x54da1f,_0x19f3f8=[];for(var _0x1e2ee2=0x1;_0x1e2ee2<arguments[_0x40155b(0x162)];_0x1e2ee2++){_0x19f3f8[_0x1e2ee2-0x1]=arguments[_0x1e2ee2];}var _0x8ea41a=_0x19f3f8&&_0x19f3f8[_0x40155b(0x162)]?_0x19f3f8[_0x40155b(0x149)]('-'):Math[_0x40155b(0x147)]()[_0x40155b(0x155)](0x24)[_0x40155b(0x168)](-0x8);return'fun-generated-'+_0xd3ba5a[_0x40155b(0x163)](/:/g,'-')+'-'+_0x8ea41a;}exports['generatePolicyName']=generatePolicyName;function printPermissionTip(_0x46e507,_0x316568,_0x4b7b9c){var _0x3c66a0=a16_0x54da1f,_0x2817c4={'Version':'1','Statement':[{'Effect':'Allow','Action':[_0x316568],'Resource':[_0x4b7b9c]}]};logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)](_0x3c66a0(0x159)+_0x316568+_0x3c66a0(0x166)+_0x4b7b9c+'\x27\x20'),logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)](_0x3c66a0(0x154)),logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)](_0x3c66a0(0x156)),logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)](_0x3c66a0(0x153)),logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)]('Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20'+_0x46e507+_0x3c66a0(0x158)+JSON[_0x3c66a0(0x164)](_0x2817c4)['replace'](/"/g,'\x5c\x22')+'\x22'),logger_1[_0x3c66a0(0x15b)][_0x3c66a0(0x14f)](_0x3c66a0(0x151)),logger_1['default'][_0x3c66a0(0x14f)](_0x3c66a0(0x157)+_0x46e507+_0x3c66a0(0x15c));}exports[a16_0x54da1f(0x16b)]=printPermissionTip;function throwProcessedFCPermissionError(_0xe798ff,_0x278787){var _0x5eda82=a16_0x54da1f,_0x1b2e66=[];for(var _0x1ce4f=0x2;_0x1ce4f<arguments[_0x5eda82(0x162)];_0x1ce4f++){_0x1b2e66[_0x1ce4f-0x2]=arguments[_0x1ce4f];}if(!_0xe798ff[_0x5eda82(0x170)]||_0xe798ff[_0x5eda82(0x170)]!=='AccessDenied'||!_0xe798ff[_0x5eda82(0x160)])throw _0xe798ff;var _0x130842=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0x4236ba=_0x130842[_0x5eda82(0x150)](_0xe798ff[_0x5eda82(0x160)]);if(!_0x4236ba)throw _0xe798ff;var _0x3bef4a=_0x4236ba[0x1],_0x2c959c=_0x4236ba[0x2],_0x4c42b8=generatePolicyName['apply'](void 0x0,__spreadArrays([_0x3bef4a,_0x278787],_0x1b2e66));printPermissionTip(_0x4c42b8,_0x3bef4a,_0x2c959c);throw _0xe798ff;}exports['throwProcessedFCPermissionError']=throwProcessedFCPermissionError;