'use strict';var a16_0x3ff7=['code','140PDQdDE','printPermissionTip','throwProcessedPopPermissionError','Forbidden.RAM','Message','NoPermission','length','generatePolicyName','toString','\x27\x20on\x20\x27','464635lnIcra','185039GDbGcN','754514ysRYmw','defineProperty','__esModule','457070SkKtRI','throwProcessedFCPermissionError','1UcmEkn','__spreadArrays','data','1666CwWGtD','join','\x0a1.\x20Create\x20Policy','1uGyChK','message','2lFMDvg','stringify','error','Allow','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a','exec','\x20--PolicyDocument\x20\x22','__importDefault','url','\x0a2.\x20Attach\x20Policy\x20To\x20User','replace','947906WcBMUS','random','804469PDFStA','1EwmSTv','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','Forbbiden','default','AccessDenied'];function a16_0x52b8(_0x39d997,_0xd74f39){return a16_0x52b8=function(_0x3ff704,_0x52b8f9){_0x3ff704=_0x3ff704-0x1be;var _0x10af79=a16_0x3ff7[_0x3ff704];return _0x10af79;},a16_0x52b8(_0x39d997,_0xd74f39);}var a16_0x454d03=a16_0x52b8;(function(_0x2c5319,_0x4d5593){var _0x564b5a=a16_0x52b8;while(!![]){try{var _0x3ea0aa=parseInt(_0x564b5a(0x1e2))+parseInt(_0x564b5a(0x1e8))*parseInt(_0x564b5a(0x1e6))+parseInt(_0x564b5a(0x1bf))*-parseInt(_0x564b5a(0x1d0))+-parseInt(_0x564b5a(0x1e3))*parseInt(_0x564b5a(0x1d1))+parseInt(_0x564b5a(0x1e1))*parseInt(_0x564b5a(0x1c1))+parseInt(_0x564b5a(0x1ce))+-parseInt(_0x564b5a(0x1eb))*parseInt(_0x564b5a(0x1d7));if(_0x3ea0aa===_0x4d5593)break;else _0x2c5319['push'](_0x2c5319['shift']());}catch(_0x8727ca){_0x2c5319['push'](_0x2c5319['shift']());}}}(a16_0x3ff7,0xb1816));var __spreadArrays=this&&this[a16_0x454d03(0x1e9)]||function(){var _0x596787=a16_0x454d03;for(var _0x2c042b=0x0,_0x3a86fb=0x0,_0x2e8b21=arguments[_0x596787(0x1dd)];_0x3a86fb<_0x2e8b21;_0x3a86fb++)_0x2c042b+=arguments[_0x3a86fb][_0x596787(0x1dd)];for(var _0x4f3b26=Array(_0x2c042b),_0x2799aa=0x0,_0x3a86fb=0x0;_0x3a86fb<_0x2e8b21;_0x3a86fb++)for(var _0xa1c8c2=arguments[_0x3a86fb],_0xa57534=0x0,_0x40e2f1=_0xa1c8c2['length'];_0xa57534<_0x40e2f1;_0xa57534++,_0x2799aa++)_0x4f3b26[_0x2799aa]=_0xa1c8c2[_0xa57534];return _0x4f3b26;},__importDefault=this&&this[a16_0x454d03(0x1ca)]||function(_0xb7e0a7){var _0x3507b3=a16_0x454d03;return _0xb7e0a7&&_0xb7e0a7[_0x3507b3(0x1e5)]?_0xb7e0a7:{'default':_0xb7e0a7};};Object[a16_0x454d03(0x1e4)](exports,a16_0x454d03(0x1e5),{'value':!![]}),exports[a16_0x454d03(0x1e7)]=exports[a16_0x454d03(0x1d8)]=exports[a16_0x454d03(0x1de)]=exports[a16_0x454d03(0x1d9)]=void 0x0;var logger_1=__importDefault(require('../common/logger'));function throwProcessedPopPermissionError(_0x56b2ab,_0x5bfe44){var _0x1ad6ef=a16_0x454d03;if(!_0x56b2ab[_0x1ad6ef(0x1d6)]||!_0x56b2ab[_0x1ad6ef(0x1cb)]||_0x56b2ab[_0x1ad6ef(0x1d6)]!==_0x1ad6ef(0x1dc)&&_0x56b2ab['code']!==_0x1ad6ef(0x1da)&&!_0x56b2ab[_0x1ad6ef(0x1d6)]['includes'](_0x1ad6ef(0x1d3)))throw _0x56b2ab;var _0x1876dd=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0x10b12b=_0x1876dd[_0x1ad6ef(0x1c8)](_0x56b2ab[_0x1ad6ef(0x1cb)]);if(!_0x10b12b)throw _0x56b2ab;var _0x406f5a=_0x10b12b[0x1];_0x5bfe44=_0x406f5a+':'+_0x5bfe44;var _0x126fe7='*';if(_0x56b2ab[_0x1ad6ef(0x1ea)]&&_0x56b2ab[_0x1ad6ef(0x1ea)][_0x1ad6ef(0x1db)]){var _0x37642e=new RegExp(/Resource: (.*) Action: (.*)/),_0x15437f=_0x37642e['exec'](_0x56b2ab[_0x1ad6ef(0x1ea)][_0x1ad6ef(0x1db)]);_0x15437f&&(_0x126fe7=_0x15437f[0x1],_0x5bfe44=_0x15437f[0x2]);}var _0xcfc029=generatePolicyName(_0x5bfe44);printPermissionTip(_0xcfc029,_0x5bfe44,_0x126fe7);throw _0x56b2ab;}exports['throwProcessedPopPermissionError']=throwProcessedPopPermissionError;function generatePolicyName(_0x1766c8){var _0x311ddd=a16_0x454d03,_0x1664b4=[];for(var _0x45705f=0x1;_0x45705f<arguments[_0x311ddd(0x1dd)];_0x45705f++){_0x1664b4[_0x45705f-0x1]=arguments[_0x45705f];}var _0x4b7807=_0x1664b4&&_0x1664b4[_0x311ddd(0x1dd)]?_0x1664b4[_0x311ddd(0x1ec)]('-'):Math[_0x311ddd(0x1cf)]()[_0x311ddd(0x1df)](0x24)['slice'](-0x8);return'fun-generated-'+_0x1766c8[_0x311ddd(0x1cd)](/:/g,'-')+'-'+_0x4b7807;}exports['generatePolicyName']=generatePolicyName;function printPermissionTip(_0x5b0618,_0x17c98b,_0x576030){var _0x18d88d=a16_0x454d03,_0x44ff8e={'Version':'1','Statement':[{'Effect':_0x18d88d(0x1c4),'Action':[_0x17c98b],'Resource':[_0x576030]}]};logger_1[_0x18d88d(0x1d4)][_0x18d88d(0x1c3)](_0x18d88d(0x1d2)+_0x17c98b+_0x18d88d(0x1e0)+_0x576030+'\x27\x20'),logger_1[_0x18d88d(0x1d4)][_0x18d88d(0x1c3)]('Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli'),logger_1[_0x18d88d(0x1d4)][_0x18d88d(0x1c3)](_0x18d88d(0x1c6)),logger_1[_0x18d88d(0x1d4)]['error'](_0x18d88d(0x1be)),logger_1[_0x18d88d(0x1d4)][_0x18d88d(0x1c3)]('Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20'+_0x5b0618+_0x18d88d(0x1c9)+JSON[_0x18d88d(0x1c2)](_0x44ff8e)['replace'](/"/g,'\x5c\x22')+'\x22'),logger_1['default'][_0x18d88d(0x1c3)](_0x18d88d(0x1cc)),logger_1['default'][_0x18d88d(0x1c3)](_0x18d88d(0x1c5)+_0x5b0618+_0x18d88d(0x1c7));}exports[a16_0x454d03(0x1d8)]=printPermissionTip;function throwProcessedFCPermissionError(_0x319878,_0xb756d0){var _0xc3e24a=a16_0x454d03,_0xa47b51=[];for(var _0xabcd72=0x2;_0xabcd72<arguments[_0xc3e24a(0x1dd)];_0xabcd72++){_0xa47b51[_0xabcd72-0x2]=arguments[_0xabcd72];}if(!_0x319878[_0xc3e24a(0x1d6)]||_0x319878[_0xc3e24a(0x1d6)]!==_0xc3e24a(0x1d5)||!_0x319878[_0xc3e24a(0x1c0)])throw _0x319878;var _0x429844=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0xc75814=_0x429844['exec'](_0x319878[_0xc3e24a(0x1c0)]);if(!_0xc75814)throw _0x319878;var _0x41c3c3=_0xc75814[0x1],_0x418dc0=_0xc75814[0x2],_0x406ae2=generatePolicyName['apply'](void 0x0,__spreadArrays([_0x41c3c3,_0xb756d0],_0xa47b51));printPermissionTip(_0x406ae2,_0x41c3c3,_0x418dc0);throw _0x319878;}exports[a16_0x454d03(0x1e7)]=throwProcessedFCPermissionError;