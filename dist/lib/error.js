'use strict';var a16_0x27a4=['length','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','\x0a1.\x20Create\x20Policy','printPermissionTip','__esModule','random','exec','14488wCtMBF','stringify','generatePolicyName','1zTuYom','__spreadArrays','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','error','\x20--PolicyDocument\x20\x22','Forbbiden','1701033qOcNxq','AccessDenied','message','46ycBOxd','toString','__importDefault','data','499201PSIvIz','throwProcessedPopPermissionError','833039VhJUJA','Forbidden.RAM','default','4OlIBvx','137262IxdhGU','Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli','763319iCXrmD','\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a','slice','url','Message','562762PcEcQw','join','\x27\x20on\x20\x27','NoPermission','code','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','\x0a2.\x20Attach\x20Policy\x20To\x20User','1DaHfSV','Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20','../common/logger','includes','throwProcessedFCPermissionError'];var a16_0x260ea0=a16_0x2938;(function(_0x101659,_0x2811be){var _0xca9cfc=a16_0x2938;while(!![]){try{var _0x316b91=-parseInt(_0xca9cfc(0xd5))*-parseInt(_0xca9cfc(0xc9))+-parseInt(_0xca9cfc(0xd9))+parseInt(_0xca9cfc(0xdb))*-parseInt(_0xca9cfc(0xed))+parseInt(_0xca9cfc(0xe1))+parseInt(_0xca9cfc(0xdf))*-parseInt(_0xca9cfc(0xde))+-parseInt(_0xca9cfc(0xe6))+parseInt(_0xca9cfc(0xd2))*parseInt(_0xca9cfc(0xcc));if(_0x316b91===_0x2811be)break;else _0x101659['push'](_0x101659['shift']());}catch(_0x2daee4){_0x101659['push'](_0x101659['shift']());}}}(a16_0x27a4,0xa7a9e));var __spreadArrays=this&&this[a16_0x260ea0(0xcd)]||function(){var _0x269c0=a16_0x260ea0;for(var _0x4ca81b=0x0,_0x27fb07=0x0,_0x13d78a=arguments[_0x269c0(0xf2)];_0x27fb07<_0x13d78a;_0x27fb07++)_0x4ca81b+=arguments[_0x27fb07]['length'];for(var _0x4766ba=Array(_0x4ca81b),_0x4e48fd=0x0,_0x27fb07=0x0;_0x27fb07<_0x13d78a;_0x27fb07++)for(var _0x3250fe=arguments[_0x27fb07],_0x397ab3=0x0,_0x3c0e50=_0x3250fe[_0x269c0(0xf2)];_0x397ab3<_0x3c0e50;_0x397ab3++,_0x4e48fd++)_0x4766ba[_0x4e48fd]=_0x3250fe[_0x397ab3];return _0x4766ba;},__importDefault=this&&this[a16_0x260ea0(0xd7)]||function(_0x46e1aa){return _0x46e1aa&&_0x46e1aa['__esModule']?_0x46e1aa:{'default':_0x46e1aa};};function a16_0x2938(_0x29c935,_0x27d7fa){return a16_0x2938=function(_0x27a40f,_0x2938f2){_0x27a40f=_0x27a40f-0xc7;var _0x127700=a16_0x27a4[_0x27a40f];return _0x127700;},a16_0x2938(_0x29c935,_0x27d7fa);}Object['defineProperty'](exports,a16_0x260ea0(0xf6),{'value':!![]}),exports[a16_0x260ea0(0xf1)]=exports[a16_0x260ea0(0xf5)]=exports[a16_0x260ea0(0xcb)]=exports[a16_0x260ea0(0xda)]=void 0x0;var logger_1=__importDefault(require(a16_0x260ea0(0xef)));function throwProcessedPopPermissionError(_0x163ac0,_0x34a710){var _0x59c217=a16_0x260ea0;if(!_0x163ac0['code']||!_0x163ac0['url']||_0x163ac0['code']!==_0x59c217(0xe9)&&_0x163ac0[_0x59c217(0xea)]!==_0x59c217(0xdc)&&!_0x163ac0[_0x59c217(0xea)][_0x59c217(0xf0)](_0x59c217(0xd1)))throw _0x163ac0;var _0x5c2834=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0x2f5808=_0x5c2834[_0x59c217(0xc8)](_0x163ac0[_0x59c217(0xe4)]);if(!_0x2f5808)throw _0x163ac0;var _0x36965b=_0x2f5808[0x1];_0x34a710=_0x36965b+':'+_0x34a710;var _0x4a15e5='*';if(_0x163ac0['data']&&_0x163ac0[_0x59c217(0xd8)]['Message']){var _0x528489=new RegExp(/Resource: (.*) Action: (.*)/),_0x250bf9=_0x528489[_0x59c217(0xc8)](_0x163ac0[_0x59c217(0xd8)][_0x59c217(0xe5)]);_0x250bf9&&(_0x4a15e5=_0x250bf9[0x1],_0x34a710=_0x250bf9[0x2]);}var _0x3eaf42=generatePolicyName(_0x34a710);printPermissionTip(_0x3eaf42,_0x34a710,_0x4a15e5);throw _0x163ac0;}exports['throwProcessedPopPermissionError']=throwProcessedPopPermissionError;function generatePolicyName(_0x3e359c){var _0x498298=a16_0x260ea0,_0x48ba13=[];for(var _0x3644c9=0x1;_0x3644c9<arguments['length'];_0x3644c9++){_0x48ba13[_0x3644c9-0x1]=arguments[_0x3644c9];}var _0x51bd2d=_0x48ba13&&_0x48ba13[_0x498298(0xf2)]?_0x48ba13[_0x498298(0xe7)]('-'):Math[_0x498298(0xc7)]()[_0x498298(0xd6)](0x24)[_0x498298(0xe3)](-0x8);return'fun-generated-'+_0x3e359c['replace'](/:/g,'-')+'-'+_0x51bd2d;}exports[a16_0x260ea0(0xcb)]=generatePolicyName;function printPermissionTip(_0x301bbf,_0xb7781b,_0x1b30e1){var _0x36874f=a16_0x260ea0,_0x1750a2={'Version':'1','Statement':[{'Effect':'Allow','Action':[_0xb7781b],'Resource':[_0x1b30e1]}]};logger_1[_0x36874f(0xdd)][_0x36874f(0xcf)](_0x36874f(0xf3)+_0xb7781b+_0x36874f(0xe8)+_0x1b30e1+'\x27\x20'),logger_1[_0x36874f(0xdd)]['error'](_0x36874f(0xe0)),logger_1[_0x36874f(0xdd)][_0x36874f(0xcf)](_0x36874f(0xce)),logger_1['default'][_0x36874f(0xcf)](_0x36874f(0xf4)),logger_1[_0x36874f(0xdd)][_0x36874f(0xcf)](_0x36874f(0xee)+_0x301bbf+_0x36874f(0xd0)+JSON[_0x36874f(0xca)](_0x1750a2)['replace'](/"/g,'\x5c\x22')+'\x22'),logger_1['default'][_0x36874f(0xcf)](_0x36874f(0xec)),logger_1[_0x36874f(0xdd)]['error'](_0x36874f(0xeb)+_0x301bbf+_0x36874f(0xe2));}exports[a16_0x260ea0(0xf5)]=printPermissionTip;function throwProcessedFCPermissionError(_0x426329,_0x6f28ae){var _0x1b7399=a16_0x260ea0,_0x3cabe8=[];for(var _0x199b49=0x2;_0x199b49<arguments[_0x1b7399(0xf2)];_0x199b49++){_0x3cabe8[_0x199b49-0x2]=arguments[_0x199b49];}if(!_0x426329['code']||_0x426329['code']!==_0x1b7399(0xd3)||!_0x426329[_0x1b7399(0xd4)])throw _0x426329;var _0x4cb22a=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0x34ba1=_0x4cb22a[_0x1b7399(0xc8)](_0x426329['message']);if(!_0x34ba1)throw _0x426329;var _0x55003c=_0x34ba1[0x1],_0x4727df=_0x34ba1[0x2],_0x2325a9=generatePolicyName['apply'](void 0x0,__spreadArrays([_0x55003c,_0x6f28ae],_0x3cabe8));printPermissionTip(_0x2325a9,_0x55003c,_0x4727df);throw _0x426329;}exports[a16_0x260ea0(0xf1)]=throwProcessedFCPermissionError;