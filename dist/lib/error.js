'use strict';var a16_0x3479=['Allow','defineProperty','(Note:\x20aliyun\x20cli\x20tool\x20needs\x20to\x20be\x20configured\x20with\x20credentials\x20that\x20have\x20related\x20RAM\x20permissions,\x20such\x20as\x20primary\x20account\x27s\x20AK)','NoPermission','1225013gtefXw','Aliyun\x20ram\x20CreatePolicy\x20--PolicyName\x20','throwProcessedPopPermissionError','throwProcessedFCPermissionError','message','\x20--PolicyDocument\x20\x22','878148qxkBRL','2467VskXas','../common/logger','error','31rAoaxZ','39499MPcgzD','random','__spreadArrays','754000LDqabp','\x0a1.\x20Create\x20Policy','__importDefault','Forbidden.RAM','\x0a2.\x20Attach\x20Policy\x20To\x20User','762181sdaXVv','code','generatePolicyName','\x0aYou\x20can\x20run\x20the\x20following\x20commands\x20to\x20grant\x20permission\x20\x27','url','apply','Message','Aliyun\x20ram\x20AttachPolicyToUser\x20--PolicyName\x20','309OOsQPS','__esModule','fun-generated-','\x20--PolicyType\x20\x22Custom\x22\x20--UserName\x20\x22YOUR_USER_NAME\x22\x0a','default','length','includes','exec','join','replace','printPermissionTip','84301RsxZRI','slice'];var a16_0x183cef=a16_0x568d;(function(_0x22a6bd,_0x280891){var _0x5e81a9=a16_0x568d;while(!![]){try{var _0x5acb5c=-parseInt(_0x5e81a9(0x147))+-parseInt(_0x5e81a9(0x14f))*parseInt(_0x5e81a9(0x167))+parseInt(_0x5e81a9(0x160))+-parseInt(_0x5e81a9(0x16b))*-parseInt(_0x5e81a9(0x16a))+-parseInt(_0x5e81a9(0x15a))+parseInt(_0x5e81a9(0x16e))+-parseInt(_0x5e81a9(0x166));if(_0x5acb5c===_0x280891)break;else _0x22a6bd['push'](_0x22a6bd['shift']());}catch(_0x3bc1d7){_0x22a6bd['push'](_0x22a6bd['shift']());}}}(a16_0x3479,0xaef05));var __spreadArrays=this&&this[a16_0x183cef(0x16d)]||function(){var _0x4e8149=a16_0x183cef;for(var _0x51e174=0x0,_0x57c6ef=0x0,_0x135113=arguments['length'];_0x57c6ef<_0x135113;_0x57c6ef++)_0x51e174+=arguments[_0x57c6ef][_0x4e8149(0x154)];for(var _0x543181=Array(_0x51e174),_0x4da758=0x0,_0x57c6ef=0x0;_0x57c6ef<_0x135113;_0x57c6ef++)for(var _0x2e900f=arguments[_0x57c6ef],_0x1e5844=0x0,_0x54ece0=_0x2e900f[_0x4e8149(0x154)];_0x1e5844<_0x54ece0;_0x1e5844++,_0x4da758++)_0x543181[_0x4da758]=_0x2e900f[_0x1e5844];return _0x543181;},__importDefault=this&&this[a16_0x183cef(0x170)]||function(_0x5e5ee2){var _0x2de2a2=a16_0x183cef;return _0x5e5ee2&&_0x5e5ee2[_0x2de2a2(0x150)]?_0x5e5ee2:{'default':_0x5e5ee2};};Object[a16_0x183cef(0x15d)](exports,a16_0x183cef(0x150),{'value':!![]}),exports[a16_0x183cef(0x163)]=exports[a16_0x183cef(0x159)]=exports[a16_0x183cef(0x149)]=exports[a16_0x183cef(0x162)]=void 0x0;var logger_1=__importDefault(require(a16_0x183cef(0x168)));function a16_0x568d(_0x3b5a51,_0x1adfe6){return a16_0x568d=function(_0x3479ca,_0x568d2e){_0x3479ca=_0x3479ca-0x147;var _0x116178=a16_0x3479[_0x3479ca];return _0x116178;},a16_0x568d(_0x3b5a51,_0x1adfe6);}function throwProcessedPopPermissionError(_0x47a754,_0x566061){var _0x2c4f3d=a16_0x183cef;if(!_0x47a754[_0x2c4f3d(0x148)]||!_0x47a754['url']||_0x47a754['code']!==_0x2c4f3d(0x15f)&&_0x47a754['code']!==_0x2c4f3d(0x171)&&!_0x47a754[_0x2c4f3d(0x148)][_0x2c4f3d(0x155)]('Forbbiden'))throw _0x47a754;var _0x177d62=new RegExp(/https?:\/\/([a-zA-Z]*).(.*)aliyuncs.com/),_0x434040=_0x177d62[_0x2c4f3d(0x156)](_0x47a754[_0x2c4f3d(0x14b)]);if(!_0x434040)throw _0x47a754;var _0x2a4984=_0x434040[0x1];_0x566061=_0x2a4984+':'+_0x566061;var _0x2b5dcb='*';if(_0x47a754['data']&&_0x47a754['data'][_0x2c4f3d(0x14d)]){var _0x36814d=new RegExp(/Resource: (.*) Action: (.*)/),_0x124f15=_0x36814d[_0x2c4f3d(0x156)](_0x47a754['data'][_0x2c4f3d(0x14d)]);_0x124f15&&(_0x2b5dcb=_0x124f15[0x1],_0x566061=_0x124f15[0x2]);}var _0x21a847=generatePolicyName(_0x566061);printPermissionTip(_0x21a847,_0x566061,_0x2b5dcb);throw _0x47a754;}exports[a16_0x183cef(0x162)]=throwProcessedPopPermissionError;function generatePolicyName(_0x572aa0){var _0x3ba263=a16_0x183cef,_0x1338f7=[];for(var _0x304de7=0x1;_0x304de7<arguments[_0x3ba263(0x154)];_0x304de7++){_0x1338f7[_0x304de7-0x1]=arguments[_0x304de7];}var _0x2605b5=_0x1338f7&&_0x1338f7[_0x3ba263(0x154)]?_0x1338f7[_0x3ba263(0x157)]('-'):Math[_0x3ba263(0x16c)]()['toString'](0x24)[_0x3ba263(0x15b)](-0x8);return _0x3ba263(0x151)+_0x572aa0[_0x3ba263(0x158)](/:/g,'-')+'-'+_0x2605b5;}exports[a16_0x183cef(0x149)]=generatePolicyName;function printPermissionTip(_0x55786c,_0x54256c,_0x341ab8){var _0x150566=a16_0x183cef,_0x8ca4bb={'Version':'1','Statement':[{'Effect':_0x150566(0x15c),'Action':[_0x54256c],'Resource':[_0x341ab8]}]};logger_1[_0x150566(0x153)][_0x150566(0x169)](_0x150566(0x14a)+_0x54256c+'\x27\x20on\x20\x27'+_0x341ab8+'\x27\x20'),logger_1[_0x150566(0x153)][_0x150566(0x169)]('Via\x20the\x20link:\x20\x20https://shell.aliyun.com/\x20or\x20aliyun\x20cli'),logger_1['default'][_0x150566(0x169)](_0x150566(0x15e)),logger_1[_0x150566(0x153)][_0x150566(0x169)](_0x150566(0x16f)),logger_1[_0x150566(0x153)][_0x150566(0x169)](_0x150566(0x161)+_0x55786c+_0x150566(0x165)+JSON['stringify'](_0x8ca4bb)[_0x150566(0x158)](/"/g,'\x5c\x22')+'\x22'),logger_1[_0x150566(0x153)][_0x150566(0x169)](_0x150566(0x172)),logger_1['default'][_0x150566(0x169)](_0x150566(0x14e)+_0x55786c+_0x150566(0x152));}exports[a16_0x183cef(0x159)]=printPermissionTip;function throwProcessedFCPermissionError(_0x5acc62,_0x166554){var _0xc076a4=a16_0x183cef,_0x4e1557=[];for(var _0x5dce2b=0x2;_0x5dce2b<arguments[_0xc076a4(0x154)];_0x5dce2b++){_0x4e1557[_0x5dce2b-0x2]=arguments[_0x5dce2b];}if(!_0x5acc62[_0xc076a4(0x148)]||_0x5acc62[_0xc076a4(0x148)]!=='AccessDenied'||!_0x5acc62[_0xc076a4(0x164)])throw _0x5acc62;var _0x3df3ab=new RegExp(/the caller is not authorized to perform '(.*)' on resource '(.*)'/),_0x473b6a=_0x3df3ab[_0xc076a4(0x156)](_0x5acc62[_0xc076a4(0x164)]);if(!_0x473b6a)throw _0x5acc62;var _0x26f388=_0x473b6a[0x1],_0x57d064=_0x473b6a[0x2],_0x13a6f8=generatePolicyName[_0xc076a4(0x14c)](void 0x0,__spreadArrays([_0x26f388,_0x166554],_0x4e1557));printPermissionTip(_0x13a6f8,_0x26f388,_0x57d064);throw _0x5acc62;}exports[a16_0x183cef(0x163)]=throwProcessedFCPermissionError;