'use strict';var a36_0xcd41=['filter','genStateId','nested-object-assign','listContainers','19461ceWUqv','ensureDir','environmentVariables','nasConfig','Delete\x20session:\x20','client','888236TYiXYT','error','pullImageIfNeed','utf-8','Session\x20created,\x20session\x20id:\x20','/services/','devsapp/fc-deploy','close','stream','2EVDYkJ','Setting\x20helper\x20function\x20with\x201\x20provison\x20and\x200\x20elasticity','userServiceConfig','fc-remote-invoke-project','split','retry','stdoutFormatter','localInstanceId','Close\x20stderr\x20file\x20of\x20proxy\x20container:\x20','Helper\x20function\x20generated\x20by\x20fc-tunnel-invoke\x20component','./utils/utils','protocol','proxyImaggeRegistry','Create\x20session\x20failed.','generateProxyContainerEnv','defineProperty','sent','cloneDeep','trys','fc-remote-invoke','saveHelperFunctionDeployRes','iterator','value','proxyImageName','Proxy\x20container\x20is\x20not\x20running,\x20please\x20run\x20\x27clean\x27\x20method\x20and\x20retry\x20\x27setup\x27\x20method.','credentials','serviceName','registry.','Container:\x20','Error:\x20','service\x20-y','298093MSnTgn','generateSessionName','data','next','fc-deploy','proxyImageRepo','access','isEmpty','Env','php','java','Creating\x20session...','map','length','python2.7','getProxyContainerIdFromState','request','succeed','Starting\x20proxy\x20container...','writeEventToStreamAndClose','Create\x20session\x20result\x20data:\x20','setHelperFunctionProvision','containerId:\x20','ops','tunnerServiceHost','pop','LATEST','getHttpTrigger','unsetKVInState','prototype','./client','0:0','Unsetting\x20helper\x20function\x20config...','deleteSession','genComponentInputs','makeHelperFunction','maxRetryCnt','getSession','label','userCustomDomainConfigList','region','__setModuleDefault','...','Close\x20stdout\x20file\x20of\x20proxy\x20container:\x20','invoke','TUNNEL_SERVICE_HELPER_IMAGE_LATEST_VERSION','@alicloud/tunnel-service20210509','code','unsetProxyContainerId','Session\x20established!','AlicloudClient','713058ILWRrb','getInvokeContainerIdFromState','Unset\x20helper\x20function\x20provision\x20and\x20on-demand\x20config\x20done.','AccountID','lodash','ESTABLISHED','remove\x20helper\x20service','./utils/devs','genHelperServiceConfig','\x20done.','__esModule','On-demand\x20config\x20put\x20result:\x20','./utils/runtime','stdoutFilePath','/on-demand-config','sleep','userTriggerConfigList','v0.1.0','message','forEach','stringify','\x20to\x20make\x20local\x20function\x20run.','spinner','triggers','debug','./component/fc-remote-invoke','debugIde','Session\x20name\x20is\x20:\x20','statusCode','proxyImageVersion','setSigint','helperConfig','instanceConcurrency','62otGVzr','fc-tunnel-invoke','createSession','container','initializer','9DzyWdl','dirname','./errorProcessor','putProvisionConfig','cleanFunctionContainer','saveSession','clean','call','getContainer','body','fcClient','getHelperConfigFromState','session_','SIGINT','userFunctionConfig','streamOfRunner','appName','genHelperFunctionConfig','status','ts-local','14199VmoFde','unsetHelperFunctionConfig','9197LdxVPP','runtimeListNeedSetTsAdjustFLag','warn','python','initializationTimeout','registry.cn-hangzhou.aliyuncs.com','info','runProxyContainer','SESSION-','done','name','Delete\x20error.','Put\x20provision\x20config\x20error:\x20','2vkczKM','queryUntilSessionEstablished','getSessionFromState','\x20failed!\x0aError:\x20','return','./utils/state','caPort','debugPort','AccessKeyID','generateProxyContainerOpts','python3','startsWith','setKVInState','remove','runtime','default','genProxyContainerName','stdoutFileWriteStream','handler','fs-extra','proxyImageStableVersion','Invoking\x20helper\x20service:\x20','Generator\x20is\x20already\x20executing.','TUNNEL_SERVICE_AK_SECRET','DELETE','FcRemoteInvokeComponent','instanceLifecycleConfig','deploy','path','pycharm','setup','Session\x20establish\x20fail,\x20body\x20in\x20response\x20is:\x20','__generator','sessionName','127192UnxyrD','php7.2','proxyContainerId','./definition','current',',\x20functionName:\x20','./utils/stream','nodejs','loadComponent','function','domainName','runner','__importDefault','7nQFWao','warning','generateProxyContainerDebugOpts','session','cache','custom-container','push','33guAsLz','stderrFilePath','homedir','env','./component/stdout-formatter','Helper\x20function\x20is\x20set\x20to\x201\x20provison\x20and\x200\x20elasticity.',',\x20function:\x20','Checking\x20if\x20session\x20is\x20established...','functionName','asyncConfiguration','assign','Fail\x20to\x20set\x20provison\x20and\x20elasticity\x20for\x20helper\x20function.','stderrFileWriteStream','../common/logger','saveProxyContainerId','substring','isCustomContainerRuntime','setHelperFunctionConfig','\x20debug\x20config\x20only\x20support\x20for\x20runtime\x20[python2.7,\x20python3]','FcDeployComponent','invokeHelperFunction','getFcClient','sessionId','checkIfProxyContainerRunning','\x20stdout\x20to:\x20','remoteInstanceId','Stop\x20proxy\x20container:\x20','cacheDirPath','create','./retry','internetAccess','fc-deploy-project','fail','Proxied\x20invoke\x20only\x20support\x20caPort:\x209000\x20for\x20custom-container/custom\x20runtime.Please\x20change\x20it\x20temporarily\x20and\x20retry.','join','apply','genHelperCustomDomainConfig','service','getProvisionConfig','createWriteStream','Tunnel\x20service\x20proxy\x20container\x20options:\x20','promiseRetry'];var a36_0x3ebcfb=a36_0x1f53;(function(_0x2ea653,_0x1953f6){var _0x325765=a36_0x1f53;while(!![]){try{var _0x29bde3=-parseInt(_0x325765(0x118))*parseInt(_0x325765(0x146))+-parseInt(_0x325765(0x1cd))*parseInt(_0x325765(0x1e1))+-parseInt(_0x325765(0x174))*-parseInt(_0x325765(0x1f0))+parseInt(_0x325765(0x1c8))*parseInt(_0x325765(0x1e3))+-parseInt(_0x325765(0x111))*parseInt(_0x325765(0x212))+-parseInt(_0x325765(0x1a7))+-parseInt(_0x325765(0x14c))*-parseInt(_0x325765(0x155));if(_0x29bde3===_0x1953f6)break;else _0x2ea653['push'](_0x2ea653['shift']());}catch(_0x5b6ef6){_0x2ea653['push'](_0x2ea653['shift']());}}}(a36_0xcd41,0x8b07a));var __createBinding=this&&this['__createBinding']||(Object[a36_0x3ebcfb(0x134)]?function(_0x2600da,_0x39523c,_0x3c707a,_0xabeab2){if(_0xabeab2===undefined)_0xabeab2=_0x3c707a;Object['defineProperty'](_0x2600da,_0xabeab2,{'enumerable':!![],'get':function(){return _0x39523c[_0x3c707a];}});}:function(_0x9c38bc,_0x8973c3,_0x58655c,_0x1ed1a9){if(_0x1ed1a9===undefined)_0x1ed1a9=_0x58655c;_0x9c38bc[_0x1ed1a9]=_0x8973c3[_0x58655c];}),__setModuleDefault=this&&this[a36_0x3ebcfb(0x19d)]||(Object[a36_0x3ebcfb(0x134)]?function(_0x1a3621,_0x4883a4){var _0x18d4c6=a36_0x3ebcfb;Object[_0x18d4c6(0x164)](_0x1a3621,_0x18d4c6(0x1ff),{'enumerable':!![],'value':_0x4883a4});}:function(_0x27ce09,_0x2c6b58){_0x27ce09['default']=_0x2c6b58;}),__importStar=this&&this['__importStar']||function(_0x228cc5){var _0x4da382=a36_0x3ebcfb;if(_0x228cc5&&_0x228cc5[_0x4da382(0x1b1)])return _0x228cc5;var _0x958c5c={};if(_0x228cc5!=null){for(var _0x545830 in _0x228cc5)if(_0x545830!==_0x4da382(0x1ff)&&Object['hasOwnProperty']['call'](_0x228cc5,_0x545830))__createBinding(_0x958c5c,_0x228cc5,_0x545830);}return __setModuleDefault(_0x958c5c,_0x228cc5),_0x958c5c;},__awaiter=this&&this['__awaiter']||function(_0x29c3b9,_0x398924,_0xbb25a2,_0x5dddec){function _0xed4c39(_0x35a3ea){return _0x35a3ea instanceof _0xbb25a2?_0x35a3ea:new _0xbb25a2(function(_0x232a26){_0x232a26(_0x35a3ea);});}return new(_0xbb25a2||(_0xbb25a2=Promise))(function(_0x289d14,_0x9b0191){var _0x65674b=a36_0x1f53;function _0x126a6e(_0x186681){var _0x13bcb1=a36_0x1f53;try{_0xe39e64(_0x5dddec[_0x13bcb1(0x177)](_0x186681));}catch(_0x58321e){_0x9b0191(_0x58321e);}}function _0x2f0323(_0x74e816){try{_0xe39e64(_0x5dddec['throw'](_0x74e816));}catch(_0x2a851f){_0x9b0191(_0x2a851f);}}function _0xe39e64(_0x4b9db4){var _0x540b1d=a36_0x1f53;_0x4b9db4[_0x540b1d(0x1ec)]?_0x289d14(_0x4b9db4[_0x540b1d(0x16b)]):_0xed4c39(_0x4b9db4[_0x540b1d(0x16b)])['then'](_0x126a6e,_0x2f0323);}_0xe39e64((_0x5dddec=_0x5dddec[_0x65674b(0x13b)](_0x29c3b9,_0x398924||[]))[_0x65674b(0x177)]());});},__generator=this&&this[a36_0x3ebcfb(0x210)]||function(_0xd0c8aa,_0x2bfea3){var _0x583787=a36_0x3ebcfb,_0x1120f5={'label':0x0,'sent':function(){if(_0x16e767[0x0]&0x1)throw _0x16e767[0x1];return _0x16e767[0x1];},'trys':[],'ops':[]},_0x3f62fb,_0x221631,_0x16e767,_0x5192eb;return _0x5192eb={'next':_0x48e7f1(0x0),'throw':_0x48e7f1(0x1),'return':_0x48e7f1(0x2)},typeof Symbol===_0x583787(0x10d)&&(_0x5192eb[Symbol[_0x583787(0x16a)]]=function(){return this;}),_0x5192eb;function _0x48e7f1(_0x585b65){return function(_0x5238cd){return _0x224cc1([_0x585b65,_0x5238cd]);};}function _0x224cc1(_0x427f85){var _0x4591f1=_0x583787;if(_0x3f62fb)throw new TypeError(_0x4591f1(0x206));while(_0x1120f5)try{if(_0x3f62fb=0x1,_0x221631&&(_0x16e767=_0x427f85[0x0]&0x2?_0x221631[_0x4591f1(0x1f4)]:_0x427f85[0x0]?_0x221631['throw']||((_0x16e767=_0x221631[_0x4591f1(0x1f4)])&&_0x16e767[_0x4591f1(0x1d4)](_0x221631),0x0):_0x221631[_0x4591f1(0x177)])&&!(_0x16e767=_0x16e767[_0x4591f1(0x1d4)](_0x221631,_0x427f85[0x1]))[_0x4591f1(0x1ec)])return _0x16e767;if(_0x221631=0x0,_0x16e767)_0x427f85=[_0x427f85[0x0]&0x2,_0x16e767[_0x4591f1(0x16b)]];switch(_0x427f85[0x0]){case 0x0:case 0x1:_0x16e767=_0x427f85;break;case 0x4:_0x1120f5[_0x4591f1(0x19a)]++;return{'value':_0x427f85[0x1],'done':![]};case 0x5:_0x1120f5[_0x4591f1(0x19a)]++,_0x221631=_0x427f85[0x1],_0x427f85=[0x0];continue;case 0x7:_0x427f85=_0x1120f5[_0x4591f1(0x18b)][_0x4591f1(0x18d)](),_0x1120f5[_0x4591f1(0x167)][_0x4591f1(0x18d)]();continue;default:if(!(_0x16e767=_0x1120f5['trys'],_0x16e767=_0x16e767[_0x4591f1(0x181)]>0x0&&_0x16e767[_0x16e767[_0x4591f1(0x181)]-0x1])&&(_0x427f85[0x0]===0x6||_0x427f85[0x0]===0x2)){_0x1120f5=0x0;continue;}if(_0x427f85[0x0]===0x3&&(!_0x16e767||_0x427f85[0x1]>_0x16e767[0x0]&&_0x427f85[0x1]<_0x16e767[0x3])){_0x1120f5[_0x4591f1(0x19a)]=_0x427f85[0x1];break;}if(_0x427f85[0x0]===0x6&&_0x1120f5[_0x4591f1(0x19a)]<_0x16e767[0x1]){_0x1120f5[_0x4591f1(0x19a)]=_0x16e767[0x1],_0x16e767=_0x427f85;break;}if(_0x16e767&&_0x1120f5[_0x4591f1(0x19a)]<_0x16e767[0x2]){_0x1120f5[_0x4591f1(0x19a)]=_0x16e767[0x2],_0x1120f5[_0x4591f1(0x18b)][_0x4591f1(0x117)](_0x427f85);break;}if(_0x16e767[0x2])_0x1120f5['ops']['pop']();_0x1120f5['trys']['pop']();continue;}_0x427f85=_0x2bfea3[_0x4591f1(0x1d4)](_0xd0c8aa,_0x1120f5);}catch(_0x25f719){_0x427f85=[0x6,_0x25f719],_0x221631=0x0;}finally{_0x3f62fb=_0x16e767=0x0;}if(_0x427f85[0x0]&0x5)throw _0x427f85[0x1];return{'value':_0x427f85[0x0]?_0x427f85[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a36_0x3ebcfb(0x110)]||function(_0x54e05a){return _0x54e05a&&_0x54e05a['__esModule']?_0x54e05a:{'default':_0x54e05a};};Object[a36_0x3ebcfb(0x164)](exports,a36_0x3ebcfb(0x1b1),{'value':!![]});function a36_0x1f53(_0x43e923,_0x3b2294){return a36_0x1f53=function(_0xcd4124,_0x1f53eb){_0xcd4124=_0xcd4124-0x10d;var _0x59bad9=a36_0xcd41[_0xcd4124];return _0x59bad9;},a36_0x1f53(_0x43e923,_0x3b2294);}var logger_1=__importDefault(require(a36_0x3ebcfb(0x125))),core=__importStar(require('@serverless-devs/core')),client_1=require(a36_0x3ebcfb(0x192)),lodash_1=__importDefault(require(a36_0x3ebcfb(0x1ab))),fc_deploy_1=require('./component/fc-deploy'),time_1=require('./utils/time'),docker_1=require('./docker/docker'),nested_object_assign_1=__importDefault(require(a36_0x3ebcfb(0x144))),utils_1=require(a36_0x3ebcfb(0x15f)),path=__importStar(require(a36_0x3ebcfb(0x20c))),os=__importStar(require('os')),fse=__importStar(require(a36_0x3ebcfb(0x203))),tunnel_service20210509_1=require(a36_0x3ebcfb(0x1a2)),tunnel_service20210509_2=__importDefault(require(a36_0x3ebcfb(0x1a2))),definition_1=require(a36_0x3ebcfb(0x215)),process_1=require('./utils/process'),stream_1=require(a36_0x3ebcfb(0x218)),fc_remote_invoke_1=require(a36_0x3ebcfb(0x1c0)),devs_1=require(a36_0x3ebcfb(0x1ae)),dockerode_1=__importDefault(require('dockerode')),runtime_1=require(a36_0x3ebcfb(0x1b3)),stdout_formatter_1=__importDefault(require(a36_0x3ebcfb(0x11c))),errorProcessor_1=require(a36_0x3ebcfb(0x1cf)),retry_1=require(a36_0x3ebcfb(0x135)),state_1=require(a36_0x3ebcfb(0x1f5)),docker=new dockerode_1['default'](),IDE_PYCHARM=a36_0x3ebcfb(0x20d),TunnelService=function(){var _0x41be14=a36_0x3ebcfb;function _0x15b50b(_0x2bf0e4,_0x4ec799,_0x1399da,_0x2007a7,_0x2ffa2d,_0x3c34c8,_0x3383fd,_0x4a5fe9,_0x3840c4,_0x6f4ffa,_0x2c05e3){var _0x1f711a=a36_0x1f53,_0x326085=this,_0x50c836,_0x17bbd7;this[_0x1f711a(0x16e)]=_0x2bf0e4,this[_0x1f711a(0x157)]=_0x4ec799,this[_0x1f711a(0x1db)]=_0x1399da,this[_0x1f711a(0x1b7)]=_0x4a5fe9,this[_0x1f711a(0x19b)]=_0x3840c4,this[_0x1f711a(0x1f7)]=_0x6f4ffa,this['debugIde']=_0x2c05e3,this[_0x1f711a(0x19c)]=_0x2007a7,this[_0x1f711a(0x17a)]=_0x2ffa2d,this[_0x1f711a(0x1dd)]=_0x3c34c8,this[_0x1f711a(0x20c)]=_0x3383fd;var _0x3bfbeb={'accessKeyId':(_0x50c836=this[_0x1f711a(0x16e)])===null||_0x50c836===void 0x0?void 0x0:_0x50c836['AccessKeyID'],'accessKeySecret':(_0x17bbd7=this['credentials'])===null||_0x17bbd7===void 0x0?void 0x0:_0x17bbd7['AccessKeySecret'],'regionId':this[_0x1f711a(0x19c)],'endpoint':_0x15b50b[_0x1f711a(0x18c)]};this[_0x1f711a(0x14b)]=new tunnel_service20210509_2[(_0x1f711a(0x1ff))](_0x3bfbeb),process_1[_0x1f711a(0x1c5)](),process['on'](_0x1f711a(0x1da),function(){return __awaiter(_0x326085,void 0x0,void 0x0,function(){var _0x514047,_0x38ee77,_0x230e29;return __generator(this,function(_0x381662){var _0x528daa=a36_0x1f53;switch(_0x381662[_0x528daa(0x19a)]){case 0x0:this[_0x528daa(0x1dc)]&&stream_1[_0x528daa(0x187)](this[_0x528daa(0x1dc)]);if(!this[_0x528daa(0x10f)])return[0x3,0x3];logger_1[_0x528daa(0x1ff)][_0x528daa(0x1e9)]('Received\x20canncel\x20request,\x20stopping\x20running\x20proxy\x20container.....');return[0x4,docker_1['stopContainer'](this['runner'])];case 0x1:_0x381662['sent']();return[0x4,this['unsetProxyContainerId']()];case 0x2:_0x381662[_0x528daa(0x165)](),_0x381662['label']=0x3;case 0x3:_0x514047=this['genOutputFileOfProxyContainer'](),_0x38ee77=_0x514047[_0x528daa(0x1b4)],_0x230e29=_0x514047[_0x528daa(0x119)];this[_0x528daa(0x201)]&&this[_0x528daa(0x201)][_0x528daa(0x153)](function(_0x2e7f1d){var _0x4b9aae=_0x528daa;_0x2e7f1d&&logger_1['default']['warning'](_0x4b9aae(0x19f)+_0x38ee77+_0x4b9aae(0x1f3)+_0x2e7f1d);});this[_0x528daa(0x124)]&&this[_0x528daa(0x124)][_0x528daa(0x153)](function(_0x20cd4c){var _0x28f987=_0x528daa;_0x20cd4c&&logger_1['default'][_0x28f987(0x112)](_0x28f987(0x15d)+_0x230e29+_0x28f987(0x1f3)+_0x20cd4c);});return[0x2];}});});});}return _0x15b50b[_0x41be14(0x191)][_0x41be14(0x20e)]=function(){var _0x50cd97,_0x207eff;return __awaiter(this,void 0x0,void 0x0,function(){var _0x29c013,_0x585c48,_0x53da40,_0x4e5fca,_0x1793eb,_0x4b518f,_0x4eb150,_0x404c1a,_0x44b5d6=this;return __generator(this,function(_0x4c85c7){var _0xd301c8=a36_0x1f53;switch(_0x4c85c7[_0xd301c8(0x19a)]){case 0x0:if(((_0x50cd97=this[_0xd301c8(0x1db)])===null||_0x50cd97===void 0x0?void 0x0:_0x50cd97[_0xd301c8(0x1f6)])&&((_0x207eff=this[_0xd301c8(0x1db)])===null||_0x207eff===void 0x0?void 0x0:_0x207eff[_0xd301c8(0x1f6)])!==0x2328)throw new Error(_0xd301c8(0x139));_0x29c013=new client_1['AlicloudClient'](this[_0xd301c8(0x16e)]),_0x585c48=this;return[0x4,_0x29c013[_0xd301c8(0x12d)](this[_0xd301c8(0x19c)])];case 0x1:_0x585c48['fcClient']=_0x4c85c7[_0xd301c8(0x165)](),_0x53da40=core['spinner'](_0xd301c8(0x17f)),_0x4c85c7[_0xd301c8(0x19a)]=0x2;case 0x2:_0x4c85c7[_0xd301c8(0x167)][_0xd301c8(0x117)]([0x2,0x4,,0x5]);return[0x4,retry_1[_0xd301c8(0x141)](function(_0x4e657e,_0x30373c){return __awaiter(_0x44b5d6,void 0x0,void 0x0,function(){var _0x10fd73,_0x56a50d;return __generator(this,function(_0x415381){var _0x47354d=a36_0x1f53;switch(_0x415381[_0x47354d(0x19a)]){case 0x0:_0x415381[_0x47354d(0x167)][_0x47354d(0x117)]([0x0,0x3,,0x4]),_0x10fd73=this;return[0x4,this[_0x47354d(0x1ca)]()];case 0x1:_0x10fd73['session']=_0x415381[_0x47354d(0x165)](),_0x53da40[_0x47354d(0x185)](_0x47354d(0x150)+this[_0x47354d(0x114)][_0x47354d(0x12e)]+'.');return[0x4,this[_0x47354d(0x1d2)]()];case 0x2:_0x415381['sent']();return[0x2];case 0x3:_0x56a50d=_0x415381[_0x47354d(0x165)]();if(_0x56a50d[_0x47354d(0x1a3)]==='AccessDenied')throw _0x56a50d;logger_1[_0x47354d(0x1ff)]['debug']('Create\x20session\x20failed,\x20error\x20is:\x20\x0a'+_0x56a50d),logger_1['default']['info'](stdout_formatter_1[_0x47354d(0x1ff)]['stdoutFormatter'][_0x47354d(0x15a)]('session','create','',_0x30373c)),_0x4e657e(_0x56a50d);return[0x3,0x4];case 0x4:return[0x2];}});});})];case 0x3:_0x4c85c7[_0xd301c8(0x165)]();return[0x3,0x5];case 0x4:_0x4e5fca=_0x4c85c7[_0xd301c8(0x165)](),_0x53da40[_0xd301c8(0x138)](_0xd301c8(0x162));throw _0x4e5fca;case 0x5:logger_1['default']['info']('Deploying\x20helper\x20function...');return[0x4,this[_0xd301c8(0x197)]()];case 0x6:_0x4c85c7[_0xd301c8(0x165)](),_0x1793eb=core['spinner'](_0xd301c8(0x186)),_0x4c85c7['label']=0x7;case 0x7:_0x4c85c7[_0xd301c8(0x167)][_0xd301c8(0x117)]([0x7,0x9,,0xa]);return[0x4,this[_0xd301c8(0x1ea)]()];case 0x8:_0x4c85c7['sent'](),_0x1793eb['succeed']('Proxy\x20container\x20is\x20running.');return[0x3,0xa];case 0x9:_0x4b518f=_0x4c85c7[_0xd301c8(0x165)](),_0x1793eb[_0xd301c8(0x138)]('Start\x20proxy\x20container\x20failed.');throw _0x4b518f;case 0xa:_0x4eb150=core[_0xd301c8(0x1bd)](_0xd301c8(0x11f)),_0x4c85c7[_0xd301c8(0x19a)]=0xb;case 0xb:_0x4c85c7[_0xd301c8(0x167)]['push']([0xb,0xd,,0xe]);return[0x4,this[_0xd301c8(0x1f1)]()];case 0xc:_0x4c85c7['sent'](),_0x4eb150['succeed'](_0xd301c8(0x1a5));return[0x3,0xe];case 0xd:_0x404c1a=_0x4c85c7[_0xd301c8(0x165)](),_0x4eb150[_0xd301c8(0x138)]('Session\x20establish\x20fail.');throw _0x404c1a;case 0xe:return[0x2];}});});},_0x15b50b[_0x41be14(0x191)]['generateSessionName']=function(){var _0x1443b5=_0x41be14;return _0x1443b5(0x1d9)+this[_0x1443b5(0x19c)]+'_'+this[_0x1443b5(0x157)]['name'];},_0x15b50b['prototype'][_0x41be14(0x1d1)]=function(){var _0x115697,_0x17a188,_0x545deb,_0x35e6aa,_0x493a42,_0xeaf64f;return __awaiter(this,void 0x0,void 0x0,function(){var _0x1cca40,_0x225bbc;return __generator(this,function(_0x3ebbf1){var _0x1bbf9e=a36_0x1f53;switch(_0x3ebbf1[_0x1bbf9e(0x19a)]){case 0x0:return[0x4,state_1[_0x1bbf9e(0x1a8)]((_0x115697=this[_0x1bbf9e(0x16e)])===null||_0x115697===void 0x0?void 0x0:_0x115697['AccountID'],this[_0x1bbf9e(0x19c)],(_0x17a188=this['userServiceConfig'])===null||_0x17a188===void 0x0?void 0x0:_0x17a188[_0x1bbf9e(0x1ed)],(_0x545deb=this['userFunctionConfig'])===null||_0x545deb===void 0x0?void 0x0:_0x545deb['name'])];case 0x1:_0x1cca40=_0x3ebbf1[_0x1bbf9e(0x165)]();return[0x4,docker[_0x1bbf9e(0x1d5)](_0x1cca40)];case 0x2:_0x225bbc=_0x3ebbf1[_0x1bbf9e(0x165)]();return[0x4,docker_1['stopContainer'](_0x225bbc)];case 0x3:_0x3ebbf1[_0x1bbf9e(0x165)]();return[0x4,state_1['unsetInvokeContainerId']((_0x35e6aa=this['credentials'])===null||_0x35e6aa===void 0x0?void 0x0:_0x35e6aa[_0x1bbf9e(0x1aa)],this[_0x1bbf9e(0x19c)],(_0x493a42=this[_0x1bbf9e(0x157)])===null||_0x493a42===void 0x0?void 0x0:_0x493a42[_0x1bbf9e(0x1ed)],(_0xeaf64f=this['userFunctionConfig'])===null||_0xeaf64f===void 0x0?void 0x0:_0xeaf64f[_0x1bbf9e(0x1ed)])];case 0x4:_0x3ebbf1['sent']();return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1ca)]=function(){var _0x19921c;return __awaiter(this,void 0x0,void 0x0,function(){var _0x14a8b9,_0x33a555,_0x163877,_0x854f5e;return __generator(this,function(_0x1de17f){var _0x4a69a5=a36_0x1f53;switch(_0x1de17f[_0x4a69a5(0x19a)]){case 0x0:_0x14a8b9=this[_0x4a69a5(0x175)](),_0x33a555=new tunnel_service20210509_1['CreateSessionRequest']({'sessionName':_0x14a8b9}),logger_1[_0x4a69a5(0x1ff)][_0x4a69a5(0x1bf)](_0x4a69a5(0x1c2)+_0x14a8b9);return[0x4,this['client'][_0x4a69a5(0x1ca)](_0x33a555)];case 0x1:_0x163877=_0x1de17f[_0x4a69a5(0x165)](),_0x854f5e=(_0x19921c=_0x163877===null||_0x163877===void 0x0?void 0x0:_0x163877[_0x4a69a5(0x1d6)])===null||_0x19921c===void 0x0?void 0x0:_0x19921c[_0x4a69a5(0x176)],logger_1['default'][_0x4a69a5(0x1bf)](_0x4a69a5(0x188)+JSON['stringify'](_0x854f5e,null,'\x20\x20'));return[0x2,{'name':_0x854f5e===null||_0x854f5e===void 0x0?void 0x0:_0x854f5e[_0x4a69a5(0x211)],'sessionId':_0x854f5e===null||_0x854f5e===void 0x0?void 0x0:_0x854f5e['sessionId'],'localInstanceId':_0x854f5e===null||_0x854f5e===void 0x0?void 0x0:_0x854f5e[_0x4a69a5(0x15c)],'remoteInstanceId':_0x854f5e===null||_0x854f5e===void 0x0?void 0x0:_0x854f5e[_0x4a69a5(0x131)]}];}});});},_0x15b50b['prototype']['deleteSession']=function(_0x63059a){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1835f5,_0x3876f4;return __generator(this,function(_0x690789){var _0x87515b=a36_0x1f53;switch(_0x690789[_0x87515b(0x19a)]){case 0x0:return[0x4,this[_0x87515b(0x14b)][_0x87515b(0x195)](_0x63059a)];case 0x1:_0x1835f5=_0x690789[_0x87515b(0x165)](),_0x3876f4=_0x1835f5===null||_0x1835f5===void 0x0?void 0x0:_0x1835f5['body'],logger_1[_0x87515b(0x1ff)][_0x87515b(0x1bf)]('Delete\x20session\x20body:\x20'+JSON[_0x87515b(0x1bb)](_0x3876f4,null,'\x20\x20'));return[0x2];}});});},_0x15b50b['prototype'][_0x41be14(0x1af)]=function(){var _0xff047=_0x41be14,_0x25d379,_0x1e36df=lodash_1[_0xff047(0x1ff)][_0xff047(0x166)](this[_0xff047(0x157)]);return _0x1e36df[_0xff047(0x1ed)]=_0xff047(0x1eb)+((_0x25d379=this[_0xff047(0x114)])===null||_0x25d379===void 0x0?void 0x0:_0x25d379[_0xff047(0x12e)][_0xff047(0x127)](0x0,0x7)),_0x1e36df[_0xff047(0x136)]=!![],definition_1['isAutoConfig'](_0x1e36df===null||_0x1e36df===void 0x0?void 0x0:_0x1e36df[_0xff047(0x149)])&&delete _0x1e36df[_0xff047(0x149)],_0x1e36df;},_0x15b50b['prototype'][_0x41be14(0x1de)]=function(){var _0x345609=_0x41be14,_0x49bb11=this,_0x3f9bfb,_0x40c63d,_0x43e6dd,_0x2b8624,_0x168998,_0xc64024,_0x241ff4,_0x4d7545,_0x25515a,_0x320a9d,_0x1edcaf,_0x222ada,_0x66e4b9,_0x46e979,_0x179ac8,_0xfcd9f3,_0x2e9db2={'name':(_0x3f9bfb=this[_0x345609(0x1db)])===null||_0x3f9bfb===void 0x0?void 0x0:_0x3f9bfb[_0x345609(0x1ed)],'description':_0x345609(0x15e),'runtime':_0x345609(0x116),'handler':(_0x40c63d=this[_0x345609(0x1db)])===null||_0x40c63d===void 0x0?void 0x0:_0x40c63d[_0x345609(0x202)],'timeout':0x258,'memorySize':0x200,'customContainerConfig':{'image':_0x345609(0x170)+this[_0x345609(0x19c)]+'.aliyuncs.com/aliyunfc/ts-remote:'+_0x15b50b['helperImageVersion']},'environmentVariables':{'TUNNEL_SERVICE_HOST':_0x15b50b[_0x345609(0x18c)],'TUNNEL_SERVICE_INSTANCE_ID':(_0x43e6dd=this[_0x345609(0x114)])===null||_0x43e6dd===void 0x0?void 0x0:_0x43e6dd[_0x345609(0x131)],'TUNNEL_SERVICE_SESSION_ID':(_0x2b8624=this[_0x345609(0x114)])===null||_0x2b8624===void 0x0?void 0x0:_0x2b8624[_0x345609(0x12e)],'TUNNEL_SERVICE_AK_ID':(_0x168998=this[_0x345609(0x16e)])===null||_0x168998===void 0x0?void 0x0:_0x168998['AccessKeyID'],'TUNNEL_SERVICE_AK_SECRET':(_0xc64024=this[_0x345609(0x16e)])===null||_0xc64024===void 0x0?void 0x0:_0xc64024['AccessKeySecret']}};return!lodash_1[_0x345609(0x1ff)][_0x345609(0x17b)](definition_1[_0x345609(0x18f)](this[_0x345609(0x1b7)]))&&_0x15b50b[_0x345609(0x1e4)][_0x345609(0x1ba)](function(_0x5790d6){var _0x133c8f=_0x345609,_0x52b0d3;((_0x52b0d3=_0x49bb11[_0x133c8f(0x1db)])===null||_0x52b0d3===void 0x0?void 0x0:_0x52b0d3[_0x133c8f(0x1fe)]['indexOf'](_0x5790d6))!==-0x1&&Object[_0x133c8f(0x122)](_0x2e9db2[_0x133c8f(0x148)],{'TS_DEBUG_HTTP_TRIGGER_ADJUST':!![]});}),((_0x241ff4=this[_0x345609(0x1db)])===null||_0x241ff4===void 0x0?void 0x0:_0x241ff4[_0x345609(0x1e7)])&&((_0x4d7545=this[_0x345609(0x1db)])===null||_0x4d7545===void 0x0?void 0x0:_0x4d7545[_0x345609(0x1cc)])&&Object[_0x345609(0x122)](_0x2e9db2,{'initializationTimeout':(_0x25515a=this[_0x345609(0x1db)])===null||_0x25515a===void 0x0?void 0x0:_0x25515a[_0x345609(0x1e7)],'initializer':(_0x320a9d=this[_0x345609(0x1db)])===null||_0x320a9d===void 0x0?void 0x0:_0x320a9d['initializer']}),((_0x1edcaf=this[_0x345609(0x1db)])===null||_0x1edcaf===void 0x0?void 0x0:_0x1edcaf['instanceLifecycleConfig'])&&Object[_0x345609(0x122)](_0x2e9db2,{'instanceLifecycleConfig':(_0x222ada=this[_0x345609(0x1db)])===null||_0x222ada===void 0x0?void 0x0:_0x222ada[_0x345609(0x20a)]}),((_0x66e4b9=this['userFunctionConfig'])===null||_0x66e4b9===void 0x0?void 0x0:_0x66e4b9[_0x345609(0x1c7)])&&Object['assign'](_0x2e9db2,{'instanceConcurrency':(_0x46e979=this[_0x345609(0x1db)])===null||_0x46e979===void 0x0?void 0x0:_0x46e979[_0x345609(0x1c7)]}),((_0x179ac8=this[_0x345609(0x1db)])===null||_0x179ac8===void 0x0?void 0x0:_0x179ac8[_0x345609(0x121)])&&Object[_0x345609(0x122)](_0x2e9db2,{'asyncConfiguration':(_0xfcd9f3=this[_0x345609(0x1db)])===null||_0xfcd9f3===void 0x0?void 0x0:_0xfcd9f3['asyncConfiguration']}),_0x2e9db2;},_0x15b50b[_0x41be14(0x191)]['genHelperCustomDomainConfig']=function(){var _0x50f4b1=_0x41be14,_0x254767=this;if(lodash_1[_0x50f4b1(0x1ff)][_0x50f4b1(0x17b)](this[_0x50f4b1(0x19b)]))return[];var _0x520d58=[];for(var _0x3a025b=0x0,_0x2529b5=this[_0x50f4b1(0x19b)];_0x3a025b<_0x2529b5['length'];_0x3a025b++){var _0x50976f=_0x2529b5[_0x3a025b],_0x5ee457=_0x50976f===null||_0x50976f===void 0x0?void 0x0:_0x50976f['routeConfigs'][_0x50f4b1(0x180)](function(_0x494353){var _0x213a9f=_0x50f4b1,_0x4c3947,_0x3941e2;if((_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x16f)])&&(_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x16f)])===((_0x4c3947=_0x254767[_0x213a9f(0x157)])===null||_0x4c3947===void 0x0?void 0x0:_0x4c3947[_0x213a9f(0x1ed)])&&(_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x120)])&&(_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x120)])===((_0x3941e2=_0x254767[_0x213a9f(0x1db)])===null||_0x3941e2===void 0x0?void 0x0:_0x3941e2[_0x213a9f(0x1ed)])){var _0x24bd53=lodash_1[_0x213a9f(0x1ff)][_0x213a9f(0x166)](_0x494353);return _0x24bd53===null||_0x24bd53===void 0x0?!![]:delete _0x24bd53[_0x213a9f(0x16f)],_0x24bd53===null||_0x24bd53===void 0x0?!![]:delete _0x24bd53['functionName'],_0x24bd53;}if(!(_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x16f)])&&!(_0x494353===null||_0x494353===void 0x0?void 0x0:_0x494353[_0x213a9f(0x120)]))return _0x494353;}),_0x3180d4={'domainName':_0x50976f===null||_0x50976f===void 0x0?void 0x0:_0x50976f[_0x50f4b1(0x10e)],'protocol':_0x50976f===null||_0x50976f===void 0x0?void 0x0:_0x50976f[_0x50f4b1(0x160)],'routeConfigs':_0x5ee457[_0x50f4b1(0x142)](function(_0x1d5f13){return _0x1d5f13;})};(_0x50976f===null||_0x50976f===void 0x0?void 0x0:_0x50976f['certConfig'])&&Object[_0x50f4b1(0x122)](_0x3180d4,{'certConfig':_0x3180d4===null||_0x3180d4===void 0x0?void 0x0:_0x3180d4['certConfig']}),_0x520d58[_0x50f4b1(0x117)](_0x3180d4);}return _0x520d58;},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x197)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x498d98,_0x128615,_0x381258,_0x5d4353,_0x4ae34d,_0x32a85b,_0x448b9a,_0x129e51,_0xd35318,_0x49b8f5,_0xddc753;return __generator(this,function(_0x464538){var _0x2c91a2=a36_0x1f53;switch(_0x464538[_0x2c91a2(0x19a)]){case 0x0:_0x498d98=this['genHelperServiceConfig'](),_0x128615=this[_0x2c91a2(0x1de)](),_0x381258=this[_0x2c91a2(0x1b7)],_0x5d4353=this[_0x2c91a2(0x13c)](),_0x4ae34d=new fc_deploy_1[(_0x2c91a2(0x12b))](this['region'],_0x498d98,this[_0x2c91a2(0x17a)],this[_0x2c91a2(0x1dd)],this[_0x2c91a2(0x20c)],_0x128615,_0x381258,_0x5d4353),_0x32a85b=_0x4ae34d['genComponentInputs']('fc-deploy',_0x2c91a2(0x137),'--use-local',_0x2c91a2(0x20b));return[0x4,core[_0x2c91a2(0x21a)](_0x2c91a2(0x152))];case 0x1:_0x448b9a=_0x464538[_0x2c91a2(0x165)](),_0x464538[_0x2c91a2(0x19a)]=0x2;case 0x2:_0x464538[_0x2c91a2(0x167)][_0x2c91a2(0x117)]([0x2,0x9,,0xb]);return[0x4,_0x448b9a[_0x2c91a2(0x20b)](_0x32a85b)];case 0x3:_0x129e51=_0x464538['sent']();return[0x4,this[_0x2c91a2(0x169)](_0x129e51)];case 0x4:_0x464538[_0x2c91a2(0x165)](),_0xd35318=core[_0x2c91a2(0x1bd)](_0x2c91a2(0x156)),_0x464538[_0x2c91a2(0x19a)]=0x5;case 0x5:_0x464538['trys'][_0x2c91a2(0x117)]([0x5,0x7,,0x8]);return[0x4,this[_0x2c91a2(0x129)](_0x498d98['name'],_0x128615[_0x2c91a2(0x1ed)])];case 0x6:_0x464538[_0x2c91a2(0x165)](),_0xd35318[_0x2c91a2(0x185)](_0x2c91a2(0x11d));return[0x3,0x8];case 0x7:_0x49b8f5=_0x464538[_0x2c91a2(0x165)](),_0xd35318[_0x2c91a2(0x138)](_0x2c91a2(0x123));throw _0x49b8f5;case 0x8:return[0x3,0xb];case 0x9:_0xddc753=_0x464538['sent']();return[0x4,_0x448b9a[_0x2c91a2(0x1fd)](_0x32a85b)];case 0xa:_0x464538[_0x2c91a2(0x165)](),errorProcessor_1['processMakeHelperFunctionErr'](_0xddc753);return[0x3,0xb];case 0xb:return[0x2];}});});},_0x15b50b[_0x41be14(0x191)]['saveHelperFunctionDeployRes']=function(_0x44f03c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x57dd86){var _0x4a81d4=a36_0x1f53;switch(_0x57dd86[_0x4a81d4(0x19a)]){case 0x0:return[0x4,devs_1[_0x4a81d4(0x1fc)](_0x4a81d4(0x1c6),_0x44f03c,this[_0x4a81d4(0x143)]())];case 0x1:_0x57dd86[_0x4a81d4(0x165)]();return[0x2];}});});},_0x15b50b['prototype'][_0x41be14(0x1d2)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0xd4f185){var _0x1ee9cf=a36_0x1f53;switch(_0xd4f185['label']){case 0x0:return[0x4,devs_1['setKVInState'](_0x1ee9cf(0x114),this[_0x1ee9cf(0x114)],this[_0x1ee9cf(0x143)]())];case 0x1:_0xd4f185[_0x1ee9cf(0x165)]();return[0x2];}});});},_0x15b50b['prototype']['genStateId']=function(){var _0x551a66=_0x41be14,_0x1a92ed,_0x1a601f;return this[_0x551a66(0x16e)][_0x551a66(0x1aa)]+'-'+this[_0x551a66(0x19c)]+'-'+((_0x1a92ed=this[_0x551a66(0x157)])===null||_0x1a92ed===void 0x0?void 0x0:_0x1a92ed[_0x551a66(0x1ed)])+'-'+((_0x1a601f=this[_0x551a66(0x1db)])===null||_0x1a601f===void 0x0?void 0x0:_0x1a601f[_0x551a66(0x1ed)]);},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x189)]=function(_0x42b3dd,_0x4a6fc9,_0x158b14,_0x2d2368){var _0x4f2386,_0x4f1aa2;return __awaiter(this,void 0x0,void 0x0,function(){var _0x1928e8,_0x2d2748,_0x1cd80d,_0x19aad1,_0x39d67d,_0x457032;return __generator(this,function(_0x37f52a){var _0x1e781b=a36_0x1f53;switch(_0x37f52a[_0x1e781b(0x19a)]){case 0x0:_0x1928e8=_0x2d2368||_0x1e781b(0x18e);if(!!this[_0x1e781b(0x1d7)])return[0x3,0x2];_0x2d2748=new client_1['AlicloudClient'](this['credentials']),_0x1cd80d=this;return[0x4,_0x2d2748[_0x1e781b(0x12d)](this[_0x1e781b(0x19c)])];case 0x1:_0x1cd80d[_0x1e781b(0x1d7)]=_0x37f52a[_0x1e781b(0x165)](),_0x37f52a['label']=0x2;case 0x2:_0x37f52a[_0x1e781b(0x167)][_0x1e781b(0x117)]([0x2,0x4,,0x5]);return[0x4,this[_0x1e781b(0x1d7)][_0x1e781b(0x1d0)](_0x42b3dd,_0x4a6fc9,_0x1928e8,{'target':_0x158b14})];case 0x3:_0x37f52a['sent']();return[0x3,0x5];case 0x4:_0x19aad1=_0x37f52a['sent']();throw new Error(_0x1e781b(0x1ef)+_0x19aad1+',\x20please\x20make\x20sure\x20that\x20your\x20account\x20has\x20updateService\x20permission.');case 0x5:return[0x4,this[_0x1e781b(0x1d7)][_0x1e781b(0x13e)](_0x42b3dd,_0x4a6fc9,_0x1928e8)];case 0x6:_0x39d67d=_0x37f52a['sent'](),_0x457032=0x0,_0x37f52a['label']=0x7;case 0x7:if(!(((_0x4f2386=_0x39d67d===null||_0x39d67d===void 0x0?void 0x0:_0x39d67d[_0x1e781b(0x176)])===null||_0x4f2386===void 0x0?void 0x0:_0x4f2386[_0x1e781b(0x216)])!==0x1&&_0x457032<=_0x15b50b[_0x1e781b(0x198)]))return[0x3,0xa];return[0x4,this[_0x1e781b(0x1d7)][_0x1e781b(0x13e)](_0x42b3dd,_0x4a6fc9,_0x1928e8)];case 0x8:_0x39d67d=_0x37f52a[_0x1e781b(0x165)](),_0x457032=_0x457032+0x1,logger_1[_0x1e781b(0x1ff)][_0x1e781b(0x1bf)]('Retry\x20setting\x20provision\x20'+_0x457032+'\x20times.');return[0x4,time_1[_0x1e781b(0x1b6)](0xbb8)];case 0x9:_0x37f52a[_0x1e781b(0x165)]();return[0x3,0x7];case 0xa:if(((_0x4f1aa2=_0x39d67d===null||_0x39d67d===void 0x0?void 0x0:_0x39d67d[_0x1e781b(0x176)])===null||_0x4f1aa2===void 0x0?void 0x0:_0x4f1aa2[_0x1e781b(0x216)])!==0x1){logger_1[_0x1e781b(0x1ff)][_0x1e781b(0x1bf)](JSON[_0x1e781b(0x1bb)](_0x39d67d,null,'\x20\x20'));throw new Error('Set/get\x20provision\x20of\x20helper\x20function\x20error.Please\x20make\x20sure\x20you\x20have\x20the\x20related\x20ram\x20permission.');}logger_1['default'][_0x1e781b(0x1bf)]('Set\x20provision\x20result:\x20'+JSON[_0x1e781b(0x1bb)](_0x39d67d===null||_0x39d67d===void 0x0?void 0x0:_0x39d67d[_0x1e781b(0x176)]));return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1e2)]=function(_0x4f603c,_0x1e320c,_0x56f792){return __awaiter(this,void 0x0,void 0x0,function(){var _0x301b2d,_0x308b76,_0x54a3e5,_0x21a11e,_0x42975b;return __generator(this,function(_0x2fad37){var _0x112615=a36_0x1f53;switch(_0x2fad37[_0x112615(0x19a)]){case 0x0:return[0x4,this[_0x112615(0x189)](_0x4f603c,_0x1e320c,0x0,_0x56f792)];case 0x1:_0x2fad37[_0x112615(0x165)](),_0x301b2d=_0x112615(0x208),_0x308b76=_0x112615(0x151)+_0x4f603c+'.'+_0x56f792+'/functions/'+_0x1e320c+_0x112615(0x1b5);if(!!this[_0x112615(0x14b)])return[0x3,0x3];_0x54a3e5=new client_1[(_0x112615(0x1a6))](this[_0x112615(0x16e)]),_0x21a11e=this;return[0x4,_0x54a3e5[_0x112615(0x12d)](this[_0x112615(0x19c)])];case 0x2:_0x21a11e[_0x112615(0x1d7)]=_0x2fad37[_0x112615(0x165)](),_0x2fad37[_0x112615(0x19a)]=0x3;case 0x3:return[0x4,this[_0x112615(0x1d7)][_0x112615(0x184)](_0x301b2d,_0x308b76,null,JSON['stringify']({}))];case 0x4:_0x42975b=_0x2fad37[_0x112615(0x165)](),logger_1[_0x112615(0x1ff)][_0x112615(0x1bf)]('On-demand\x20config\x20delete\x20result:\x20'+(_0x42975b===null||_0x42975b===void 0x0?void 0x0:_0x42975b[_0x112615(0x1c3)]));return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x129)]=function(_0x39ba7b,_0x43e7b0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3db8b6,_0x4f1dae,_0x3061fb,_0x1a30ce,_0x1468c9,_0x467236;return __generator(this,function(_0x4ca606){var _0x328e83=a36_0x1f53;switch(_0x4ca606[_0x328e83(0x19a)]){case 0x0:_0x3db8b6='LATEST';return[0x4,this[_0x328e83(0x189)](_0x39ba7b,_0x43e7b0,0x1,_0x3db8b6)];case 0x1:_0x4ca606[_0x328e83(0x165)](),_0x4f1dae='PUT',_0x3061fb=_0x328e83(0x151)+_0x39ba7b+'.'+_0x3db8b6+'/functions/'+_0x43e7b0+'/on-demand-config';if(!!this[_0x328e83(0x1d7)])return[0x3,0x3];_0x1a30ce=new client_1[(_0x328e83(0x1a6))](this[_0x328e83(0x16e)]),_0x1468c9=this;return[0x4,_0x1a30ce[_0x328e83(0x12d)](this['region'])];case 0x2:_0x1468c9[_0x328e83(0x1d7)]=_0x4ca606['sent'](),_0x4ca606['label']=0x3;case 0x3:return[0x4,this[_0x328e83(0x1d7)][_0x328e83(0x184)](_0x4f1dae,_0x3061fb,null,JSON[_0x328e83(0x1bb)]({'maximumInstanceCount':0x0}))];case 0x4:_0x467236=_0x4ca606[_0x328e83(0x165)](),logger_1[_0x328e83(0x1ff)][_0x328e83(0x1bf)](_0x328e83(0x1b2)+(_0x467236===null||_0x467236===void 0x0?void 0x0:_0x467236[_0x328e83(0x1c3)]));return[0x2];}});});},_0x15b50b[_0x41be14(0x191)]['genOutputFileOfProxyContainer']=function(){var _0x2a54f9=_0x41be14,_0x82920f;if(!lodash_1[_0x2a54f9(0x1ff)][_0x2a54f9(0x17b)](this[_0x2a54f9(0x114)])){var _0x524ebc=path[_0x2a54f9(0x13a)](_0x15b50b[_0x2a54f9(0x133)],(_0x82920f=this[_0x2a54f9(0x114)])===null||_0x82920f===void 0x0?void 0x0:_0x82920f[_0x2a54f9(0x12e)]),_0x3b735c=path[_0x2a54f9(0x13a)](_0x524ebc,'stdout.log'),_0x516889=path[_0x2a54f9(0x13a)](_0x524ebc,'stderr.log');return{'stdoutFilePath':_0x3b735c,'stderrFilePath':_0x516889};}return{};},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1ea)]=function(){var _0x2361e6;return __awaiter(this,void 0x0,void 0x0,function(){var _0x41a366,_0x4b191e,_0x3dcd28,_0x1b8196,_0x576b9e;return __generator(this,function(_0x121cc7){var _0x4844fc=a36_0x1f53;switch(_0x121cc7[_0x4844fc(0x19a)]){case 0x0:return[0x4,docker_1[_0x4844fc(0x14e)](_0x15b50b[_0x4844fc(0x161)],_0x15b50b[_0x4844fc(0x179)],_0x15b50b['proxyImageName'],_0x15b50b[_0x4844fc(0x1c4)])];case 0x1:_0x121cc7[_0x4844fc(0x165)](),_0x41a366=this[_0x4844fc(0x1f9)](),(_0x4b191e=this['genOutputFileOfProxyContainer'](),_0x3dcd28=_0x4b191e[_0x4844fc(0x1b4)],_0x1b8196=_0x4b191e[_0x4844fc(0x119)]);return[0x4,fse[_0x4844fc(0x147)](path[_0x4844fc(0x1ce)](_0x3dcd28))];case 0x2:_0x121cc7['sent'](),logger_1[_0x4844fc(0x1ff)]['debug'](_0x4844fc(0x171)+(_0x41a366===null||_0x41a366===void 0x0?void 0x0:_0x41a366['name'])+_0x4844fc(0x130)+_0x3dcd28+',\x20stderr\x20to:\x20'+_0x1b8196),this[_0x4844fc(0x201)]=fse[_0x4844fc(0x13f)](_0x3dcd28,{'flag':'w+','encoding':_0x4844fc(0x14f),'autoClose':!![]}),this[_0x4844fc(0x124)]=fse[_0x4844fc(0x13f)](_0x1b8196,{'flag':'w+','encoding':_0x4844fc(0x14f),'autoClose':!![]});return[0x4,docker_1['runContainer'](_0x41a366,this[_0x4844fc(0x201)],this['stderrFileWriteStream'])];case 0x3:_0x576b9e=_0x121cc7['sent'](),this[_0x4844fc(0x1dc)]=_0x576b9e===null||_0x576b9e===void 0x0?void 0x0:_0x576b9e[_0x4844fc(0x154)],this['runner']=_0x576b9e===null||_0x576b9e===void 0x0?void 0x0:_0x576b9e[_0x4844fc(0x1cb)];return[0x4,this[_0x4844fc(0x126)]((_0x2361e6=this[_0x4844fc(0x10f)])===null||_0x2361e6===void 0x0?void 0x0:_0x2361e6['id'])];case 0x4:_0x121cc7[_0x4844fc(0x165)]();return[0x2];}});});},_0x15b50b[_0x41be14(0x191)]['saveProxyContainerId']=function(_0x454e16){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x5e3479){var _0x394948=a36_0x1f53;switch(_0x5e3479['label']){case 0x0:return[0x4,devs_1[_0x394948(0x1fc)](_0x394948(0x214),_0x454e16,this[_0x394948(0x143)]())];case 0x1:_0x5e3479['sent']();return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1a4)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x53572b){var _0x95c1c9=a36_0x1f53;switch(_0x53572b[_0x95c1c9(0x19a)]){case 0x0:return[0x4,devs_1[_0x95c1c9(0x190)]('proxyContainerId',this[_0x95c1c9(0x143)]())];case 0x1:_0x53572b['sent']();return[0x2];}});});},_0x15b50b['prototype'][_0x41be14(0x113)]=function(){var _0x17008e=_0x41be14,_0x12e05e,_0x1d4e68,_0x2d492a,_0x1db003=(_0x2d492a=this[_0x17008e(0x1db)])===null||_0x2d492a===void 0x0?void 0x0:_0x2d492a[_0x17008e(0x1fe)];if(runtime_1[_0x17008e(0x128)](_0x1db003))return{};var _0x4ae309=this[_0x17008e(0x1f7)]+'/tcp';if(this[_0x17008e(0x1c1)]===IDE_PYCHARM){if(_0x1db003!==_0x17008e(0x182)&&_0x1db003!==_0x17008e(0x1fa))throw new Error(IDE_PYCHARM+_0x17008e(0x12a));else return{};}else return _0x1db003===_0x17008e(0x213)?{}:{'ExposedPorts':(_0x12e05e={},_0x12e05e[_0x4ae309]={},_0x12e05e),'HostConfig':{'PortBindings':(_0x1d4e68={},_0x1d4e68[_0x4ae309]=[{'HostIp':'','HostPort':''+this[_0x17008e(0x1f7)]}],_0x1d4e68)}};},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1f9)]=function(){var _0x1e7ba5=_0x41be14,_0x452668,_0x303868=_0x15b50b['proxyImaggeRegistry']+'/'+_0x15b50b['proxyImageRepo']+'/'+_0x15b50b[_0x1e7ba5(0x16c)]+':'+_0x15b50b['proxyImageVersion'],_0x3d21a8=definition_1[_0x1e7ba5(0x200)]((_0x452668=this['session'])===null||_0x452668===void 0x0?void 0x0:_0x452668['sessionId']),_0x912fd={'OpenStdin':![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x33b5d2={'HostConfig':{'AutoRemove':!![],'Privileged':!![],'Mounts':[]}},_0x39ab44={};this[_0x1e7ba5(0x1f7)]&&(_0x39ab44=this[_0x1e7ba5(0x113)]());var _0x401aaa=nested_object_assign_1[_0x1e7ba5(0x1ff)]({'Env':this[_0x1e7ba5(0x163)](),'Image':_0x303868,'name':_0x3d21a8,'User':_0x1e7ba5(0x193)},_0x912fd,_0x33b5d2,_0x39ab44),_0x219bd4=lodash_1[_0x1e7ba5(0x1ff)][_0x1e7ba5(0x166)](_0x401aaa);if(_0x219bd4===null||_0x219bd4===void 0x0?void 0x0:_0x219bd4[_0x1e7ba5(0x17c)]){var _0x5b718e=_0x219bd4['Env'][_0x1e7ba5(0x180)](function(_0x89248a){var _0x2c6ed5=_0x1e7ba5;if(_0x89248a[_0x2c6ed5(0x1fb)]('TUNNEL_SERVICE_AK_ID')||_0x89248a['startsWith'](_0x2c6ed5(0x207))){var _0xe0a5af=_0x89248a[_0x2c6ed5(0x159)]('='),_0x5123e3=utils_1['mark'](_0xe0a5af[0x1]);return _0xe0a5af[0x0]+'='+_0x5123e3;}else return _0x89248a;});_0x219bd4['Env']=_0x5b718e;}return logger_1[_0x1e7ba5(0x1ff)][_0x1e7ba5(0x1bf)](_0x1e7ba5(0x140)+JSON[_0x1e7ba5(0x1bb)](_0x219bd4,null,'\x20\x20')),_0x401aaa;},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x163)]=function(){var _0x3eaed8=_0x41be14,_0x16d814,_0x9a9e4d,_0x5a0ae1,_0x4f7ca3,_0x31d2bf={'TUNNEL_SERVICE_HOST':_0x15b50b[_0x3eaed8(0x18c)],'TUNNEL_SERVICE_SESSION_ID':(_0x16d814=this[_0x3eaed8(0x114)])===null||_0x16d814===void 0x0?void 0x0:_0x16d814['sessionId'],'TUNNEL_SERVICE_INSTANCE_ID':(_0x9a9e4d=this[_0x3eaed8(0x114)])===null||_0x9a9e4d===void 0x0?void 0x0:_0x9a9e4d[_0x3eaed8(0x15c)],'TUNNEL_SERVICE_AK_ID':(_0x5a0ae1=this['credentials'])===null||_0x5a0ae1===void 0x0?void 0x0:_0x5a0ae1[_0x3eaed8(0x1f8)],'TUNNEL_SERVICE_AK_SECRET':(_0x4f7ca3=this[_0x3eaed8(0x16e)])===null||_0x4f7ca3===void 0x0?void 0x0:_0x4f7ca3['AccessKeySecret']};return lodash_1[_0x3eaed8(0x1ff)][_0x3eaed8(0x180)](_0x31d2bf||{},function(_0x147515,_0x3f3c0a){return _0x3f3c0a+'='+_0x147515;});},_0x15b50b['prototype'][_0x41be14(0x1f1)]=function(){var _0x1dc863,_0x4df417,_0x5ddf92,_0x41963c,_0x5e533f,_0x4df091;return __awaiter(this,void 0x0,void 0x0,function(){var _0xce94e3,_0x3f09c4,_0x186fd4;return __generator(this,function(_0x5ee34f){var _0x434ecd=a36_0x1f53;switch(_0x5ee34f['label']){case 0x0:return[0x4,this[_0x434ecd(0x14b)]['getSession']((_0x1dc863=this[_0x434ecd(0x114)])===null||_0x1dc863===void 0x0?void 0x0:_0x1dc863[_0x434ecd(0x12e)])];case 0x1:_0xce94e3=_0x5ee34f[_0x434ecd(0x165)](),_0x3f09c4=(_0x5ddf92=(_0x4df417=_0xce94e3===null||_0xce94e3===void 0x0?void 0x0:_0xce94e3[_0x434ecd(0x1d6)])===null||_0x4df417===void 0x0?void 0x0:_0x4df417[_0x434ecd(0x176)])===null||_0x5ddf92===void 0x0?void 0x0:_0x5ddf92['status'],_0x186fd4=0x0,_0x5ee34f[_0x434ecd(0x19a)]=0x2;case 0x2:if(!(_0x3f09c4!==_0x434ecd(0x1ac)&&_0x186fd4<_0x15b50b[_0x434ecd(0x198)]))return[0x3,0x5];return[0x4,time_1[_0x434ecd(0x1b6)](0xbb8)];case 0x3:_0x5ee34f[_0x434ecd(0x165)]();return[0x4,this[_0x434ecd(0x14b)][_0x434ecd(0x199)]((_0x41963c=this[_0x434ecd(0x114)])===null||_0x41963c===void 0x0?void 0x0:_0x41963c['sessionId'])];case 0x4:_0xce94e3=_0x5ee34f[_0x434ecd(0x165)](),_0x3f09c4=(_0x4df091=(_0x5e533f=_0xce94e3===null||_0xce94e3===void 0x0?void 0x0:_0xce94e3[_0x434ecd(0x1d6)])===null||_0x5e533f===void 0x0?void 0x0:_0x5e533f[_0x434ecd(0x176)])===null||_0x4df091===void 0x0?void 0x0:_0x4df091[_0x434ecd(0x1df)],_0x186fd4=_0x186fd4+0x1;return[0x3,0x2];case 0x5:if(_0x3f09c4!=='ESTABLISHED')throw new Error(_0x434ecd(0x20f)+JSON['stringify'](_0xce94e3===null||_0xce94e3===void 0x0?void 0x0:_0xce94e3['body'],null,'\x20\x20'));return[0x2];}});});},_0x15b50b['prototype'][_0x41be14(0x12c)]=function(_0x3caa5e){var _0x40ec5a,_0x105b25,_0x21387e;return __awaiter(this,void 0x0,void 0x0,function(){var _0x2f3a95,_0x35baa8,_0x9a2a52,_0x5301fc,_0x51ecb9,_0x16d6f1;return __generator(this,function(_0x4abd40){var _0x3ae1c6=a36_0x1f53;switch(_0x4abd40[_0x3ae1c6(0x19a)]){case 0x0:return[0x4,this[_0x3ae1c6(0x12f)]()];case 0x1:if(!!_0x4abd40['sent']())return[0x3,0x4];return[0x4,this[_0x3ae1c6(0x1d3)]()];case 0x2:_0x4abd40[_0x3ae1c6(0x165)]();return[0x4,this[_0x3ae1c6(0x1d1)]()];case 0x3:_0x4abd40[_0x3ae1c6(0x165)]();throw new Error(_0x3ae1c6(0x16d));case 0x4:return[0x4,state_1[_0x3ae1c6(0x1d8)]((_0x40ec5a=this[_0x3ae1c6(0x16e)])===null||_0x40ec5a===void 0x0?void 0x0:_0x40ec5a[_0x3ae1c6(0x1aa)],this[_0x3ae1c6(0x19c)],(_0x105b25=this[_0x3ae1c6(0x157)])===null||_0x105b25===void 0x0?void 0x0:_0x105b25[_0x3ae1c6(0x1ed)],(_0x21387e=this['userFunctionConfig'])===null||_0x21387e===void 0x0?void 0x0:_0x21387e[_0x3ae1c6(0x1ed)])];case 0x5:_0x2f3a95=_0x4abd40[_0x3ae1c6(0x165)](),_0x35baa8=_0x2f3a95===null||_0x2f3a95===void 0x0?void 0x0:_0x2f3a95[_0x3ae1c6(0x13d)],_0x9a2a52=_0x2f3a95===null||_0x2f3a95===void 0x0?void 0x0:_0x2f3a95[_0x3ae1c6(0x10d)],logger_1[_0x3ae1c6(0x1ff)][_0x3ae1c6(0x1e9)](_0x3ae1c6(0x205)+(_0x35baa8===null||_0x35baa8===void 0x0?void 0x0:_0x35baa8[_0x3ae1c6(0x1ed)])+_0x3ae1c6(0x11e)+(_0x9a2a52===null||_0x9a2a52===void 0x0?void 0x0:_0x9a2a52[_0x3ae1c6(0x1ed)])+'\x20in\x20region:\x20'+this[_0x3ae1c6(0x19c)]+_0x3ae1c6(0x1bc)),_0x5301fc=new fc_remote_invoke_1[(_0x3ae1c6(0x209))](this['region'],_0x35baa8===null||_0x35baa8===void 0x0?void 0x0:_0x35baa8[_0x3ae1c6(0x1ed)],this[_0x3ae1c6(0x17a)],this[_0x3ae1c6(0x1dd)],this[_0x3ae1c6(0x20c)],_0x9a2a52===null||_0x9a2a52===void 0x0?void 0x0:_0x9a2a52['name']),_0x51ecb9=_0x5301fc['genComponentInputs'](_0x3ae1c6(0x168),_0x3ae1c6(0x158),_0x3caa5e,_0x3ae1c6(0x1a0));return[0x4,core[_0x3ae1c6(0x21a)]('devsapp/fc-remote-invoke')];case 0x6:_0x16d6f1=_0x4abd40[_0x3ae1c6(0x165)]();return[0x4,_0x16d6f1[_0x3ae1c6(0x1a0)](_0x51ecb9)];case 0x7:_0x4abd40[_0x3ae1c6(0x165)]();return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x12f)]=function(){var _0x30ed81,_0x46c6a4,_0x410745;return __awaiter(this,void 0x0,void 0x0,function(){var _0x5b4d50,_0x2dcc20;return __generator(this,function(_0x35d5be){var _0xd56acb=a36_0x1f53;switch(_0x35d5be['label']){case 0x0:return[0x4,state_1[_0xd56acb(0x183)]((_0x30ed81=this[_0xd56acb(0x16e)])===null||_0x30ed81===void 0x0?void 0x0:_0x30ed81[_0xd56acb(0x1aa)],this[_0xd56acb(0x19c)],(_0x46c6a4=this[_0xd56acb(0x157)])===null||_0x46c6a4===void 0x0?void 0x0:_0x46c6a4[_0xd56acb(0x1ed)],(_0x410745=this[_0xd56acb(0x1db)])===null||_0x410745===void 0x0?void 0x0:_0x410745[_0xd56acb(0x1ed)])];case 0x1:_0x5b4d50=_0x35d5be[_0xd56acb(0x165)]();if(!_0x5b4d50)return[0x2,![]];return[0x4,docker[_0xd56acb(0x145)]()];case 0x2:_0x2dcc20=_0x35d5be[_0xd56acb(0x165)]()[_0xd56acb(0x180)](function(_0x30ab3d){return _0x30ab3d===null||_0x30ab3d===void 0x0?void 0x0:_0x30ab3d['Id'];});if(_0x2dcc20['includes'](_0x5b4d50))return[0x2,!![]];return[0x2,![]];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x1d3)]=function(){var _0x248a13,_0x111e77,_0x1dd48b,_0x3b068f,_0x52e2c2,_0x155c0e,_0x5a1d62,_0x2d98db,_0x1c8bbe;return __awaiter(this,void 0x0,void 0x0,function(){var _0x4fd65c,_0x13aa5a,_0x1d16c8,_0x458c3c,_0x17f46d,_0x153f01,_0x43f92f,_0x18a88b,_0x35554f,_0x469369,_0x24b515,_0xb7160,_0x545990,_0x30f27b,_0x35a65a,_0x31dead;return __generator(this,function(_0x5581df){var _0x36373=a36_0x1f53;switch(_0x5581df[_0x36373(0x19a)]){case 0x0:return[0x4,state_1['getHelperConfigFromState']((_0x248a13=this['credentials'])===null||_0x248a13===void 0x0?void 0x0:_0x248a13[_0x36373(0x1aa)],this['region'],(_0x111e77=this[_0x36373(0x157)])===null||_0x111e77===void 0x0?void 0x0:_0x111e77[_0x36373(0x1ed)],(_0x1dd48b=this[_0x36373(0x1db)])===null||_0x1dd48b===void 0x0?void 0x0:_0x1dd48b['name'])];case 0x1:_0x4fd65c=_0x5581df['sent']();return[0x4,state_1[_0x36373(0x1f2)]((_0x3b068f=this[_0x36373(0x16e)])===null||_0x3b068f===void 0x0?void 0x0:_0x3b068f[_0x36373(0x1aa)],this[_0x36373(0x19c)],(_0x52e2c2=this[_0x36373(0x157)])===null||_0x52e2c2===void 0x0?void 0x0:_0x52e2c2[_0x36373(0x1ed)],(_0x155c0e=this[_0x36373(0x1db)])===null||_0x155c0e===void 0x0?void 0x0:_0x155c0e[_0x36373(0x1ed)])];case 0x2:_0x13aa5a=_0x5581df['sent']();return[0x4,state_1[_0x36373(0x183)]((_0x5a1d62=this[_0x36373(0x16e)])===null||_0x5a1d62===void 0x0?void 0x0:_0x5a1d62[_0x36373(0x1aa)],this[_0x36373(0x19c)],(_0x2d98db=this[_0x36373(0x157)])===null||_0x2d98db===void 0x0?void 0x0:_0x2d98db[_0x36373(0x1ed)],(_0x1c8bbe=this['userFunctionConfig'])===null||_0x1c8bbe===void 0x0?void 0x0:_0x1c8bbe[_0x36373(0x1ed)])];case 0x3:_0x1d16c8=_0x5581df[_0x36373(0x165)](),_0x458c3c=_0x4fd65c===null||_0x4fd65c===void 0x0?void 0x0:_0x4fd65c[_0x36373(0x13d)],_0x17f46d=_0x4fd65c===null||_0x4fd65c===void 0x0?void 0x0:_0x4fd65c[_0x36373(0x10d)],_0x153f01=_0x4fd65c===null||_0x4fd65c===void 0x0?void 0x0:_0x4fd65c[_0x36373(0x1be)];if(!_0x1d16c8)return[0x3,0x8];_0x5581df[_0x36373(0x19a)]=0x4;case 0x4:_0x5581df['trys']['push']([0x4,0x7,,0x8]),_0x43f92f=docker['getContainer'](_0x1d16c8);return[0x4,docker_1['stopContainer'](_0x43f92f)];case 0x5:_0x5581df[_0x36373(0x165)]();return[0x4,this[_0x36373(0x1a4)]()];case 0x6:_0x5581df[_0x36373(0x165)]();return[0x3,0x8];case 0x7:_0x18a88b=_0x5581df[_0x36373(0x165)](),logger_1[_0x36373(0x1ff)][_0x36373(0x112)](stdout_formatter_1[_0x36373(0x1ff)][_0x36373(0x15b)][_0x36373(0x1e5)]('stop\x20proxy\x20container',_0x36373(0x18a)+_0x1d16c8,_0x18a88b===null||_0x18a88b===void 0x0?void 0x0:_0x18a88b[_0x36373(0x1b9)])),logger_1['default'][_0x36373(0x1bf)](_0x36373(0x132)+_0x1d16c8+'\x20error:\x20'+_0x18a88b);return[0x3,0x8];case 0x8:_0x35554f=core[_0x36373(0x1bd)](_0x36373(0x194)),_0x5581df[_0x36373(0x19a)]=0x9;case 0x9:_0x5581df[_0x36373(0x167)][_0x36373(0x117)]([0x9,0xb,,0xc]);return[0x4,this[_0x36373(0x1e2)](_0x458c3c===null||_0x458c3c===void 0x0?void 0x0:_0x458c3c[_0x36373(0x1ed)],_0x17f46d===null||_0x17f46d===void 0x0?void 0x0:_0x17f46d[_0x36373(0x1ed)],_0x36373(0x18e))];case 0xa:_0x5581df[_0x36373(0x165)](),_0x35554f['succeed'](_0x36373(0x1a9));return[0x3,0xc];case 0xb:_0x469369=_0x5581df[_0x36373(0x165)](),_0x35554f['fail']('Unset\x20error.'),logger_1['default'][_0x36373(0x14d)](_0x469369===null||_0x469369===void 0x0?void 0x0:_0x469369[_0x36373(0x1b9)]),logger_1[_0x36373(0x1ff)][_0x36373(0x1bf)]('Error:\x20'+_0x469369);return[0x3,0xc];case 0xc:_0x5581df['trys']['push']([0xc,0xf,,0x10]),_0x24b515=new fc_deploy_1[(_0x36373(0x12b))](this['region'],_0x458c3c,this['access'],this[_0x36373(0x1dd)],this[_0x36373(0x20c)],_0x17f46d,_0x153f01);return[0x4,core[_0x36373(0x21a)](_0x36373(0x152))];case 0xd:_0xb7160=_0x5581df[_0x36373(0x165)](),_0x545990=_0x24b515[_0x36373(0x196)](_0x36373(0x178),_0x36373(0x137),_0x36373(0x173),'remove');return[0x4,_0xb7160['remove'](_0x545990)];case 0xe:_0x5581df[_0x36373(0x165)]();return[0x3,0x10];case 0xf:_0x30f27b=_0x5581df[_0x36373(0x165)](),logger_1['default'][_0x36373(0x112)](stdout_formatter_1[_0x36373(0x1ff)][_0x36373(0x15b)][_0x36373(0x1e5)](_0x36373(0x1ad),'serviceName:\x20'+(_0x458c3c===null||_0x458c3c===void 0x0?void 0x0:_0x458c3c['name'])+_0x36373(0x217)+(_0x17f46d===null||_0x17f46d===void 0x0?void 0x0:_0x17f46d[_0x36373(0x1ed)]),_0x30f27b===null||_0x30f27b===void 0x0?void 0x0:_0x30f27b['message'])),logger_1['default'][_0x36373(0x1bf)](_0x36373(0x172)+_0x30f27b);return[0x3,0x10];case 0x10:_0x35a65a=core[_0x36373(0x1bd)]('Deleting\x20session:\x20'+(_0x13aa5a===null||_0x13aa5a===void 0x0?void 0x0:_0x13aa5a['sessionId'])+_0x36373(0x19e));;_0x5581df[_0x36373(0x19a)]=0x11;case 0x11:_0x5581df[_0x36373(0x167)][_0x36373(0x117)]([0x11,0x13,,0x14]);return[0x4,this['deleteSession'](_0x13aa5a===null||_0x13aa5a===void 0x0?void 0x0:_0x13aa5a[_0x36373(0x12e)])];case 0x12:_0x5581df[_0x36373(0x165)](),_0x35a65a[_0x36373(0x185)](_0x36373(0x14a)+(_0x13aa5a===null||_0x13aa5a===void 0x0?void 0x0:_0x13aa5a[_0x36373(0x12e)])+_0x36373(0x1b0));return[0x3,0x14];case 0x13:_0x31dead=_0x5581df[_0x36373(0x165)](),_0x35a65a['fail'](_0x36373(0x1ee)),logger_1[_0x36373(0x1ff)][_0x36373(0x14d)](_0x31dead===null||_0x31dead===void 0x0?void 0x0:_0x31dead[_0x36373(0x1b9)]),logger_1[_0x36373(0x1ff)][_0x36373(0x1bf)](_0x36373(0x172)+_0x31dead);return[0x3,0x14];case 0x14:return[0x2];}});});},_0x15b50b[_0x41be14(0x191)][_0x41be14(0x199)]=function(){var _0x196bb=_0x41be14;return this[_0x196bb(0x114)];},_0x15b50b[_0x41be14(0x198)]=0x28,_0x15b50b[_0x41be14(0x18c)]='tunnel-service.cn-hangzhou.aliyuncs.com',_0x15b50b[_0x41be14(0x16c)]=_0x41be14(0x1e0),_0x15b50b[_0x41be14(0x204)]=_0x41be14(0x1b8),_0x15b50b['helperImageStableVersion']=_0x41be14(0x1b8),_0x15b50b['helperImageVersion']=process[_0x41be14(0x11b)][_0x41be14(0x1a1)]||_0x15b50b['helperImageStableVersion'],_0x15b50b['proxyImageVersion']=process[_0x41be14(0x11b)]['TUNNEL_SERVICE_PROXY_IMAGE_LATEST_VERSION']||_0x15b50b[_0x41be14(0x204)],_0x15b50b[_0x41be14(0x179)]='aliyunfc',_0x15b50b[_0x41be14(0x161)]=_0x41be14(0x1e8),_0x15b50b['cacheDirPath']=path[_0x41be14(0x13a)](os[_0x41be14(0x11a)](),'.s',_0x41be14(0x115),_0x41be14(0x1c9)),_0x15b50b[_0x41be14(0x1e4)]=[_0x41be14(0x219),_0x41be14(0x1e6),_0x41be14(0x17d),_0x41be14(0x17e)],_0x15b50b;}();exports['default']=TunnelService;