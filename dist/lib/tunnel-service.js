'use strict';var a36_0x40d1=['path','mark','FcDeployComponent','On-demand\x20config\x20put\x20result:\x20','routeConfigs','Delete\x20error.','Helper\x20function\x20is\x20set\x20to\x201\x20provison\x20and\x200\x20elasticity.','access','867288MyYGMc','listContainers','nasConfig','generateProxyContainerEnv','genStateId','__importStar','Delete\x20session:\x20','374722IPDNEa','protocol','cleanFunctionContainer','isAutoConfig','stopContainer','Create\x20session\x20result\x20data:\x20','python2.7','TUNNEL_SERVICE_HELPER_IMAGE_LATEST_VERSION','runContainer','AccessKeyID','.aliyuncs.com/aliyunfc/ts-remote:','proxyImaggeRegistry','ESTABLISHED','clean','sleep','1534490vKRSRg','./client','Close\x20stderr\x20file\x20of\x20proxy\x20container:\x20','warning','0:0','session_','getProxyContainerIdFromState','stdoutFilePath',',\x20function:\x20','getSession','debugPort','setSigint','Set\x20provision\x20result:\x20','triggers','genHelperServiceConfig',',\x20please\x20make\x20sure\x20that\x20your\x20account\x20has\x20updateService\x20permission.','return','length','serviceName:\x20','createSession','registry.','...','/tcp','succeed','deploy','function','caPort','hasOwnProperty','functionName','client','DELETE','/services/','prototype','pycharm','fc-remote-invoke-project','AccessDenied','unsetProxyContainerId','./utils/state','getSessionFromState','userFunctionConfig','initializer','__createBinding','invokeHelperFunction','./utils/utils','request','Create\x20session\x20failed,\x20error\x20is:\x20\x0a','Delete\x20session\x20body:\x20','remove\x20helper\x20service','SIGINT','forEach','service\x20-y','ts-local','CreateSessionRequest','php7.2','credentials','Session\x20establish\x20fail.','1609457jGFKhy','php','setKVInState','name','Error:\x20','getInvokeContainerIdFromState','env','asyncConfiguration','label','./utils/stream','setHelperFunctionProvision','cloneDeep','userServiceConfig','/functions/','genHelperCustomDomainConfig','body','getHelperConfigFromState','./utils/devs','Creating\x20session...','debug','./errorProcessor','proxyImageStableVersion','Helper\x20function\x20generated\x20by\x20fc-tunnel-invoke\x20component','remoteInstanceId','TUNNEL_SERVICE_PROXY_IMAGE_LATEST_VERSION','container','/on-demand-config','Deleting\x20session:\x20','message','ensureDir','@alicloud/tunnel-service20210509','next','./utils/time','helperImageStableVersion','Starting\x20proxy\x20container...','AlicloudClient','fc-deploy-project','./component/fc-remote-invoke','./definition','putProvisionConfig','tunnel-service.cn-hangzhou.aliyuncs.com','LATEST','serviceName','trys','runtimeListNeedSetTsAdjustFLag','4766snRGVu','TUNNEL_SERVICE_AK_SECRET','writeEventToStreamAndClose','error','Tunnel\x20service\x20proxy\x20container\x20options:\x20','runProxyContainer','generateProxyContainerDebugOpts','228ayWsNw','Unset\x20error.','Set/get\x20provision\x20of\x20helper\x20function\x20error.Please\x20make\x20sure\x20you\x20have\x20the\x20related\x20ram\x20permission.','join','saveProxyContainerId','substring','runner','proxyImageVersion','registry.cn-hangzhou.aliyuncs.com','stderr.log','\x20done.','\x20times.','python3','./docker/docker','devsapp/fc-deploy','nodejs','done','TUNNEL_SERVICE_AK_ID','checkIfProxyContainerRunning','push','Session\x20name\x20is\x20:\x20','createWriteStream','isEmpty','genHelperFunctionConfig','__esModule','region','pop','Unset\x20helper\x20function\x20provision\x20and\x20on-demand\x20config\x20done.','sent','loadComponent','\x20debug\x20config\x20only\x20support\x20for\x20runtime\x20[python2.7,\x20python3]','saveSession','helperConfig','\x20stdout\x20to:\x20','./retry','Session\x20created,\x20session\x20id:\x20','Session\x20establish\x20fail,\x20body\x20in\x20response\x20is:\x20','session','indexOf','genOutputFileOfProxyContainer','nested-object-assign','assign','fc-deploy','\x20error:\x20','deleteSession','1uInTqY','pullImageIfNeed','localInstanceId','Container:\x20','create','generateProxyContainerOpts','custom-container','tunnerServiceHost','Retry\x20setting\x20provision\x20','instanceLifecycleConfig','makeHelperFunction','unsetInvokeContainerId','runtime','Fail\x20to\x20set\x20provison\x20and\x20elasticity\x20for\x20helper\x20function.','iterator','Unsetting\x20helper\x20function\x20config...','Proxied\x20invoke\x20only\x20support\x20caPort:\x209000\x20for\x20custom-container/custom\x20runtime.Please\x20change\x20it\x20temporarily\x20and\x20retry.','stderrFileWriteStream',',\x20functionName:\x20','defineProperty','__awaiter','startsWith','spinner','Put\x20provision\x20config\x20error:\x20','queryUntilSessionEstablished','maxRetryCnt','1moTThT','fail','statusCode','saveHelperFunctionDeployRes','filter','map','apply','proxyImageRepo','generateSessionName','v0.1.0','\x20failed!\x0aError:\x20','userTriggerConfigList','__generator','info','./utils/process','utf-8','genProxyContainerName','./component/stdout-formatter','stdoutFormatter','unsetKVInState','then','Create\x20session\x20failed.','includes','call','genComponentInputs','homedir','fcClient','streamOfRunner','warn','processMakeHelperFunctionErr','PUT','domainName','helperImageVersion','stderrFilePath',',\x20stderr\x20to:\x20','devsapp/fc-remote-invoke','getFcClient','value','getProvisionConfig','./component/fc-deploy','sessionId','stringify','service','status','getHttpTrigger','debugIde','Env','Proxy\x20container\x20is\x20running.','appName','lodash','796CIaegN','AccessKeySecret','stdoutFileWriteStream','initializationTimeout','promiseRetry','SESSION-','Close\x20stdout\x20file\x20of\x20proxy\x20container:\x20','instanceConcurrency','aliyunfc','\x20in\x20region:\x20','359rVFnGw','\x20to\x20make\x20local\x20function\x20run.','internetAccess','getContainer','certConfig','unsetHelperFunctionConfig','data','cache','cacheDirPath','AccountID','proxyContainerId','userCustomDomainConfigList','4869607sNFsyr','Checking\x20if\x20session\x20is\x20established...','Stop\x20proxy\x20container:\x20','close','Proxy\x20container\x20is\x20not\x20running,\x20please\x20run\x20\x27clean\x27\x20method\x20and\x20retry\x20\x27setup\x27\x20method.','default','current','ops','invoke','handler'];function a36_0x5002(_0x17973f,_0x360c12){return a36_0x5002=function(_0x40d1db,_0x500236){_0x40d1db=_0x40d1db-0x1b3;var _0x5bc479=a36_0x40d1[_0x40d1db];return _0x5bc479;},a36_0x5002(_0x17973f,_0x360c12);}var a36_0xd56fe9=a36_0x5002;(function(_0x4419ac,_0x5870c1){var _0x525b0e=a36_0x5002;while(!![]){try{var _0x4f02f0=parseInt(_0x525b0e(0x20f))+parseInt(_0x525b0e(0x25d))+-parseInt(_0x525b0e(0x1b5))*-parseInt(_0x525b0e(0x225))+-parseInt(_0x525b0e(0x216))*-parseInt(_0x525b0e(0x2be))+-parseInt(_0x525b0e(0x1f1))*-parseInt(_0x525b0e(0x1e7))+parseInt(_0x525b0e(0x291))*parseInt(_0x525b0e(0x28a))+-parseInt(_0x525b0e(0x1fd));if(_0x4f02f0===_0x5870c1)break;else _0x4419ac['push'](_0x4419ac['shift']());}catch(_0x16c2ff){_0x4419ac['push'](_0x4419ac['shift']());}}}(a36_0x40d1,0xd8fba));var __createBinding=this&&this[a36_0xd56fe9(0x24e)]||(Object['create']?function(_0x317194,_0x439655,_0x198704,_0x378ed5){var _0x56ee85=a36_0xd56fe9;if(_0x378ed5===undefined)_0x378ed5=_0x198704;Object[_0x56ee85(0x2d1)](_0x317194,_0x378ed5,{'enumerable':!![],'get':function(){return _0x439655[_0x198704];}});}:function(_0x249d2a,_0x50cec3,_0x306d13,_0x1a0636){if(_0x1a0636===undefined)_0x1a0636=_0x306d13;_0x249d2a[_0x1a0636]=_0x50cec3[_0x306d13];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a36_0xd56fe9(0x2c2)]?function(_0x5ae4fe,_0x4b618f){var _0x232766=a36_0xd56fe9;Object[_0x232766(0x2d1)](_0x5ae4fe,_0x232766(0x202),{'enumerable':!![],'value':_0x4b618f});}:function(_0x233af0,_0x5639be){var _0x545e23=a36_0xd56fe9;_0x233af0[_0x545e23(0x202)]=_0x5639be;}),__importStar=this&&this[a36_0xd56fe9(0x214)]||function(_0x3434e4){var _0x441be5=a36_0xd56fe9;if(_0x3434e4&&_0x3434e4[_0x441be5(0x2a9)])return _0x3434e4;var _0x3bec67={};if(_0x3434e4!=null){for(var _0x2def00 in _0x3434e4)if(_0x2def00!==_0x441be5(0x202)&&Object[_0x441be5(0x240)][_0x441be5(0x1cc)](_0x3434e4,_0x2def00))__createBinding(_0x3bec67,_0x3434e4,_0x2def00);}return __setModuleDefault(_0x3bec67,_0x3434e4),_0x3bec67;},__awaiter=this&&this[a36_0xd56fe9(0x2d2)]||function(_0x4d5d52,_0x3685e8,_0x8a86fb,_0xbcd8fe){function _0x1b9110(_0x3ffc61){return _0x3ffc61 instanceof _0x8a86fb?_0x3ffc61:new _0x8a86fb(function(_0x2e7423){_0x2e7423(_0x3ffc61);});}return new(_0x8a86fb||(_0x8a86fb=Promise))(function(_0x2caaed,_0x3792f7){var _0x4980b7=a36_0x5002;function _0x41e515(_0x2bfa8e){var _0x4cc56a=a36_0x5002;try{_0x1de39b(_0xbcd8fe[_0x4cc56a(0x27c)](_0x2bfa8e));}catch(_0x3bb28c){_0x3792f7(_0x3bb28c);}}function _0x38e482(_0x26b0cd){try{_0x1de39b(_0xbcd8fe['throw'](_0x26b0cd));}catch(_0x4693b1){_0x3792f7(_0x4693b1);}}function _0x1de39b(_0x15d8f0){var _0x44047b=a36_0x5002;_0x15d8f0[_0x44047b(0x2a1)]?_0x2caaed(_0x15d8f0[_0x44047b(0x1da)]):_0x1b9110(_0x15d8f0[_0x44047b(0x1da)])[_0x44047b(0x1c9)](_0x41e515,_0x38e482);}_0x1de39b((_0xbcd8fe=_0xbcd8fe[_0x4980b7(0x1bb)](_0x4d5d52,_0x3685e8||[]))[_0x4980b7(0x27c)]());});},__generator=this&&this[a36_0xd56fe9(0x1c1)]||function(_0x5a1f71,_0x52a941){var _0x291e5f=a36_0xd56fe9,_0x5c1541={'label':0x0,'sent':function(){if(_0x4dba7f[0x0]&0x1)throw _0x4dba7f[0x1];return _0x4dba7f[0x1];},'trys':[],'ops':[]},_0xedef7a,_0x2d8fd0,_0x4dba7f,_0x274fe0;return _0x274fe0={'next':_0x322874(0x0),'throw':_0x322874(0x1),'return':_0x322874(0x2)},typeof Symbol===_0x291e5f(0x23e)&&(_0x274fe0[Symbol[_0x291e5f(0x2cc)]]=function(){return this;}),_0x274fe0;function _0x322874(_0x66a048){return function(_0xe2d21a){return _0x390ad4([_0x66a048,_0xe2d21a]);};}function _0x390ad4(_0xff34ca){var _0x53a36f=_0x291e5f;if(_0xedef7a)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x5c1541)try{if(_0xedef7a=0x1,_0x2d8fd0&&(_0x4dba7f=_0xff34ca[0x0]&0x2?_0x2d8fd0['return']:_0xff34ca[0x0]?_0x2d8fd0['throw']||((_0x4dba7f=_0x2d8fd0[_0x53a36f(0x235)])&&_0x4dba7f['call'](_0x2d8fd0),0x0):_0x2d8fd0[_0x53a36f(0x27c)])&&!(_0x4dba7f=_0x4dba7f[_0x53a36f(0x1cc)](_0x2d8fd0,_0xff34ca[0x1]))[_0x53a36f(0x2a1)])return _0x4dba7f;if(_0x2d8fd0=0x0,_0x4dba7f)_0xff34ca=[_0xff34ca[0x0]&0x2,_0x4dba7f[_0x53a36f(0x1da)]];switch(_0xff34ca[0x0]){case 0x0:case 0x1:_0x4dba7f=_0xff34ca;break;case 0x4:_0x5c1541['label']++;return{'value':_0xff34ca[0x1],'done':![]};case 0x5:_0x5c1541[_0x53a36f(0x265)]++,_0x2d8fd0=_0xff34ca[0x1],_0xff34ca=[0x0];continue;case 0x7:_0xff34ca=_0x5c1541['ops']['pop'](),_0x5c1541[_0x53a36f(0x288)][_0x53a36f(0x2ab)]();continue;default:if(!(_0x4dba7f=_0x5c1541[_0x53a36f(0x288)],_0x4dba7f=_0x4dba7f[_0x53a36f(0x236)]>0x0&&_0x4dba7f[_0x4dba7f[_0x53a36f(0x236)]-0x1])&&(_0xff34ca[0x0]===0x6||_0xff34ca[0x0]===0x2)){_0x5c1541=0x0;continue;}if(_0xff34ca[0x0]===0x3&&(!_0x4dba7f||_0xff34ca[0x1]>_0x4dba7f[0x0]&&_0xff34ca[0x1]<_0x4dba7f[0x3])){_0x5c1541[_0x53a36f(0x265)]=_0xff34ca[0x1];break;}if(_0xff34ca[0x0]===0x6&&_0x5c1541[_0x53a36f(0x265)]<_0x4dba7f[0x1]){_0x5c1541['label']=_0x4dba7f[0x1],_0x4dba7f=_0xff34ca;break;}if(_0x4dba7f&&_0x5c1541[_0x53a36f(0x265)]<_0x4dba7f[0x2]){_0x5c1541[_0x53a36f(0x265)]=_0x4dba7f[0x2],_0x5c1541[_0x53a36f(0x204)][_0x53a36f(0x2a4)](_0xff34ca);break;}if(_0x4dba7f[0x2])_0x5c1541['ops'][_0x53a36f(0x2ab)]();_0x5c1541[_0x53a36f(0x288)][_0x53a36f(0x2ab)]();continue;}_0xff34ca=_0x52a941['call'](_0x5a1f71,_0x5c1541);}catch(_0x3bdc2a){_0xff34ca=[0x6,_0x3bdc2a],_0x2d8fd0=0x0;}finally{_0xedef7a=_0x4dba7f=0x0;}if(_0xff34ca[0x0]&0x5)throw _0xff34ca[0x1];return{'value':_0xff34ca[0x0]?_0xff34ca[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0x21433a){var _0x5d90c3=a36_0xd56fe9;return _0x21433a&&_0x21433a[_0x5d90c3(0x2a9)]?_0x21433a:{'default':_0x21433a};};Object[a36_0xd56fe9(0x2d1)](exports,a36_0xd56fe9(0x2a9),{'value':!![]});var logger_1=__importDefault(require('../common/logger')),core=__importStar(require('@serverless-devs/core')),client_1=require(a36_0xd56fe9(0x226)),lodash_1=__importDefault(require(a36_0xd56fe9(0x1e6))),fc_deploy_1=require(a36_0xd56fe9(0x1dc)),time_1=require(a36_0xd56fe9(0x27d)),docker_1=require(a36_0xd56fe9(0x29e)),nested_object_assign_1=__importDefault(require(a36_0xd56fe9(0x2b9))),utils_1=require(a36_0xd56fe9(0x250)),path=__importStar(require('path')),os=__importStar(require('os')),fse=__importStar(require('fs-extra')),tunnel_service20210509_1=require(a36_0xd56fe9(0x27b)),tunnel_service20210509_2=__importDefault(require(a36_0xd56fe9(0x27b))),definition_1=require(a36_0xd56fe9(0x283)),process_1=require(a36_0xd56fe9(0x1c3)),stream_1=require(a36_0xd56fe9(0x266)),fc_remote_invoke_1=require(a36_0xd56fe9(0x282)),devs_1=require(a36_0xd56fe9(0x26e)),dockerode_1=__importDefault(require('dockerode')),runtime_1=require('./utils/runtime'),stdout_formatter_1=__importDefault(require(a36_0xd56fe9(0x1c6))),errorProcessor_1=require(a36_0xd56fe9(0x271)),retry_1=require(a36_0xd56fe9(0x2b3)),state_1=require(a36_0xd56fe9(0x24a)),docker=new dockerode_1[(a36_0xd56fe9(0x202))](),IDE_PYCHARM=a36_0xd56fe9(0x246),TunnelService=function(){var _0x648bde=a36_0xd56fe9;function _0x482405(_0x25dfed,_0x23b75d,_0x621201,_0x4d60c1,_0x265cf0,_0xabd623,_0x2ddc10,_0x4897e4,_0x41c920,_0x5e3114,_0x15bf04){var _0xa6e3ac=a36_0x5002,_0x12ea7f=this,_0x3f7ef0,_0x27e945;this[_0xa6e3ac(0x25b)]=_0x25dfed,this[_0xa6e3ac(0x269)]=_0x23b75d,this[_0xa6e3ac(0x24c)]=_0x621201,this['userTriggerConfigList']=_0x4897e4,this['userCustomDomainConfigList']=_0x41c920,this[_0xa6e3ac(0x22f)]=_0x5e3114,this[_0xa6e3ac(0x1e2)]=_0x15bf04,this[_0xa6e3ac(0x2aa)]=_0x4d60c1,this[_0xa6e3ac(0x20e)]=_0x265cf0,this[_0xa6e3ac(0x1e5)]=_0xabd623,this[_0xa6e3ac(0x207)]=_0x2ddc10;var _0x103a3b={'accessKeyId':(_0x3f7ef0=this[_0xa6e3ac(0x25b)])===null||_0x3f7ef0===void 0x0?void 0x0:_0x3f7ef0[_0xa6e3ac(0x21f)],'accessKeySecret':(_0x27e945=this[_0xa6e3ac(0x25b)])===null||_0x27e945===void 0x0?void 0x0:_0x27e945['AccessKeySecret'],'regionId':this[_0xa6e3ac(0x2aa)],'endpoint':_0x482405[_0xa6e3ac(0x2c5)]};this[_0xa6e3ac(0x242)]=new tunnel_service20210509_2[(_0xa6e3ac(0x202))](_0x103a3b),process_1[_0xa6e3ac(0x230)](),process['on'](_0xa6e3ac(0x255),function(){return __awaiter(_0x12ea7f,void 0x0,void 0x0,function(){var _0x524b09,_0x54969d,_0x52e16c;return __generator(this,function(_0x559fef){var _0x474f00=a36_0x5002;switch(_0x559fef[_0x474f00(0x265)]){case 0x0:this[_0x474f00(0x1d0)]&&stream_1[_0x474f00(0x28c)](this[_0x474f00(0x1d0)]);if(!this[_0x474f00(0x297)])return[0x3,0x3];logger_1[_0x474f00(0x202)][_0x474f00(0x1c2)]('Received\x20canncel\x20request,\x20stopping\x20running\x20proxy\x20container.....');return[0x4,docker_1['stopContainer'](this[_0x474f00(0x297)])];case 0x1:_0x559fef[_0x474f00(0x2ad)]();return[0x4,this['unsetProxyContainerId']()];case 0x2:_0x559fef[_0x474f00(0x2ad)](),_0x559fef[_0x474f00(0x265)]=0x3;case 0x3:_0x524b09=this[_0x474f00(0x2b8)](),_0x54969d=_0x524b09[_0x474f00(0x22c)],_0x52e16c=_0x524b09['stderrFilePath'];this[_0x474f00(0x1e9)]&&this[_0x474f00(0x1e9)]['close'](function(_0x38234b){var _0x48e111=_0x474f00;_0x38234b&&logger_1[_0x48e111(0x202)]['warning'](_0x48e111(0x1ed)+_0x54969d+_0x48e111(0x1bf)+_0x38234b);});this[_0x474f00(0x2cf)]&&this[_0x474f00(0x2cf)][_0x474f00(0x200)](function(_0x2a58f3){var _0x1dd7b0=_0x474f00;_0x2a58f3&&logger_1[_0x1dd7b0(0x202)][_0x1dd7b0(0x228)](_0x1dd7b0(0x227)+_0x52e16c+_0x1dd7b0(0x1bf)+_0x2a58f3);});return[0x2];}});});});}return _0x482405[_0x648bde(0x245)]['setup']=function(){var _0x5af8e8,_0xa3c880;return __awaiter(this,void 0x0,void 0x0,function(){var _0x4d6bb1,_0x292583,_0x1806ca,_0x26b416,_0x2d6c20,_0x426bd9,_0x1d5188,_0x125404,_0x37d4b2=this;return __generator(this,function(_0x3d32fb){var _0x16edeb=a36_0x5002;switch(_0x3d32fb['label']){case 0x0:if(((_0x5af8e8=this[_0x16edeb(0x24c)])===null||_0x5af8e8===void 0x0?void 0x0:_0x5af8e8[_0x16edeb(0x23f)])&&((_0xa3c880=this[_0x16edeb(0x24c)])===null||_0xa3c880===void 0x0?void 0x0:_0xa3c880[_0x16edeb(0x23f)])!==0x2328)throw new Error(_0x16edeb(0x2ce));_0x4d6bb1=new client_1[(_0x16edeb(0x280))](this[_0x16edeb(0x25b)]),_0x292583=this;return[0x4,_0x4d6bb1['getFcClient'](this[_0x16edeb(0x2aa)])];case 0x1:_0x292583[_0x16edeb(0x1cf)]=_0x3d32fb['sent'](),_0x1806ca=core[_0x16edeb(0x2d4)](_0x16edeb(0x26f)),_0x3d32fb['label']=0x2;case 0x2:_0x3d32fb[_0x16edeb(0x288)]['push']([0x2,0x4,,0x5]);return[0x4,retry_1[_0x16edeb(0x1eb)](function(_0x4f59c0,_0x4a4453){return __awaiter(_0x37d4b2,void 0x0,void 0x0,function(){var _0x497c9b,_0x2c7193;return __generator(this,function(_0x8a3d4c){var _0xdca36c=a36_0x5002;switch(_0x8a3d4c[_0xdca36c(0x265)]){case 0x0:_0x8a3d4c[_0xdca36c(0x288)]['push']([0x0,0x3,,0x4]),_0x497c9b=this;return[0x4,this['createSession']()];case 0x1:_0x497c9b['session']=_0x8a3d4c[_0xdca36c(0x2ad)](),_0x1806ca['succeed'](_0xdca36c(0x2b4)+this[_0xdca36c(0x2b6)][_0xdca36c(0x1dd)]+'.');return[0x4,this[_0xdca36c(0x2b0)]()];case 0x2:_0x8a3d4c[_0xdca36c(0x2ad)]();return[0x2];case 0x3:_0x2c7193=_0x8a3d4c[_0xdca36c(0x2ad)]();if(_0x2c7193['code']===_0xdca36c(0x248))throw _0x2c7193;logger_1[_0xdca36c(0x202)][_0xdca36c(0x270)](_0xdca36c(0x252)+_0x2c7193),logger_1['default'][_0xdca36c(0x1c2)](stdout_formatter_1['default'][_0xdca36c(0x1c7)]['retry'](_0xdca36c(0x2b6),_0xdca36c(0x2c2),'',_0x4a4453)),_0x4f59c0(_0x2c7193);return[0x3,0x4];case 0x4:return[0x2];}});});})];case 0x3:_0x3d32fb[_0x16edeb(0x2ad)]();return[0x3,0x5];case 0x4:_0x26b416=_0x3d32fb[_0x16edeb(0x2ad)](),_0x1806ca[_0x16edeb(0x1b6)](_0x16edeb(0x1ca));throw _0x26b416;case 0x5:logger_1['default'][_0x16edeb(0x1c2)]('Deploying\x20helper\x20function...');return[0x4,this[_0x16edeb(0x2c8)]()];case 0x6:_0x3d32fb[_0x16edeb(0x2ad)](),_0x2d6c20=core[_0x16edeb(0x2d4)](_0x16edeb(0x27f)),_0x3d32fb[_0x16edeb(0x265)]=0x7;case 0x7:_0x3d32fb[_0x16edeb(0x288)][_0x16edeb(0x2a4)]([0x7,0x9,,0xa]);return[0x4,this[_0x16edeb(0x28f)]()];case 0x8:_0x3d32fb['sent'](),_0x2d6c20[_0x16edeb(0x23c)](_0x16edeb(0x1e4));return[0x3,0xa];case 0x9:_0x426bd9=_0x3d32fb[_0x16edeb(0x2ad)](),_0x2d6c20[_0x16edeb(0x1b6)]('Start\x20proxy\x20container\x20failed.');throw _0x426bd9;case 0xa:_0x1d5188=core[_0x16edeb(0x2d4)](_0x16edeb(0x1fe)),_0x3d32fb[_0x16edeb(0x265)]=0xb;case 0xb:_0x3d32fb[_0x16edeb(0x288)][_0x16edeb(0x2a4)]([0xb,0xd,,0xe]);return[0x4,this[_0x16edeb(0x1b3)]()];case 0xc:_0x3d32fb[_0x16edeb(0x2ad)](),_0x1d5188[_0x16edeb(0x23c)]('Session\x20established!');return[0x3,0xe];case 0xd:_0x125404=_0x3d32fb[_0x16edeb(0x2ad)](),_0x1d5188[_0x16edeb(0x1b6)](_0x16edeb(0x25c));throw _0x125404;case 0xe:return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x1bd)]=function(){var _0xe693e5=_0x648bde;return _0xe693e5(0x22a)+this['region']+'_'+this[_0xe693e5(0x269)][_0xe693e5(0x260)];},_0x482405[_0x648bde(0x245)][_0x648bde(0x218)]=function(){var _0x4e4ded,_0x4989d0,_0x22f48c,_0x16d36b,_0x49dfcd,_0x50738b;return __awaiter(this,void 0x0,void 0x0,function(){var _0x3cef68,_0x45f69d;return __generator(this,function(_0x276b99){var _0xc840b8=a36_0x5002;switch(_0x276b99['label']){case 0x0:return[0x4,state_1[_0xc840b8(0x262)]((_0x4e4ded=this['credentials'])===null||_0x4e4ded===void 0x0?void 0x0:_0x4e4ded[_0xc840b8(0x1fa)],this[_0xc840b8(0x2aa)],(_0x4989d0=this[_0xc840b8(0x269)])===null||_0x4989d0===void 0x0?void 0x0:_0x4989d0[_0xc840b8(0x260)],(_0x22f48c=this[_0xc840b8(0x24c)])===null||_0x22f48c===void 0x0?void 0x0:_0x22f48c[_0xc840b8(0x260)])];case 0x1:_0x3cef68=_0x276b99[_0xc840b8(0x2ad)]();return[0x4,docker[_0xc840b8(0x1f4)](_0x3cef68)];case 0x2:_0x45f69d=_0x276b99[_0xc840b8(0x2ad)]();return[0x4,docker_1[_0xc840b8(0x21a)](_0x45f69d)];case 0x3:_0x276b99[_0xc840b8(0x2ad)]();return[0x4,state_1[_0xc840b8(0x2c9)]((_0x16d36b=this[_0xc840b8(0x25b)])===null||_0x16d36b===void 0x0?void 0x0:_0x16d36b[_0xc840b8(0x1fa)],this[_0xc840b8(0x2aa)],(_0x49dfcd=this['userServiceConfig'])===null||_0x49dfcd===void 0x0?void 0x0:_0x49dfcd[_0xc840b8(0x260)],(_0x50738b=this[_0xc840b8(0x24c)])===null||_0x50738b===void 0x0?void 0x0:_0x50738b[_0xc840b8(0x260)])];case 0x4:_0x276b99[_0xc840b8(0x2ad)]();return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x238)]=function(){var _0x2210ee;return __awaiter(this,void 0x0,void 0x0,function(){var _0x452e76,_0x2c14f3,_0x5c1622,_0x5b0731;return __generator(this,function(_0x564441){var _0x475572=a36_0x5002;switch(_0x564441[_0x475572(0x265)]){case 0x0:_0x452e76=this[_0x475572(0x1bd)](),_0x2c14f3=new tunnel_service20210509_1[(_0x475572(0x259))]({'sessionName':_0x452e76}),logger_1[_0x475572(0x202)][_0x475572(0x270)](_0x475572(0x2a5)+_0x452e76);return[0x4,this[_0x475572(0x242)]['createSession'](_0x2c14f3)];case 0x1:_0x5c1622=_0x564441[_0x475572(0x2ad)](),_0x5b0731=(_0x2210ee=_0x5c1622===null||_0x5c1622===void 0x0?void 0x0:_0x5c1622[_0x475572(0x26c)])===null||_0x2210ee===void 0x0?void 0x0:_0x2210ee[_0x475572(0x1f7)],logger_1[_0x475572(0x202)][_0x475572(0x270)](_0x475572(0x21b)+JSON[_0x475572(0x1de)](_0x5b0731,null,'\x20\x20'));return[0x2,{'name':_0x5b0731===null||_0x5b0731===void 0x0?void 0x0:_0x5b0731['sessionName'],'sessionId':_0x5b0731===null||_0x5b0731===void 0x0?void 0x0:_0x5b0731[_0x475572(0x1dd)],'localInstanceId':_0x5b0731===null||_0x5b0731===void 0x0?void 0x0:_0x5b0731[_0x475572(0x2c0)],'remoteInstanceId':_0x5b0731===null||_0x5b0731===void 0x0?void 0x0:_0x5b0731[_0x475572(0x274)]}];}});});},_0x482405[_0x648bde(0x245)]['deleteSession']=function(_0x22cb62){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2429a3,_0x3121cf;return __generator(this,function(_0x1c5111){var _0x5f44e5=a36_0x5002;switch(_0x1c5111[_0x5f44e5(0x265)]){case 0x0:return[0x4,this[_0x5f44e5(0x242)][_0x5f44e5(0x2bd)](_0x22cb62)];case 0x1:_0x2429a3=_0x1c5111[_0x5f44e5(0x2ad)](),_0x3121cf=_0x2429a3===null||_0x2429a3===void 0x0?void 0x0:_0x2429a3[_0x5f44e5(0x26c)],logger_1[_0x5f44e5(0x202)][_0x5f44e5(0x270)](_0x5f44e5(0x253)+JSON['stringify'](_0x3121cf,null,'\x20\x20'));return[0x2];}});});},_0x482405['prototype']['genHelperServiceConfig']=function(){var _0xe290a6=_0x648bde,_0x527336,_0x31d6c7=lodash_1['default'][_0xe290a6(0x268)](this[_0xe290a6(0x269)]);return _0x31d6c7[_0xe290a6(0x260)]=_0xe290a6(0x1ec)+((_0x527336=this[_0xe290a6(0x2b6)])===null||_0x527336===void 0x0?void 0x0:_0x527336['sessionId'][_0xe290a6(0x296)](0x0,0x7)),_0x31d6c7[_0xe290a6(0x1f3)]=!![],definition_1[_0xe290a6(0x219)](_0x31d6c7===null||_0x31d6c7===void 0x0?void 0x0:_0x31d6c7[_0xe290a6(0x211)])&&delete _0x31d6c7[_0xe290a6(0x211)],_0x31d6c7;},_0x482405[_0x648bde(0x245)][_0x648bde(0x2a8)]=function(){var _0x368e1d=_0x648bde,_0x475acc=this,_0x162b59,_0x5cb7de,_0x3ba61c,_0x426b7c,_0x5d5faa,_0x4b1e8c,_0x7347e3,_0xe2e07,_0xb12c16,_0xc64d52,_0x12244f,_0x51e681,_0x3db0ac,_0x2ef523,_0x2df35c,_0x44b388,_0x3f46bc={'name':(_0x162b59=this[_0x368e1d(0x24c)])===null||_0x162b59===void 0x0?void 0x0:_0x162b59[_0x368e1d(0x260)],'description':_0x368e1d(0x273),'runtime':_0x368e1d(0x2c4),'handler':(_0x5cb7de=this[_0x368e1d(0x24c)])===null||_0x5cb7de===void 0x0?void 0x0:_0x5cb7de[_0x368e1d(0x206)],'timeout':0x258,'memorySize':0x200,'customContainerConfig':{'image':_0x368e1d(0x239)+this[_0x368e1d(0x2aa)]+_0x368e1d(0x220)+_0x482405[_0x368e1d(0x1d5)]},'environmentVariables':{'TUNNEL_SERVICE_HOST':_0x482405[_0x368e1d(0x2c5)],'TUNNEL_SERVICE_INSTANCE_ID':(_0x3ba61c=this[_0x368e1d(0x2b6)])===null||_0x3ba61c===void 0x0?void 0x0:_0x3ba61c[_0x368e1d(0x274)],'TUNNEL_SERVICE_SESSION_ID':(_0x426b7c=this[_0x368e1d(0x2b6)])===null||_0x426b7c===void 0x0?void 0x0:_0x426b7c[_0x368e1d(0x1dd)],'TUNNEL_SERVICE_AK_ID':(_0x5d5faa=this[_0x368e1d(0x25b)])===null||_0x5d5faa===void 0x0?void 0x0:_0x5d5faa[_0x368e1d(0x21f)],'TUNNEL_SERVICE_AK_SECRET':(_0x4b1e8c=this['credentials'])===null||_0x4b1e8c===void 0x0?void 0x0:_0x4b1e8c[_0x368e1d(0x1e8)]}};return!lodash_1[_0x368e1d(0x202)][_0x368e1d(0x2a7)](definition_1[_0x368e1d(0x1e1)](this[_0x368e1d(0x1c0)]))&&_0x482405[_0x368e1d(0x289)][_0x368e1d(0x256)](function(_0x2846e9){var _0x5abccc=_0x368e1d,_0x5b9e20;((_0x5b9e20=_0x475acc['userFunctionConfig'])===null||_0x5b9e20===void 0x0?void 0x0:_0x5b9e20[_0x5abccc(0x2ca)][_0x5abccc(0x2b7)](_0x2846e9))!==-0x1&&Object['assign'](_0x3f46bc['environmentVariables'],{'TS_DEBUG_HTTP_TRIGGER_ADJUST':!![]});}),((_0x7347e3=this[_0x368e1d(0x24c)])===null||_0x7347e3===void 0x0?void 0x0:_0x7347e3[_0x368e1d(0x1ea)])&&((_0xe2e07=this[_0x368e1d(0x24c)])===null||_0xe2e07===void 0x0?void 0x0:_0xe2e07[_0x368e1d(0x24d)])&&Object[_0x368e1d(0x2ba)](_0x3f46bc,{'initializationTimeout':(_0xb12c16=this[_0x368e1d(0x24c)])===null||_0xb12c16===void 0x0?void 0x0:_0xb12c16['initializationTimeout'],'initializer':(_0xc64d52=this['userFunctionConfig'])===null||_0xc64d52===void 0x0?void 0x0:_0xc64d52['initializer']}),((_0x12244f=this['userFunctionConfig'])===null||_0x12244f===void 0x0?void 0x0:_0x12244f[_0x368e1d(0x2c7)])&&Object[_0x368e1d(0x2ba)](_0x3f46bc,{'instanceLifecycleConfig':(_0x51e681=this[_0x368e1d(0x24c)])===null||_0x51e681===void 0x0?void 0x0:_0x51e681[_0x368e1d(0x2c7)]}),((_0x3db0ac=this[_0x368e1d(0x24c)])===null||_0x3db0ac===void 0x0?void 0x0:_0x3db0ac['instanceConcurrency'])&&Object['assign'](_0x3f46bc,{'instanceConcurrency':(_0x2ef523=this[_0x368e1d(0x24c)])===null||_0x2ef523===void 0x0?void 0x0:_0x2ef523[_0x368e1d(0x1ee)]}),((_0x2df35c=this['userFunctionConfig'])===null||_0x2df35c===void 0x0?void 0x0:_0x2df35c[_0x368e1d(0x264)])&&Object[_0x368e1d(0x2ba)](_0x3f46bc,{'asyncConfiguration':(_0x44b388=this['userFunctionConfig'])===null||_0x44b388===void 0x0?void 0x0:_0x44b388[_0x368e1d(0x264)]}),_0x3f46bc;},_0x482405['prototype']['genHelperCustomDomainConfig']=function(){var _0x1b55f2=_0x648bde,_0x5c17c8=this;if(lodash_1[_0x1b55f2(0x202)][_0x1b55f2(0x2a7)](this[_0x1b55f2(0x1fc)]))return[];var _0x5b3b2f=[];for(var _0x2f02e8=0x0,_0x9db541=this['userCustomDomainConfigList'];_0x2f02e8<_0x9db541[_0x1b55f2(0x236)];_0x2f02e8++){var _0x4cbe9c=_0x9db541[_0x2f02e8],_0x21693a=_0x4cbe9c===null||_0x4cbe9c===void 0x0?void 0x0:_0x4cbe9c[_0x1b55f2(0x20b)][_0x1b55f2(0x1ba)](function(_0x17576b){var _0x43c573=_0x1b55f2,_0x451b55,_0x4ec5e5;if((_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b[_0x43c573(0x287)])&&(_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b['serviceName'])===((_0x451b55=_0x5c17c8['userServiceConfig'])===null||_0x451b55===void 0x0?void 0x0:_0x451b55['name'])&&(_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b['functionName'])&&(_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b['functionName'])===((_0x4ec5e5=_0x5c17c8[_0x43c573(0x24c)])===null||_0x4ec5e5===void 0x0?void 0x0:_0x4ec5e5[_0x43c573(0x260)])){var _0x257c33=lodash_1[_0x43c573(0x202)][_0x43c573(0x268)](_0x17576b);return _0x257c33===null||_0x257c33===void 0x0?!![]:delete _0x257c33[_0x43c573(0x287)],_0x257c33===null||_0x257c33===void 0x0?!![]:delete _0x257c33[_0x43c573(0x241)],_0x257c33;}if(!(_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b[_0x43c573(0x287)])&&!(_0x17576b===null||_0x17576b===void 0x0?void 0x0:_0x17576b['functionName']))return _0x17576b;}),_0x37a38e={'domainName':_0x4cbe9c===null||_0x4cbe9c===void 0x0?void 0x0:_0x4cbe9c[_0x1b55f2(0x1d4)],'protocol':_0x4cbe9c===null||_0x4cbe9c===void 0x0?void 0x0:_0x4cbe9c[_0x1b55f2(0x217)],'routeConfigs':_0x21693a[_0x1b55f2(0x1b9)](function(_0x278756){return _0x278756;})};(_0x4cbe9c===null||_0x4cbe9c===void 0x0?void 0x0:_0x4cbe9c[_0x1b55f2(0x1f5)])&&Object[_0x1b55f2(0x2ba)](_0x37a38e,{'certConfig':_0x37a38e===null||_0x37a38e===void 0x0?void 0x0:_0x37a38e['certConfig']}),_0x5b3b2f[_0x1b55f2(0x2a4)](_0x37a38e);}return _0x5b3b2f;},_0x482405[_0x648bde(0x245)][_0x648bde(0x2c8)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2db712,_0x257176,_0x65c417,_0x4f2f76,_0x1add83,_0x31ed4c,_0xbf8177,_0x2dfd8d,_0x30abfa,_0x11125d,_0x1b8fd8;return __generator(this,function(_0x2bee9b){var _0x865ef9=a36_0x5002;switch(_0x2bee9b['label']){case 0x0:_0x2db712=this[_0x865ef9(0x233)](),_0x257176=this[_0x865ef9(0x2a8)](),_0x65c417=this['userTriggerConfigList'],_0x4f2f76=this[_0x865ef9(0x26b)](),_0x1add83=new fc_deploy_1[(_0x865ef9(0x209))](this['region'],_0x2db712,this[_0x865ef9(0x20e)],this[_0x865ef9(0x1e5)],this[_0x865ef9(0x207)],_0x257176,_0x65c417,_0x4f2f76),_0x31ed4c=_0x1add83[_0x865ef9(0x1cd)]('fc-deploy',_0x865ef9(0x281),'--use-local',_0x865ef9(0x23d));return[0x4,core[_0x865ef9(0x2ae)](_0x865ef9(0x29f))];case 0x1:_0xbf8177=_0x2bee9b[_0x865ef9(0x2ad)](),_0x2bee9b[_0x865ef9(0x265)]=0x2;case 0x2:_0x2bee9b[_0x865ef9(0x288)][_0x865ef9(0x2a4)]([0x2,0x9,,0xb]);return[0x4,_0xbf8177[_0x865ef9(0x23d)](_0x31ed4c)];case 0x3:_0x2dfd8d=_0x2bee9b[_0x865ef9(0x2ad)]();return[0x4,this[_0x865ef9(0x1b8)](_0x2dfd8d)];case 0x4:_0x2bee9b[_0x865ef9(0x2ad)](),_0x30abfa=core['spinner']('Setting\x20helper\x20function\x20with\x201\x20provison\x20and\x200\x20elasticity'),_0x2bee9b[_0x865ef9(0x265)]=0x5;case 0x5:_0x2bee9b['trys'][_0x865ef9(0x2a4)]([0x5,0x7,,0x8]);return[0x4,this['setHelperFunctionConfig'](_0x2db712[_0x865ef9(0x260)],_0x257176[_0x865ef9(0x260)])];case 0x6:_0x2bee9b[_0x865ef9(0x2ad)](),_0x30abfa['succeed'](_0x865ef9(0x20d));return[0x3,0x8];case 0x7:_0x11125d=_0x2bee9b[_0x865ef9(0x2ad)](),_0x30abfa[_0x865ef9(0x1b6)](_0x865ef9(0x2cb));throw _0x11125d;case 0x8:return[0x3,0xb];case 0x9:_0x1b8fd8=_0x2bee9b['sent']();return[0x4,_0xbf8177['remove'](_0x31ed4c)];case 0xa:_0x2bee9b[_0x865ef9(0x2ad)](),errorProcessor_1[_0x865ef9(0x1d2)](_0x1b8fd8);return[0x3,0xb];case 0xb:return[0x2];}});});},_0x482405['prototype'][_0x648bde(0x1b8)]=function(_0x224d6a){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2de078){var _0x1b547d=a36_0x5002;switch(_0x2de078[_0x1b547d(0x265)]){case 0x0:return[0x4,devs_1[_0x1b547d(0x25f)](_0x1b547d(0x2b1),_0x224d6a,this[_0x1b547d(0x213)]())];case 0x1:_0x2de078[_0x1b547d(0x2ad)]();return[0x2];}});});},_0x482405[_0x648bde(0x245)]['saveSession']=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2a61a5){var _0x42a077=a36_0x5002;switch(_0x2a61a5[_0x42a077(0x265)]){case 0x0:return[0x4,devs_1[_0x42a077(0x25f)]('session',this['session'],this[_0x42a077(0x213)]())];case 0x1:_0x2a61a5[_0x42a077(0x2ad)]();return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x213)]=function(){var _0x3694b4=_0x648bde,_0x4e2eac,_0x2fc810;return this[_0x3694b4(0x25b)][_0x3694b4(0x1fa)]+'-'+this[_0x3694b4(0x2aa)]+'-'+((_0x4e2eac=this[_0x3694b4(0x269)])===null||_0x4e2eac===void 0x0?void 0x0:_0x4e2eac[_0x3694b4(0x260)])+'-'+((_0x2fc810=this[_0x3694b4(0x24c)])===null||_0x2fc810===void 0x0?void 0x0:_0x2fc810[_0x3694b4(0x260)]);},_0x482405[_0x648bde(0x245)][_0x648bde(0x267)]=function(_0x1f88bf,_0x2e4d23,_0x129ef2,_0x2c6cb9){var _0x405cba,_0x16ec80;return __awaiter(this,void 0x0,void 0x0,function(){var _0x142ce3,_0x219abd,_0x64f298,_0x53d8e3,_0x2a09e1,_0x261d55;return __generator(this,function(_0x280b6a){var _0x48eaa8=a36_0x5002;switch(_0x280b6a[_0x48eaa8(0x265)]){case 0x0:_0x142ce3=_0x2c6cb9||'LATEST';if(!!this[_0x48eaa8(0x1cf)])return[0x3,0x2];_0x219abd=new client_1['AlicloudClient'](this[_0x48eaa8(0x25b)]),_0x64f298=this;return[0x4,_0x219abd[_0x48eaa8(0x1d9)](this[_0x48eaa8(0x2aa)])];case 0x1:_0x64f298['fcClient']=_0x280b6a[_0x48eaa8(0x2ad)](),_0x280b6a[_0x48eaa8(0x265)]=0x2;case 0x2:_0x280b6a[_0x48eaa8(0x288)][_0x48eaa8(0x2a4)]([0x2,0x4,,0x5]);return[0x4,this['fcClient'][_0x48eaa8(0x284)](_0x1f88bf,_0x2e4d23,_0x142ce3,{'target':_0x129ef2})];case 0x3:_0x280b6a[_0x48eaa8(0x2ad)]();return[0x3,0x5];case 0x4:_0x53d8e3=_0x280b6a[_0x48eaa8(0x2ad)]();throw new Error(_0x48eaa8(0x2d5)+_0x53d8e3+_0x48eaa8(0x234));case 0x5:return[0x4,this[_0x48eaa8(0x1cf)][_0x48eaa8(0x1db)](_0x1f88bf,_0x2e4d23,_0x142ce3)];case 0x6:_0x2a09e1=_0x280b6a['sent'](),_0x261d55=0x0,_0x280b6a[_0x48eaa8(0x265)]=0x7;case 0x7:if(!(((_0x405cba=_0x2a09e1===null||_0x2a09e1===void 0x0?void 0x0:_0x2a09e1['data'])===null||_0x405cba===void 0x0?void 0x0:_0x405cba[_0x48eaa8(0x203)])!==0x1&&_0x261d55<=_0x482405[_0x48eaa8(0x1b4)]))return[0x3,0xa];return[0x4,this[_0x48eaa8(0x1cf)][_0x48eaa8(0x1db)](_0x1f88bf,_0x2e4d23,_0x142ce3)];case 0x8:_0x2a09e1=_0x280b6a[_0x48eaa8(0x2ad)](),_0x261d55=_0x261d55+0x1,logger_1[_0x48eaa8(0x202)][_0x48eaa8(0x270)](_0x48eaa8(0x2c6)+_0x261d55+_0x48eaa8(0x29c));return[0x4,time_1[_0x48eaa8(0x224)](0xbb8)];case 0x9:_0x280b6a[_0x48eaa8(0x2ad)]();return[0x3,0x7];case 0xa:if(((_0x16ec80=_0x2a09e1===null||_0x2a09e1===void 0x0?void 0x0:_0x2a09e1['data'])===null||_0x16ec80===void 0x0?void 0x0:_0x16ec80[_0x48eaa8(0x203)])!==0x1){logger_1[_0x48eaa8(0x202)][_0x48eaa8(0x270)](JSON[_0x48eaa8(0x1de)](_0x2a09e1,null,'\x20\x20'));throw new Error(_0x48eaa8(0x293));}logger_1['default'][_0x48eaa8(0x270)](_0x48eaa8(0x231)+JSON[_0x48eaa8(0x1de)](_0x2a09e1===null||_0x2a09e1===void 0x0?void 0x0:_0x2a09e1[_0x48eaa8(0x1f7)]));return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x1f6)]=function(_0x1ac447,_0x1ea05e,_0x13399f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x105630,_0x5c9c72,_0x4e16a4,_0x5c4115,_0x2d2be1;return __generator(this,function(_0x763131){var _0x3355d9=a36_0x5002;switch(_0x763131['label']){case 0x0:return[0x4,this[_0x3355d9(0x267)](_0x1ac447,_0x1ea05e,0x0,_0x13399f)];case 0x1:_0x763131[_0x3355d9(0x2ad)](),_0x105630=_0x3355d9(0x243),_0x5c9c72=_0x3355d9(0x244)+_0x1ac447+'.'+_0x13399f+'/functions/'+_0x1ea05e+_0x3355d9(0x277);if(!!this[_0x3355d9(0x242)])return[0x3,0x3];_0x4e16a4=new client_1['AlicloudClient'](this[_0x3355d9(0x25b)]),_0x5c4115=this;return[0x4,_0x4e16a4[_0x3355d9(0x1d9)](this[_0x3355d9(0x2aa)])];case 0x2:_0x5c4115[_0x3355d9(0x1cf)]=_0x763131[_0x3355d9(0x2ad)](),_0x763131[_0x3355d9(0x265)]=0x3;case 0x3:return[0x4,this['fcClient'][_0x3355d9(0x251)](_0x105630,_0x5c9c72,null,JSON[_0x3355d9(0x1de)]({}))];case 0x4:_0x2d2be1=_0x763131[_0x3355d9(0x2ad)](),logger_1['default'][_0x3355d9(0x270)]('On-demand\x20config\x20delete\x20result:\x20'+(_0x2d2be1===null||_0x2d2be1===void 0x0?void 0x0:_0x2d2be1['statusCode']));return[0x2];}});});},_0x482405[_0x648bde(0x245)]['setHelperFunctionConfig']=function(_0x524647,_0x239799){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1b04ea,_0x3160f0,_0xc8dfb7,_0x28ae85,_0x2058ce,_0x4e825a;return __generator(this,function(_0x3ca337){var _0x2cf787=a36_0x5002;switch(_0x3ca337[_0x2cf787(0x265)]){case 0x0:_0x1b04ea='LATEST';return[0x4,this['setHelperFunctionProvision'](_0x524647,_0x239799,0x1,_0x1b04ea)];case 0x1:_0x3ca337['sent'](),_0x3160f0=_0x2cf787(0x1d3),_0xc8dfb7=_0x2cf787(0x244)+_0x524647+'.'+_0x1b04ea+_0x2cf787(0x26a)+_0x239799+_0x2cf787(0x277);if(!!this['fcClient'])return[0x3,0x3];_0x28ae85=new client_1['AlicloudClient'](this[_0x2cf787(0x25b)]),_0x2058ce=this;return[0x4,_0x28ae85[_0x2cf787(0x1d9)](this[_0x2cf787(0x2aa)])];case 0x2:_0x2058ce[_0x2cf787(0x1cf)]=_0x3ca337['sent'](),_0x3ca337[_0x2cf787(0x265)]=0x3;case 0x3:return[0x4,this[_0x2cf787(0x1cf)][_0x2cf787(0x251)](_0x3160f0,_0xc8dfb7,null,JSON[_0x2cf787(0x1de)]({'maximumInstanceCount':0x0}))];case 0x4:_0x4e825a=_0x3ca337[_0x2cf787(0x2ad)](),logger_1[_0x2cf787(0x202)][_0x2cf787(0x270)](_0x2cf787(0x20a)+(_0x4e825a===null||_0x4e825a===void 0x0?void 0x0:_0x4e825a[_0x2cf787(0x1b7)]));return[0x2];}});});},_0x482405[_0x648bde(0x245)]['genOutputFileOfProxyContainer']=function(){var _0x2da678=_0x648bde,_0x59ae2c;if(!lodash_1['default'][_0x2da678(0x2a7)](this['session'])){var _0x29f914=path['join'](_0x482405['cacheDirPath'],(_0x59ae2c=this[_0x2da678(0x2b6)])===null||_0x59ae2c===void 0x0?void 0x0:_0x59ae2c[_0x2da678(0x1dd)]),_0x346ca3=path[_0x2da678(0x294)](_0x29f914,'stdout.log'),_0x402b80=path['join'](_0x29f914,_0x2da678(0x29a));return{'stdoutFilePath':_0x346ca3,'stderrFilePath':_0x402b80};}return{};},_0x482405['prototype'][_0x648bde(0x28f)]=function(){var _0x23c883;return __awaiter(this,void 0x0,void 0x0,function(){var _0x52a9f0,_0xb06811,_0x4b2078,_0x256fa1,_0x3d5b5b;return __generator(this,function(_0x2fe87d){var _0x22645d=a36_0x5002;switch(_0x2fe87d['label']){case 0x0:return[0x4,docker_1[_0x22645d(0x2bf)](_0x482405['proxyImaggeRegistry'],_0x482405[_0x22645d(0x1bc)],_0x482405['proxyImageName'],_0x482405[_0x22645d(0x298)])];case 0x1:_0x2fe87d[_0x22645d(0x2ad)](),_0x52a9f0=this[_0x22645d(0x2c3)](),(_0xb06811=this[_0x22645d(0x2b8)](),_0x4b2078=_0xb06811[_0x22645d(0x22c)],_0x256fa1=_0xb06811[_0x22645d(0x1d6)]);return[0x4,fse[_0x22645d(0x27a)](path['dirname'](_0x4b2078))];case 0x2:_0x2fe87d['sent'](),logger_1[_0x22645d(0x202)]['debug'](_0x22645d(0x2c1)+(_0x52a9f0===null||_0x52a9f0===void 0x0?void 0x0:_0x52a9f0[_0x22645d(0x260)])+_0x22645d(0x2b2)+_0x4b2078+_0x22645d(0x1d7)+_0x256fa1),this[_0x22645d(0x1e9)]=fse[_0x22645d(0x2a6)](_0x4b2078,{'flag':'w+','encoding':'utf-8','autoClose':!![]}),this[_0x22645d(0x2cf)]=fse[_0x22645d(0x2a6)](_0x256fa1,{'flag':'w+','encoding':_0x22645d(0x1c4),'autoClose':!![]});return[0x4,docker_1[_0x22645d(0x21e)](_0x52a9f0,this['stdoutFileWriteStream'],this[_0x22645d(0x2cf)])];case 0x3:_0x3d5b5b=_0x2fe87d['sent'](),this['streamOfRunner']=_0x3d5b5b===null||_0x3d5b5b===void 0x0?void 0x0:_0x3d5b5b['stream'],this[_0x22645d(0x297)]=_0x3d5b5b===null||_0x3d5b5b===void 0x0?void 0x0:_0x3d5b5b[_0x22645d(0x276)];return[0x4,this['saveProxyContainerId']((_0x23c883=this[_0x22645d(0x297)])===null||_0x23c883===void 0x0?void 0x0:_0x23c883['id'])];case 0x4:_0x2fe87d['sent']();return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x295)]=function(_0x7c9baf){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x505cfe){var _0x146cf3=a36_0x5002;switch(_0x505cfe[_0x146cf3(0x265)]){case 0x0:return[0x4,devs_1[_0x146cf3(0x25f)](_0x146cf3(0x1fb),_0x7c9baf,this[_0x146cf3(0x213)]())];case 0x1:_0x505cfe[_0x146cf3(0x2ad)]();return[0x2];}});});},_0x482405['prototype']['unsetProxyContainerId']=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x294d06){var _0x36d001=a36_0x5002;switch(_0x294d06[_0x36d001(0x265)]){case 0x0:return[0x4,devs_1[_0x36d001(0x1c8)](_0x36d001(0x1fb),this[_0x36d001(0x213)]())];case 0x1:_0x294d06[_0x36d001(0x2ad)]();return[0x2];}});});},_0x482405[_0x648bde(0x245)][_0x648bde(0x290)]=function(){var _0x3bd1f3=_0x648bde,_0x2554e3,_0x5cb838,_0x2f9700,_0x472749=(_0x2f9700=this['userFunctionConfig'])===null||_0x2f9700===void 0x0?void 0x0:_0x2f9700[_0x3bd1f3(0x2ca)];if(runtime_1['isCustomContainerRuntime'](_0x472749))return{};var _0x41fffe=this[_0x3bd1f3(0x22f)]+_0x3bd1f3(0x23b);if(this[_0x3bd1f3(0x1e2)]===IDE_PYCHARM){if(_0x472749!==_0x3bd1f3(0x21c)&&_0x472749!==_0x3bd1f3(0x29d))throw new Error(IDE_PYCHARM+_0x3bd1f3(0x2af));else return{};}else return _0x472749===_0x3bd1f3(0x25a)?{}:{'ExposedPorts':(_0x2554e3={},_0x2554e3[_0x41fffe]={},_0x2554e3),'HostConfig':{'PortBindings':(_0x5cb838={},_0x5cb838[_0x41fffe]=[{'HostIp':'','HostPort':''+this[_0x3bd1f3(0x22f)]}],_0x5cb838)}};},_0x482405[_0x648bde(0x245)]['generateProxyContainerOpts']=function(){var _0x3c6250=_0x648bde,_0x54cc72,_0x84248e=_0x482405[_0x3c6250(0x221)]+'/'+_0x482405[_0x3c6250(0x1bc)]+'/'+_0x482405['proxyImageName']+':'+_0x482405['proxyImageVersion'],_0x2cc078=definition_1[_0x3c6250(0x1c5)]((_0x54cc72=this['session'])===null||_0x54cc72===void 0x0?void 0x0:_0x54cc72[_0x3c6250(0x1dd)]),_0x52d3d3={'OpenStdin':![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x1f0473={'HostConfig':{'AutoRemove':!![],'Privileged':!![],'Mounts':[]}},_0x4d684b={};this[_0x3c6250(0x22f)]&&(_0x4d684b=this[_0x3c6250(0x290)]());var _0x22caae=nested_object_assign_1['default']({'Env':this[_0x3c6250(0x212)](),'Image':_0x84248e,'name':_0x2cc078,'User':_0x3c6250(0x229)},_0x52d3d3,_0x1f0473,_0x4d684b),_0x128be7=lodash_1[_0x3c6250(0x202)][_0x3c6250(0x268)](_0x22caae);if(_0x128be7===null||_0x128be7===void 0x0?void 0x0:_0x128be7[_0x3c6250(0x1e3)]){var _0x2800f5=_0x128be7[_0x3c6250(0x1e3)][_0x3c6250(0x1ba)](function(_0x48658a){var _0x2a7050=_0x3c6250;if(_0x48658a[_0x2a7050(0x2d3)](_0x2a7050(0x2a2))||_0x48658a[_0x2a7050(0x2d3)](_0x2a7050(0x28b))){var _0x2757b9=_0x48658a['split']('='),_0x47c47f=utils_1[_0x2a7050(0x208)](_0x2757b9[0x1]);return _0x2757b9[0x0]+'='+_0x47c47f;}else return _0x48658a;});_0x128be7[_0x3c6250(0x1e3)]=_0x2800f5;}return logger_1[_0x3c6250(0x202)][_0x3c6250(0x270)](_0x3c6250(0x28e)+JSON[_0x3c6250(0x1de)](_0x128be7,null,'\x20\x20')),_0x22caae;},_0x482405[_0x648bde(0x245)]['generateProxyContainerEnv']=function(){var _0x1103fc=_0x648bde,_0x2f2955,_0x403682,_0x3bc7ff,_0x3ad921,_0x45203b={'TUNNEL_SERVICE_HOST':_0x482405[_0x1103fc(0x2c5)],'TUNNEL_SERVICE_SESSION_ID':(_0x2f2955=this[_0x1103fc(0x2b6)])===null||_0x2f2955===void 0x0?void 0x0:_0x2f2955[_0x1103fc(0x1dd)],'TUNNEL_SERVICE_INSTANCE_ID':(_0x403682=this[_0x1103fc(0x2b6)])===null||_0x403682===void 0x0?void 0x0:_0x403682['localInstanceId'],'TUNNEL_SERVICE_AK_ID':(_0x3bc7ff=this[_0x1103fc(0x25b)])===null||_0x3bc7ff===void 0x0?void 0x0:_0x3bc7ff['AccessKeyID'],'TUNNEL_SERVICE_AK_SECRET':(_0x3ad921=this[_0x1103fc(0x25b)])===null||_0x3ad921===void 0x0?void 0x0:_0x3ad921[_0x1103fc(0x1e8)]};return lodash_1[_0x1103fc(0x202)]['map'](_0x45203b||{},function(_0x200974,_0x32bf63){return _0x32bf63+'='+_0x200974;});},_0x482405[_0x648bde(0x245)][_0x648bde(0x1b3)]=function(){var _0x5d262b,_0x529589,_0x276ef,_0x575b98,_0x35af1d,_0x15f690;return __awaiter(this,void 0x0,void 0x0,function(){var _0x4f56de,_0x3a5b82,_0x31be93;return __generator(this,function(_0x45bba5){var _0x1fb543=a36_0x5002;switch(_0x45bba5[_0x1fb543(0x265)]){case 0x0:return[0x4,this[_0x1fb543(0x242)]['getSession']((_0x5d262b=this['session'])===null||_0x5d262b===void 0x0?void 0x0:_0x5d262b[_0x1fb543(0x1dd)])];case 0x1:_0x4f56de=_0x45bba5['sent'](),_0x3a5b82=(_0x276ef=(_0x529589=_0x4f56de===null||_0x4f56de===void 0x0?void 0x0:_0x4f56de[_0x1fb543(0x26c)])===null||_0x529589===void 0x0?void 0x0:_0x529589[_0x1fb543(0x1f7)])===null||_0x276ef===void 0x0?void 0x0:_0x276ef[_0x1fb543(0x1e0)],_0x31be93=0x0,_0x45bba5['label']=0x2;case 0x2:if(!(_0x3a5b82!==_0x1fb543(0x222)&&_0x31be93<_0x482405[_0x1fb543(0x1b4)]))return[0x3,0x5];return[0x4,time_1[_0x1fb543(0x224)](0xbb8)];case 0x3:_0x45bba5[_0x1fb543(0x2ad)]();return[0x4,this[_0x1fb543(0x242)][_0x1fb543(0x22e)]((_0x575b98=this[_0x1fb543(0x2b6)])===null||_0x575b98===void 0x0?void 0x0:_0x575b98[_0x1fb543(0x1dd)])];case 0x4:_0x4f56de=_0x45bba5[_0x1fb543(0x2ad)](),_0x3a5b82=(_0x15f690=(_0x35af1d=_0x4f56de===null||_0x4f56de===void 0x0?void 0x0:_0x4f56de[_0x1fb543(0x26c)])===null||_0x35af1d===void 0x0?void 0x0:_0x35af1d[_0x1fb543(0x1f7)])===null||_0x15f690===void 0x0?void 0x0:_0x15f690[_0x1fb543(0x1e0)],_0x31be93=_0x31be93+0x1;return[0x3,0x2];case 0x5:if(_0x3a5b82!==_0x1fb543(0x222))throw new Error(_0x1fb543(0x2b5)+JSON[_0x1fb543(0x1de)](_0x4f56de===null||_0x4f56de===void 0x0?void 0x0:_0x4f56de[_0x1fb543(0x26c)],null,'\x20\x20'));return[0x2];}});});},_0x482405['prototype'][_0x648bde(0x24f)]=function(_0x286079){var _0xe7d19e,_0x254b31,_0xaf9841;return __awaiter(this,void 0x0,void 0x0,function(){var _0x5cab9e,_0x2fb50c,_0x27eeef,_0x3b36b2,_0x1f5df9,_0x52e5d4;return __generator(this,function(_0x254b22){var _0x33d082=a36_0x5002;switch(_0x254b22[_0x33d082(0x265)]){case 0x0:return[0x4,this[_0x33d082(0x2a3)]()];case 0x1:if(!!_0x254b22[_0x33d082(0x2ad)]())return[0x3,0x4];return[0x4,this[_0x33d082(0x223)]()];case 0x2:_0x254b22[_0x33d082(0x2ad)]();return[0x4,this[_0x33d082(0x218)]()];case 0x3:_0x254b22[_0x33d082(0x2ad)]();throw new Error(_0x33d082(0x201));case 0x4:return[0x4,state_1['getHelperConfigFromState']((_0xe7d19e=this[_0x33d082(0x25b)])===null||_0xe7d19e===void 0x0?void 0x0:_0xe7d19e['AccountID'],this[_0x33d082(0x2aa)],(_0x254b31=this['userServiceConfig'])===null||_0x254b31===void 0x0?void 0x0:_0x254b31[_0x33d082(0x260)],(_0xaf9841=this[_0x33d082(0x24c)])===null||_0xaf9841===void 0x0?void 0x0:_0xaf9841[_0x33d082(0x260)])];case 0x5:_0x5cab9e=_0x254b22[_0x33d082(0x2ad)](),_0x2fb50c=_0x5cab9e===null||_0x5cab9e===void 0x0?void 0x0:_0x5cab9e[_0x33d082(0x1df)],_0x27eeef=_0x5cab9e===null||_0x5cab9e===void 0x0?void 0x0:_0x5cab9e[_0x33d082(0x23e)],logger_1[_0x33d082(0x202)]['info']('Invoking\x20helper\x20service:\x20'+(_0x2fb50c===null||_0x2fb50c===void 0x0?void 0x0:_0x2fb50c[_0x33d082(0x260)])+_0x33d082(0x22d)+(_0x27eeef===null||_0x27eeef===void 0x0?void 0x0:_0x27eeef['name'])+_0x33d082(0x1f0)+this[_0x33d082(0x2aa)]+_0x33d082(0x1f2)),_0x3b36b2=new fc_remote_invoke_1['FcRemoteInvokeComponent'](this[_0x33d082(0x2aa)],_0x2fb50c===null||_0x2fb50c===void 0x0?void 0x0:_0x2fb50c['name'],this[_0x33d082(0x20e)],this['appName'],this[_0x33d082(0x207)],_0x27eeef===null||_0x27eeef===void 0x0?void 0x0:_0x27eeef[_0x33d082(0x260)]),_0x1f5df9=_0x3b36b2[_0x33d082(0x1cd)]('fc-remote-invoke',_0x33d082(0x247),_0x286079,_0x33d082(0x205));return[0x4,core['loadComponent'](_0x33d082(0x1d8))];case 0x6:_0x52e5d4=_0x254b22[_0x33d082(0x2ad)]();return[0x4,_0x52e5d4[_0x33d082(0x205)](_0x1f5df9)];case 0x7:_0x254b22['sent']();return[0x2];}});});},_0x482405['prototype'][_0x648bde(0x2a3)]=function(){var _0x53e4f4,_0x5aaccc,_0x17b007;return __awaiter(this,void 0x0,void 0x0,function(){var _0x18cc90,_0x486a38;return __generator(this,function(_0x10e910){var _0x1a17e1=a36_0x5002;switch(_0x10e910[_0x1a17e1(0x265)]){case 0x0:return[0x4,state_1[_0x1a17e1(0x22b)]((_0x53e4f4=this['credentials'])===null||_0x53e4f4===void 0x0?void 0x0:_0x53e4f4['AccountID'],this['region'],(_0x5aaccc=this[_0x1a17e1(0x269)])===null||_0x5aaccc===void 0x0?void 0x0:_0x5aaccc[_0x1a17e1(0x260)],(_0x17b007=this[_0x1a17e1(0x24c)])===null||_0x17b007===void 0x0?void 0x0:_0x17b007[_0x1a17e1(0x260)])];case 0x1:_0x18cc90=_0x10e910[_0x1a17e1(0x2ad)]();if(!_0x18cc90)return[0x2,![]];return[0x4,docker[_0x1a17e1(0x210)]()];case 0x2:_0x486a38=_0x10e910['sent']()[_0x1a17e1(0x1ba)](function(_0x841948){return _0x841948===null||_0x841948===void 0x0?void 0x0:_0x841948['Id'];});if(_0x486a38[_0x1a17e1(0x1cb)](_0x18cc90))return[0x2,!![]];return[0x2,![]];}});});},_0x482405[_0x648bde(0x245)]['clean']=function(){var _0x135639,_0x4b3092,_0x4c3085,_0x524379,_0x40434e,_0x2caaeb,_0x16bfb0,_0x35e7cb,_0x491157;return __awaiter(this,void 0x0,void 0x0,function(){var _0xedacb2,_0x354608,_0x1de443,_0x5d750c,_0x22d6bd,_0x3637a2,_0x148d1d,_0x3a4fb6,_0x4a2c8b,_0x4e8814,_0x336969,_0xc97946,_0x1f707c,_0x58bf29,_0x2c4b7,_0x43c79e;return __generator(this,function(_0x5272d1){var _0x5ef28e=a36_0x5002;switch(_0x5272d1[_0x5ef28e(0x265)]){case 0x0:return[0x4,state_1[_0x5ef28e(0x26d)]((_0x135639=this['credentials'])===null||_0x135639===void 0x0?void 0x0:_0x135639['AccountID'],this['region'],(_0x4b3092=this[_0x5ef28e(0x269)])===null||_0x4b3092===void 0x0?void 0x0:_0x4b3092[_0x5ef28e(0x260)],(_0x4c3085=this['userFunctionConfig'])===null||_0x4c3085===void 0x0?void 0x0:_0x4c3085['name'])];case 0x1:_0xedacb2=_0x5272d1[_0x5ef28e(0x2ad)]();return[0x4,state_1[_0x5ef28e(0x24b)]((_0x524379=this['credentials'])===null||_0x524379===void 0x0?void 0x0:_0x524379[_0x5ef28e(0x1fa)],this['region'],(_0x40434e=this[_0x5ef28e(0x269)])===null||_0x40434e===void 0x0?void 0x0:_0x40434e[_0x5ef28e(0x260)],(_0x2caaeb=this['userFunctionConfig'])===null||_0x2caaeb===void 0x0?void 0x0:_0x2caaeb[_0x5ef28e(0x260)])];case 0x2:_0x354608=_0x5272d1[_0x5ef28e(0x2ad)]();return[0x4,state_1[_0x5ef28e(0x22b)]((_0x16bfb0=this[_0x5ef28e(0x25b)])===null||_0x16bfb0===void 0x0?void 0x0:_0x16bfb0['AccountID'],this[_0x5ef28e(0x2aa)],(_0x35e7cb=this['userServiceConfig'])===null||_0x35e7cb===void 0x0?void 0x0:_0x35e7cb[_0x5ef28e(0x260)],(_0x491157=this[_0x5ef28e(0x24c)])===null||_0x491157===void 0x0?void 0x0:_0x491157[_0x5ef28e(0x260)])];case 0x3:_0x1de443=_0x5272d1[_0x5ef28e(0x2ad)](),_0x5d750c=_0xedacb2===null||_0xedacb2===void 0x0?void 0x0:_0xedacb2[_0x5ef28e(0x1df)],_0x22d6bd=_0xedacb2===null||_0xedacb2===void 0x0?void 0x0:_0xedacb2[_0x5ef28e(0x23e)],_0x3637a2=_0xedacb2===null||_0xedacb2===void 0x0?void 0x0:_0xedacb2[_0x5ef28e(0x232)];if(!_0x1de443)return[0x3,0x8];_0x5272d1[_0x5ef28e(0x265)]=0x4;case 0x4:_0x5272d1[_0x5ef28e(0x288)][_0x5ef28e(0x2a4)]([0x4,0x7,,0x8]),_0x148d1d=docker[_0x5ef28e(0x1f4)](_0x1de443);return[0x4,docker_1[_0x5ef28e(0x21a)](_0x148d1d)];case 0x5:_0x5272d1[_0x5ef28e(0x2ad)]();return[0x4,this[_0x5ef28e(0x249)]()];case 0x6:_0x5272d1[_0x5ef28e(0x2ad)]();return[0x3,0x8];case 0x7:_0x3a4fb6=_0x5272d1[_0x5ef28e(0x2ad)](),logger_1['default']['warning'](stdout_formatter_1['default'][_0x5ef28e(0x1c7)][_0x5ef28e(0x1d1)]('stop\x20proxy\x20container','containerId:\x20'+_0x1de443,_0x3a4fb6===null||_0x3a4fb6===void 0x0?void 0x0:_0x3a4fb6[_0x5ef28e(0x279)])),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x270)](_0x5ef28e(0x1ff)+_0x1de443+_0x5ef28e(0x2bc)+_0x3a4fb6);return[0x3,0x8];case 0x8:_0x4a2c8b=core[_0x5ef28e(0x2d4)](_0x5ef28e(0x2cd)),_0x5272d1[_0x5ef28e(0x265)]=0x9;case 0x9:_0x5272d1[_0x5ef28e(0x288)][_0x5ef28e(0x2a4)]([0x9,0xb,,0xc]);return[0x4,this['unsetHelperFunctionConfig'](_0x5d750c===null||_0x5d750c===void 0x0?void 0x0:_0x5d750c['name'],_0x22d6bd===null||_0x22d6bd===void 0x0?void 0x0:_0x22d6bd[_0x5ef28e(0x260)],_0x5ef28e(0x286))];case 0xa:_0x5272d1[_0x5ef28e(0x2ad)](),_0x4a2c8b['succeed'](_0x5ef28e(0x2ac));return[0x3,0xc];case 0xb:_0x4e8814=_0x5272d1[_0x5ef28e(0x2ad)](),_0x4a2c8b[_0x5ef28e(0x1b6)](_0x5ef28e(0x292)),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x28d)](_0x4e8814===null||_0x4e8814===void 0x0?void 0x0:_0x4e8814[_0x5ef28e(0x279)]),logger_1['default'][_0x5ef28e(0x270)](_0x5ef28e(0x261)+_0x4e8814);return[0x3,0xc];case 0xc:_0x5272d1[_0x5ef28e(0x288)][_0x5ef28e(0x2a4)]([0xc,0xf,,0x10]),_0x336969=new fc_deploy_1[(_0x5ef28e(0x209))](this['region'],_0x5d750c,this[_0x5ef28e(0x20e)],this[_0x5ef28e(0x1e5)],this['path'],_0x22d6bd,_0x3637a2);return[0x4,core[_0x5ef28e(0x2ae)](_0x5ef28e(0x29f))];case 0xd:_0xc97946=_0x5272d1[_0x5ef28e(0x2ad)](),_0x1f707c=_0x336969[_0x5ef28e(0x1cd)](_0x5ef28e(0x2bb),_0x5ef28e(0x281),_0x5ef28e(0x257),'remove');return[0x4,_0xc97946['remove'](_0x1f707c)];case 0xe:_0x5272d1['sent']();return[0x3,0x10];case 0xf:_0x58bf29=_0x5272d1[_0x5ef28e(0x2ad)](),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x228)](stdout_formatter_1[_0x5ef28e(0x202)][_0x5ef28e(0x1c7)][_0x5ef28e(0x1d1)](_0x5ef28e(0x254),_0x5ef28e(0x237)+(_0x5d750c===null||_0x5d750c===void 0x0?void 0x0:_0x5d750c['name'])+_0x5ef28e(0x2d0)+(_0x22d6bd===null||_0x22d6bd===void 0x0?void 0x0:_0x22d6bd[_0x5ef28e(0x260)]),_0x58bf29===null||_0x58bf29===void 0x0?void 0x0:_0x58bf29['message'])),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x270)]('Error:\x20'+_0x58bf29);return[0x3,0x10];case 0x10:_0x2c4b7=core[_0x5ef28e(0x2d4)](_0x5ef28e(0x278)+(_0x354608===null||_0x354608===void 0x0?void 0x0:_0x354608[_0x5ef28e(0x1dd)])+_0x5ef28e(0x23a));;_0x5272d1['label']=0x11;case 0x11:_0x5272d1['trys']['push']([0x11,0x13,,0x14]);return[0x4,this[_0x5ef28e(0x2bd)](_0x354608===null||_0x354608===void 0x0?void 0x0:_0x354608[_0x5ef28e(0x1dd)])];case 0x12:_0x5272d1[_0x5ef28e(0x2ad)](),_0x2c4b7[_0x5ef28e(0x23c)](_0x5ef28e(0x215)+(_0x354608===null||_0x354608===void 0x0?void 0x0:_0x354608[_0x5ef28e(0x1dd)])+_0x5ef28e(0x29b));return[0x3,0x14];case 0x13:_0x43c79e=_0x5272d1[_0x5ef28e(0x2ad)](),_0x2c4b7['fail'](_0x5ef28e(0x20c)),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x28d)](_0x43c79e===null||_0x43c79e===void 0x0?void 0x0:_0x43c79e['message']),logger_1[_0x5ef28e(0x202)][_0x5ef28e(0x270)](_0x5ef28e(0x261)+_0x43c79e);return[0x3,0x14];case 0x14:return[0x2];}});});},_0x482405['prototype'][_0x648bde(0x22e)]=function(){return this['session'];},_0x482405[_0x648bde(0x1b4)]=0x28,_0x482405[_0x648bde(0x2c5)]=_0x648bde(0x285),_0x482405['proxyImageName']=_0x648bde(0x258),_0x482405['proxyImageStableVersion']=_0x648bde(0x1be),_0x482405[_0x648bde(0x27e)]=_0x648bde(0x1be),_0x482405[_0x648bde(0x1d5)]=process[_0x648bde(0x263)][_0x648bde(0x21d)]||_0x482405[_0x648bde(0x27e)],_0x482405[_0x648bde(0x298)]=process['env'][_0x648bde(0x275)]||_0x482405[_0x648bde(0x272)],_0x482405['proxyImageRepo']=_0x648bde(0x1ef),_0x482405['proxyImaggeRegistry']=_0x648bde(0x299),_0x482405[_0x648bde(0x1f9)]=path[_0x648bde(0x294)](os[_0x648bde(0x1ce)](),'.s',_0x648bde(0x1f8),'fc-tunnel-invoke'),_0x482405['runtimeListNeedSetTsAdjustFLag']=[_0x648bde(0x2a0),'python',_0x648bde(0x25e),'java'],_0x482405;}();exports[a36_0xd56fe9(0x202)]=TunnelService;