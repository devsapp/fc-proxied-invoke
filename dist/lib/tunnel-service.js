'use strict';var a36_0x154e=['unsetKVInState','remoteInstanceId','lodash','container','map','tunnerServiceHost','domainName','Setting\x20helper\x20function\x20with\x201\x20provison\x20and\x200\x20elasticity','done','runtimeListNeedSetTsAdjustFLag','writeEventToStreamAndClose','ops','initializationTimeout','Helper\x20function\x20generated\x20by\x20fc-tunnel-invoke\x20component','genStateId','fc-remote-invoke-project','helperImageStableVersion','Proxy\x20container\x20is\x20not\x20running,\x20please\x20run\x20\x27clean\x27\x20method\x20and\x20retry\x20\x27setup\x27\x20method.','AccessKeySecret','Close\x20stdout\x20file\x20of\x20proxy\x20container:\x20','serviceName','proxyImageStableVersion','__createBinding','sent','@serverless-devs/core','registry.cn-hangzhou.aliyuncs.com','then','indexOf','session','Retry\x20setting\x20provision\x20','filter','handler','nasConfig','TUNNEL_SERVICE_PROXY_IMAGE_LATEST_VERSION','cacheDirPath','genHelperFunctionConfig','java','invoke','containerId:\x20','./component/stdout-formatter','proxyContainerId','Create\x20session\x20failed,\x20error\x20is:\x20\x0a','genHelperCustomDomainConfig','pycharm','nested-object-assign','PUT','setSigint','34gkjGpE','getContainer','/tcp','getHelperConfigFromState','function','./component/fc-remote-invoke','makeHelperFunction','maxRetryCnt','8WDErkR','Proxy\x20container\x20is\x20running.','call','__importStar','error','caPort','devsapp/fc-remote-invoke','asyncConfiguration','genProxyContainerName','utf-8','__esModule','saveProxyContainerId','checkIfProxyContainerRunning','CreateSessionRequest','debugPort','Create\x20session\x20failed.','getInvokeContainerIdFromState','php','ts-local','path','env','getSession','userCustomDomainConfigList','Tunnel\x20service\x20proxy\x20container\x20options:\x20','fc-deploy-project','generateProxyContainerOpts','14412TeQLQQ','name','Put\x20provision\x20config\x20error:\x20','\x20error:\x20','debugIde','runProxyContainer','loadComponent','fc-tunnel-invoke','throw','session_','push','1062lvhTNB','hasOwnProperty','functionName','stdoutFormatter','appName','python','length','fail','\x20failed!\x0aError:\x20','Start\x20proxy\x20container\x20failed.','pullImageIfNeed','retry','340974capXWD','./client','setHelperFunctionProvision','runner','stderrFilePath','userFunctionConfig','13ldQQIr','stopContainer','unsetProxyContainerId','Received\x20canncel\x20request,\x20stopping\x20running\x20proxy\x20container.....','return','50131lPMBgQ','On-demand\x20config\x20delete\x20result:\x20','cache','clean','defineProperty','next','dirname','Session\x20established!','isCustomContainerRuntime','setup','genOutputFileOfProxyContainer','debug','\x20in\x20region:\x20','Stop\x20proxy\x20container:\x20','certConfig','./docker/docker','cloneDeep','service\x20-y','fc-deploy','invokeHelperFunction','substring','Error:\x20','./utils/stream','homedir','./errorProcessor','fs-extra','getProxyContainerIdFromState','47hUbqjV','getFcClient','Set\x20provision\x20result:\x20','FcRemoteInvokeComponent','userTriggerConfigList','create','Creating\x20session...','request','proxyImageVersion','succeed','info','value','body','prototype','/functions/','unsetHelperFunctionConfig','setKVInState','close','41GQDQvk','45763STAdXQ','internetAccess','streamOfRunner','Deleting\x20session:\x20','service','sessionName','@alicloud/tunnel-service20210509','createWriteStream','./definition','code','Delete\x20session:\x20','Proxied\x20invoke\x20only\x20support\x20caPort:\x209000\x20for\x20custom-container/custom\x20runtime.Please\x20change\x20it\x20temporarily\x20and\x20retry.','Set/get\x20provision\x20of\x20helper\x20function\x20error.Please\x20make\x20sure\x20you\x20have\x20the\x20related\x20ram\x20permission.','instanceConcurrency','status','mark','message','statusCode','Deploying\x20helper\x20function...','Create\x20session\x20result\x20data:\x20','php7.2','generateProxyContainerDebugOpts','sleep',',\x20stderr\x20to:\x20','setHelperFunctionConfig','TUNNEL_SERVICE_AK_ID','AccountID','\x20to\x20make\x20local\x20function\x20run.','split','LATEST','cleanFunctionContainer','generateProxyContainerEnv','20689TtHpUw','apply','localInstanceId','/on-demand-config','Env','stdoutFileWriteStream','userServiceConfig','Delete\x20session\x20body:\x20','./component/fc-deploy','./utils/devs','remove','v0.1.0','runContainer','Close\x20stderr\x20file\x20of\x20proxy\x20container:\x20','access','__setModuleDefault','createSession','serviceName:\x20','putProvisionConfig','getHttpTrigger','pop','SESSION-','\x20times.','SIGINT','/services/','Session\x20created,\x20session\x20id:\x20','proxyImageRepo','1951737esNatw','proxyImageName','helperConfig','proxyImaggeRegistry',',\x20function:\x20','client','Unset\x20error.','remove\x20helper\x20service','deleteSession','helperImageVersion','sessionId','deploy','aliyunfc','queryUntilSessionEstablished','FcDeployComponent','unsetInvokeContainerId','stdout.log','getProvisionConfig','warn','TUNNEL_SERVICE_AK_SECRET','assign','fcClient','Delete\x20error.','join','stdoutFilePath','forEach','warning','ensureDir','stderrFileWriteStream',',\x20functionName:\x20','runtime','region','iterator','devsapp/fc-deploy','instanceLifecycleConfig','routeConfigs','AlicloudClient','--use-local','stringify','Session\x20establish\x20fail,\x20body\x20in\x20response\x20is:\x20','saveSession','isAutoConfig','python2.7','trys','...','default','credentials','generateSessionName','includes','isEmpty','initializer','spinner','Session\x20establish\x20fail.','AccessKeyID','data','genHelperServiceConfig','label','genComponentInputs','environmentVariables'];var a36_0x3d207b=a36_0x4c8a;(function(_0xfc55e4,_0x3ac118){var _0x3dfad0=a36_0x4c8a;while(!![]){try{var _0x53acf5=-parseInt(_0x3dfad0(0x2d7))*parseInt(_0x3dfad0(0x2a4))+parseInt(_0x3dfad0(0x2a9))*-parseInt(_0x3dfad0(0x26d))+-parseInt(_0x3dfad0(0x29e))+-parseInt(_0x3dfad0(0x292))*parseInt(_0x3dfad0(0x2c4))+-parseInt(_0x3dfad0(0x265))*parseInt(_0x3dfad0(0x287))+-parseInt(_0x3dfad0(0x1e0))*-parseInt(_0x3dfad0(0x2d6))+parseInt(_0x3dfad0(0x1fb));if(_0x53acf5===_0x3ac118)break;else _0xfc55e4['push'](_0xfc55e4['shift']());}catch(_0x358529){_0xfc55e4['push'](_0xfc55e4['shift']());}}}(a36_0x154e,0xe15f3));function a36_0x4c8a(_0x4eedf7,_0x499688){return a36_0x4c8a=function(_0x154e5a,_0x4c8a26){_0x154e5a=_0x154e5a-0x1c3;var _0x33a719=a36_0x154e[_0x154e5a];return _0x33a719;},a36_0x4c8a(_0x4eedf7,_0x499688);}var __createBinding=this&&this[a36_0x3d207b(0x24c)]||(Object[a36_0x3d207b(0x2c9)]?function(_0x4ec45c,_0xf6b126,_0x503e2d,_0x4b49b7){var _0x2237b1=a36_0x3d207b;if(_0x4b49b7===undefined)_0x4b49b7=_0x503e2d;Object[_0x2237b1(0x2ad)](_0x4ec45c,_0x4b49b7,{'enumerable':!![],'get':function(){return _0xf6b126[_0x503e2d];}});}:function(_0x28da66,_0x143cf3,_0x4fbbe6,_0x3e3c0d){if(_0x3e3c0d===undefined)_0x3e3c0d=_0x4fbbe6;_0x28da66[_0x3e3c0d]=_0x143cf3[_0x4fbbe6];}),__setModuleDefault=this&&this[a36_0x3d207b(0x1ef)]||(Object['create']?function(_0x1bb17f,_0x4102b8){Object['defineProperty'](_0x1bb17f,'default',{'enumerable':!![],'value':_0x4102b8});}:function(_0x41a112,_0x49a8f7){var _0x21aaf6=a36_0x3d207b;_0x41a112[_0x21aaf6(0x228)]=_0x49a8f7;}),__importStar=this&&this[a36_0x3d207b(0x270)]||function(_0x12558f){var _0x364956=a36_0x3d207b;if(_0x12558f&&_0x12558f[_0x364956(0x277)])return _0x12558f;var _0x29b969={};if(_0x12558f!=null){for(var _0x22a381 in _0x12558f)if(_0x22a381!==_0x364956(0x228)&&Object[_0x364956(0x293)][_0x364956(0x26f)](_0x12558f,_0x22a381))__createBinding(_0x29b969,_0x12558f,_0x22a381);}return __setModuleDefault(_0x29b969,_0x12558f),_0x29b969;},__awaiter=this&&this['__awaiter']||function(_0x380a4e,_0x1af838,_0x5488d9,_0x32197e){function _0xbf7246(_0x5c5ac8){return _0x5c5ac8 instanceof _0x5488d9?_0x5c5ac8:new _0x5488d9(function(_0x280df8){_0x280df8(_0x5c5ac8);});}return new(_0x5488d9||(_0x5488d9=Promise))(function(_0x3ad825,_0x4c7d64){var _0x5701b6=a36_0x4c8a;function _0x2f121a(_0x198176){try{_0x260b21(_0x32197e['next'](_0x198176));}catch(_0x593efb){_0x4c7d64(_0x593efb);}}function _0x380c66(_0x3e5832){var _0x5c3275=a36_0x4c8a;try{_0x260b21(_0x32197e[_0x5c3275(0x28f)](_0x3e5832));}catch(_0x2503e5){_0x4c7d64(_0x2503e5);}}function _0x260b21(_0x52df98){var _0x51b5a6=a36_0x4c8a;_0x52df98[_0x51b5a6(0x23e)]?_0x3ad825(_0x52df98[_0x51b5a6(0x2cf)]):_0xbf7246(_0x52df98[_0x51b5a6(0x2cf)])[_0x51b5a6(0x250)](_0x2f121a,_0x380c66);}_0x260b21((_0x32197e=_0x32197e[_0x5701b6(0x1e1)](_0x380a4e,_0x1af838||[]))[_0x5701b6(0x2ae)]());});},__generator=this&&this['__generator']||function(_0x40d992,_0x2405bf){var _0x42507f=a36_0x3d207b,_0x3b36a2={'label':0x0,'sent':function(){if(_0x3e0360[0x0]&0x1)throw _0x3e0360[0x1];return _0x3e0360[0x1];},'trys':[],'ops':[]},_0x20bbb0,_0x599a67,_0x3e0360,_0xf84a31;return _0xf84a31={'next':_0x5c5c34(0x0),'throw':_0x5c5c34(0x1),'return':_0x5c5c34(0x2)},typeof Symbol===_0x42507f(0x269)&&(_0xf84a31[Symbol[_0x42507f(0x21b)]]=function(){return this;}),_0xf84a31;function _0x5c5c34(_0x1a582a){return function(_0x509577){return _0x147460([_0x1a582a,_0x509577]);};}function _0x147460(_0x30c4f4){var _0x41dd22=_0x42507f;if(_0x20bbb0)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x3b36a2)try{if(_0x20bbb0=0x1,_0x599a67&&(_0x3e0360=_0x30c4f4[0x0]&0x2?_0x599a67[_0x41dd22(0x2a8)]:_0x30c4f4[0x0]?_0x599a67[_0x41dd22(0x28f)]||((_0x3e0360=_0x599a67[_0x41dd22(0x2a8)])&&_0x3e0360[_0x41dd22(0x26f)](_0x599a67),0x0):_0x599a67['next'])&&!(_0x3e0360=_0x3e0360[_0x41dd22(0x26f)](_0x599a67,_0x30c4f4[0x1]))[_0x41dd22(0x23e)])return _0x3e0360;if(_0x599a67=0x0,_0x3e0360)_0x30c4f4=[_0x30c4f4[0x0]&0x2,_0x3e0360[_0x41dd22(0x2cf)]];switch(_0x30c4f4[0x0]){case 0x0:case 0x1:_0x3e0360=_0x30c4f4;break;case 0x4:_0x3b36a2['label']++;return{'value':_0x30c4f4[0x1],'done':![]};case 0x5:_0x3b36a2[_0x41dd22(0x233)]++,_0x599a67=_0x30c4f4[0x1],_0x30c4f4=[0x0];continue;case 0x7:_0x30c4f4=_0x3b36a2[_0x41dd22(0x241)]['pop'](),_0x3b36a2[_0x41dd22(0x226)][_0x41dd22(0x1f4)]();continue;default:if(!(_0x3e0360=_0x3b36a2[_0x41dd22(0x226)],_0x3e0360=_0x3e0360[_0x41dd22(0x298)]>0x0&&_0x3e0360[_0x3e0360[_0x41dd22(0x298)]-0x1])&&(_0x30c4f4[0x0]===0x6||_0x30c4f4[0x0]===0x2)){_0x3b36a2=0x0;continue;}if(_0x30c4f4[0x0]===0x3&&(!_0x3e0360||_0x30c4f4[0x1]>_0x3e0360[0x0]&&_0x30c4f4[0x1]<_0x3e0360[0x3])){_0x3b36a2[_0x41dd22(0x233)]=_0x30c4f4[0x1];break;}if(_0x30c4f4[0x0]===0x6&&_0x3b36a2[_0x41dd22(0x233)]<_0x3e0360[0x1]){_0x3b36a2[_0x41dd22(0x233)]=_0x3e0360[0x1],_0x3e0360=_0x30c4f4;break;}if(_0x3e0360&&_0x3b36a2[_0x41dd22(0x233)]<_0x3e0360[0x2]){_0x3b36a2[_0x41dd22(0x233)]=_0x3e0360[0x2],_0x3b36a2[_0x41dd22(0x241)][_0x41dd22(0x291)](_0x30c4f4);break;}if(_0x3e0360[0x2])_0x3b36a2['ops']['pop']();_0x3b36a2[_0x41dd22(0x226)]['pop']();continue;}_0x30c4f4=_0x2405bf[_0x41dd22(0x26f)](_0x40d992,_0x3b36a2);}catch(_0x2dee33){_0x30c4f4=[0x6,_0x2dee33],_0x599a67=0x0;}finally{_0x20bbb0=_0x3e0360=0x0;}if(_0x30c4f4[0x0]&0x5)throw _0x30c4f4[0x1];return{'value':_0x30c4f4[0x0]?_0x30c4f4[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0x1cd32a){var _0xbbf024=a36_0x3d207b;return _0x1cd32a&&_0x1cd32a[_0xbbf024(0x277)]?_0x1cd32a:{'default':_0x1cd32a};};Object[a36_0x3d207b(0x2ad)](exports,'__esModule',{'value':!![]});var logger_1=__importDefault(require('../common/logger')),core=__importStar(require(a36_0x3d207b(0x24e))),client_1=require(a36_0x3d207b(0x29f)),lodash_1=__importDefault(require(a36_0x3d207b(0x238))),fc_deploy_1=require(a36_0x3d207b(0x1e8)),time_1=require('./utils/time'),docker_1=require(a36_0x3d207b(0x2b8)),nested_object_assign_1=__importDefault(require(a36_0x3d207b(0x262))),utils_1=require('./utils/utils'),path=__importStar(require('path')),os=__importStar(require('os')),fse=__importStar(require(a36_0x3d207b(0x2c2))),tunnel_service20210509_1=require(a36_0x3d207b(0x1c6)),tunnel_service20210509_2=__importDefault(require(a36_0x3d207b(0x1c6))),definition_1=require(a36_0x3d207b(0x1c8)),process_1=require('./utils/process'),stream_1=require(a36_0x3d207b(0x2bf)),fc_remote_invoke_1=require(a36_0x3d207b(0x26a)),devs_1=require(a36_0x3d207b(0x1e9)),dockerode_1=__importDefault(require('dockerode')),runtime_1=require('./utils/runtime'),stdout_formatter_1=__importDefault(require(a36_0x3d207b(0x25d))),errorProcessor_1=require(a36_0x3d207b(0x2c1)),retry_1=require('./retry'),state_1=require('./utils/state'),docker=new dockerode_1['default'](),IDE_PYCHARM=a36_0x3d207b(0x261),TunnelService=function(){var _0x5cf6f9=a36_0x3d207b;function _0x41af4d(_0x1c42cd,_0x4412e2,_0x390c1b,_0x5dac93,_0x2b7341,_0x234d06,_0x4bff84,_0x2a9229,_0xad81d2,_0x38b47c,_0x14548c){var _0x314813=a36_0x4c8a,_0x139ea2=this,_0x3e0555,_0x20641a;this[_0x314813(0x229)]=_0x1c42cd,this[_0x314813(0x1e6)]=_0x4412e2,this[_0x314813(0x2a3)]=_0x390c1b,this['userTriggerConfigList']=_0x2a9229,this['userCustomDomainConfigList']=_0xad81d2,this[_0x314813(0x27b)]=_0x38b47c,this['debugIde']=_0x14548c,this[_0x314813(0x21a)]=_0x5dac93,this['access']=_0x2b7341,this[_0x314813(0x296)]=_0x234d06,this[_0x314813(0x280)]=_0x4bff84;var _0x20caea={'accessKeyId':(_0x3e0555=this[_0x314813(0x229)])===null||_0x3e0555===void 0x0?void 0x0:_0x3e0555[_0x314813(0x230)],'accessKeySecret':(_0x20641a=this[_0x314813(0x229)])===null||_0x20641a===void 0x0?void 0x0:_0x20641a[_0x314813(0x248)],'regionId':this[_0x314813(0x21a)],'endpoint':_0x41af4d[_0x314813(0x23b)]};this[_0x314813(0x200)]=new tunnel_service20210509_2[(_0x314813(0x228))](_0x20caea),process_1[_0x314813(0x264)](),process['on'](_0x314813(0x1f7),function(){return __awaiter(_0x139ea2,void 0x0,void 0x0,function(){var _0x472664,_0x3734b2,_0x4454d0;return __generator(this,function(_0xe1cd23){var _0x30c20a=a36_0x4c8a;switch(_0xe1cd23['label']){case 0x0:this['streamOfRunner']&&stream_1[_0x30c20a(0x240)](this['streamOfRunner']);if(!this[_0x30c20a(0x2a1)])return[0x3,0x3];logger_1[_0x30c20a(0x228)][_0x30c20a(0x2ce)](_0x30c20a(0x2a7));return[0x4,docker_1[_0x30c20a(0x2a5)](this[_0x30c20a(0x2a1)])];case 0x1:_0xe1cd23['sent']();return[0x4,this[_0x30c20a(0x2a6)]()];case 0x2:_0xe1cd23[_0x30c20a(0x24d)](),_0xe1cd23[_0x30c20a(0x233)]=0x3;case 0x3:_0x472664=this[_0x30c20a(0x2b3)](),_0x3734b2=_0x472664[_0x30c20a(0x213)],_0x4454d0=_0x472664[_0x30c20a(0x2a2)];this['stdoutFileWriteStream']&&this[_0x30c20a(0x1e5)][_0x30c20a(0x2d5)](function(_0x23efc6){var _0x63b7e8=_0x30c20a;_0x23efc6&&logger_1[_0x63b7e8(0x228)][_0x63b7e8(0x215)](_0x63b7e8(0x249)+_0x3734b2+_0x63b7e8(0x29a)+_0x23efc6);});this[_0x30c20a(0x217)]&&this['stderrFileWriteStream']['close'](function(_0x2fe50e){var _0x54fdc9=_0x30c20a;_0x2fe50e&&logger_1[_0x54fdc9(0x228)]['warning'](_0x54fdc9(0x1ed)+_0x4454d0+_0x54fdc9(0x29a)+_0x2fe50e);});return[0x2];}});});});}return _0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x2b2)]=function(){var _0x4703ae,_0x2e3473;return __awaiter(this,void 0x0,void 0x0,function(){var _0x5e3339,_0x1dfc85,_0x535848,_0x38689b,_0x454dc5,_0x499e76,_0x189549,_0x2a1000,_0x53a961=this;return __generator(this,function(_0x56a419){var _0x133664=a36_0x4c8a;switch(_0x56a419[_0x133664(0x233)]){case 0x0:if(((_0x4703ae=this[_0x133664(0x2a3)])===null||_0x4703ae===void 0x0?void 0x0:_0x4703ae[_0x133664(0x272)])&&((_0x2e3473=this[_0x133664(0x2a3)])===null||_0x2e3473===void 0x0?void 0x0:_0x2e3473[_0x133664(0x272)])!==0x2328)throw new Error(_0x133664(0x1cb));_0x5e3339=new client_1[(_0x133664(0x21f))](this[_0x133664(0x229)]),_0x1dfc85=this;return[0x4,_0x5e3339[_0x133664(0x2c5)](this[_0x133664(0x21a)])];case 0x1:_0x1dfc85['fcClient']=_0x56a419[_0x133664(0x24d)](),_0x535848=core[_0x133664(0x22e)](_0x133664(0x2ca)),_0x56a419['label']=0x2;case 0x2:_0x56a419[_0x133664(0x226)]['push']([0x2,0x4,,0x5]);return[0x4,retry_1['promiseRetry'](function(_0x16a893,_0x4b6b2d){return __awaiter(_0x53a961,void 0x0,void 0x0,function(){var _0x2fe2af,_0x260174;return __generator(this,function(_0x2041a5){var _0x7c89c1=a36_0x4c8a;switch(_0x2041a5['label']){case 0x0:_0x2041a5[_0x7c89c1(0x226)][_0x7c89c1(0x291)]([0x0,0x3,,0x4]),_0x2fe2af=this;return[0x4,this[_0x7c89c1(0x1f0)]()];case 0x1:_0x2fe2af['session']=_0x2041a5[_0x7c89c1(0x24d)](),_0x535848[_0x7c89c1(0x2cd)](_0x7c89c1(0x1f9)+this[_0x7c89c1(0x252)][_0x7c89c1(0x205)]+'.');return[0x4,this['saveSession']()];case 0x2:_0x2041a5[_0x7c89c1(0x24d)]();return[0x2];case 0x3:_0x260174=_0x2041a5['sent']();if(_0x260174[_0x7c89c1(0x1c9)]==='AccessDenied')throw _0x260174;logger_1[_0x7c89c1(0x228)][_0x7c89c1(0x2b4)](_0x7c89c1(0x25f)+_0x260174),logger_1[_0x7c89c1(0x228)][_0x7c89c1(0x2ce)](stdout_formatter_1['default'][_0x7c89c1(0x295)][_0x7c89c1(0x29d)](_0x7c89c1(0x252),_0x7c89c1(0x2c9),'',_0x4b6b2d)),_0x16a893(_0x260174);return[0x3,0x4];case 0x4:return[0x2];}});});})];case 0x3:_0x56a419[_0x133664(0x24d)]();return[0x3,0x5];case 0x4:_0x38689b=_0x56a419[_0x133664(0x24d)](),_0x535848[_0x133664(0x299)](_0x133664(0x27c));throw _0x38689b;case 0x5:logger_1[_0x133664(0x228)][_0x133664(0x2ce)](_0x133664(0x1d2));return[0x4,this[_0x133664(0x26b)]()];case 0x6:_0x56a419[_0x133664(0x24d)](),_0x454dc5=core[_0x133664(0x22e)]('Starting\x20proxy\x20container...'),_0x56a419[_0x133664(0x233)]=0x7;case 0x7:_0x56a419[_0x133664(0x226)][_0x133664(0x291)]([0x7,0x9,,0xa]);return[0x4,this[_0x133664(0x28c)]()];case 0x8:_0x56a419[_0x133664(0x24d)](),_0x454dc5[_0x133664(0x2cd)](_0x133664(0x26e));return[0x3,0xa];case 0x9:_0x499e76=_0x56a419['sent'](),_0x454dc5[_0x133664(0x299)](_0x133664(0x29b));throw _0x499e76;case 0xa:_0x189549=core[_0x133664(0x22e)]('Checking\x20if\x20session\x20is\x20established...'),_0x56a419['label']=0xb;case 0xb:_0x56a419[_0x133664(0x226)][_0x133664(0x291)]([0xb,0xd,,0xe]);return[0x4,this['queryUntilSessionEstablished']()];case 0xc:_0x56a419[_0x133664(0x24d)](),_0x189549[_0x133664(0x2cd)](_0x133664(0x2b0));return[0x3,0xe];case 0xd:_0x2a1000=_0x56a419[_0x133664(0x24d)](),_0x189549[_0x133664(0x299)](_0x133664(0x22f));throw _0x2a1000;case 0xe:return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x22a)]=function(){var _0x53f859=_0x5cf6f9;return _0x53f859(0x290)+this[_0x53f859(0x21a)]+'_'+this[_0x53f859(0x1e6)][_0x53f859(0x288)];},_0x41af4d['prototype']['cleanFunctionContainer']=function(){var _0x1d5129,_0x46ca52,_0x29d129,_0x1bd265,_0x333547,_0x376ccb;return __awaiter(this,void 0x0,void 0x0,function(){var _0x19c3e7,_0x1815b3;return __generator(this,function(_0x14ba67){var _0x527341=a36_0x4c8a;switch(_0x14ba67[_0x527341(0x233)]){case 0x0:return[0x4,state_1[_0x527341(0x27d)]((_0x1d5129=this[_0x527341(0x229)])===null||_0x1d5129===void 0x0?void 0x0:_0x1d5129[_0x527341(0x1da)],this[_0x527341(0x21a)],(_0x46ca52=this[_0x527341(0x1e6)])===null||_0x46ca52===void 0x0?void 0x0:_0x46ca52[_0x527341(0x288)],(_0x29d129=this[_0x527341(0x2a3)])===null||_0x29d129===void 0x0?void 0x0:_0x29d129[_0x527341(0x288)])];case 0x1:_0x19c3e7=_0x14ba67[_0x527341(0x24d)]();return[0x4,docker[_0x527341(0x266)](_0x19c3e7)];case 0x2:_0x1815b3=_0x14ba67[_0x527341(0x24d)]();return[0x4,docker_1[_0x527341(0x2a5)](_0x1815b3)];case 0x3:_0x14ba67[_0x527341(0x24d)]();return[0x4,state_1[_0x527341(0x20a)]((_0x1bd265=this['credentials'])===null||_0x1bd265===void 0x0?void 0x0:_0x1bd265[_0x527341(0x1da)],this[_0x527341(0x21a)],(_0x333547=this[_0x527341(0x1e6)])===null||_0x333547===void 0x0?void 0x0:_0x333547['name'],(_0x376ccb=this[_0x527341(0x2a3)])===null||_0x376ccb===void 0x0?void 0x0:_0x376ccb[_0x527341(0x288)])];case 0x4:_0x14ba67[_0x527341(0x24d)]();return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x1f0)]=function(){var _0x4f94ad;return __awaiter(this,void 0x0,void 0x0,function(){var _0x76227e,_0x7456f4,_0x3e9337,_0x31a7ed;return __generator(this,function(_0x13aa3f){var _0x4a0e0a=a36_0x4c8a;switch(_0x13aa3f[_0x4a0e0a(0x233)]){case 0x0:_0x76227e=this[_0x4a0e0a(0x22a)](),_0x7456f4=new tunnel_service20210509_1[(_0x4a0e0a(0x27a))]({'sessionName':_0x76227e}),logger_1['default'][_0x4a0e0a(0x2b4)]('Session\x20name\x20is\x20:\x20'+_0x76227e);return[0x4,this[_0x4a0e0a(0x200)][_0x4a0e0a(0x1f0)](_0x7456f4)];case 0x1:_0x3e9337=_0x13aa3f[_0x4a0e0a(0x24d)](),_0x31a7ed=(_0x4f94ad=_0x3e9337===null||_0x3e9337===void 0x0?void 0x0:_0x3e9337[_0x4a0e0a(0x2d0)])===null||_0x4f94ad===void 0x0?void 0x0:_0x4f94ad[_0x4a0e0a(0x231)],logger_1[_0x4a0e0a(0x228)][_0x4a0e0a(0x2b4)](_0x4a0e0a(0x1d3)+JSON['stringify'](_0x31a7ed,null,'\x20\x20'));return[0x2,{'name':_0x31a7ed===null||_0x31a7ed===void 0x0?void 0x0:_0x31a7ed[_0x4a0e0a(0x1c5)],'sessionId':_0x31a7ed===null||_0x31a7ed===void 0x0?void 0x0:_0x31a7ed[_0x4a0e0a(0x205)],'localInstanceId':_0x31a7ed===null||_0x31a7ed===void 0x0?void 0x0:_0x31a7ed[_0x4a0e0a(0x1e2)],'remoteInstanceId':_0x31a7ed===null||_0x31a7ed===void 0x0?void 0x0:_0x31a7ed[_0x4a0e0a(0x237)]}];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x203)]=function(_0x10c3c1){return __awaiter(this,void 0x0,void 0x0,function(){var _0x58156d,_0x5645e0;return __generator(this,function(_0x3dd11c){var _0x50be7d=a36_0x4c8a;switch(_0x3dd11c[_0x50be7d(0x233)]){case 0x0:return[0x4,this[_0x50be7d(0x200)]['deleteSession'](_0x10c3c1)];case 0x1:_0x58156d=_0x3dd11c[_0x50be7d(0x24d)](),_0x5645e0=_0x58156d===null||_0x58156d===void 0x0?void 0x0:_0x58156d[_0x50be7d(0x2d0)],logger_1[_0x50be7d(0x228)]['debug'](_0x50be7d(0x1e7)+JSON['stringify'](_0x5645e0,null,'\x20\x20'));return[0x2];}});});},_0x41af4d['prototype'][_0x5cf6f9(0x232)]=function(){var _0x6b05fb=_0x5cf6f9,_0x38cbfa,_0x108aa5=lodash_1[_0x6b05fb(0x228)][_0x6b05fb(0x2b9)](this[_0x6b05fb(0x1e6)]);return _0x108aa5['name']=_0x6b05fb(0x1f5)+((_0x38cbfa=this[_0x6b05fb(0x252)])===null||_0x38cbfa===void 0x0?void 0x0:_0x38cbfa[_0x6b05fb(0x205)][_0x6b05fb(0x2bd)](0x0,0x7)),_0x108aa5[_0x6b05fb(0x2d8)]=!![],definition_1[_0x6b05fb(0x224)](_0x108aa5===null||_0x108aa5===void 0x0?void 0x0:_0x108aa5[_0x6b05fb(0x256)])&&delete _0x108aa5['nasConfig'],_0x108aa5;},_0x41af4d['prototype'][_0x5cf6f9(0x259)]=function(){var _0x4bd859=_0x5cf6f9,_0x5e69f4=this,_0x3d7c32,_0x1768f6,_0xe04a,_0x406cc4,_0x32c785,_0x35c384,_0x29e980,_0x57bccb,_0x3eb10d,_0x2461eb,_0x10e1d0,_0x2eda02,_0x39a225,_0x1464cf,_0x484b60,_0x9e6f,_0x2d8d8f={'name':(_0x3d7c32=this[_0x4bd859(0x2a3)])===null||_0x3d7c32===void 0x0?void 0x0:_0x3d7c32[_0x4bd859(0x288)],'description':_0x4bd859(0x243),'runtime':'custom-container','handler':(_0x1768f6=this['userFunctionConfig'])===null||_0x1768f6===void 0x0?void 0x0:_0x1768f6[_0x4bd859(0x255)],'timeout':0x258,'memorySize':0x200,'customContainerConfig':{'image':'registry.'+this[_0x4bd859(0x21a)]+'.aliyuncs.com/aliyunfc/ts-remote:'+_0x41af4d[_0x4bd859(0x204)]},'environmentVariables':{'TUNNEL_SERVICE_HOST':_0x41af4d['tunnerServiceHost'],'TUNNEL_SERVICE_INSTANCE_ID':(_0xe04a=this[_0x4bd859(0x252)])===null||_0xe04a===void 0x0?void 0x0:_0xe04a[_0x4bd859(0x237)],'TUNNEL_SERVICE_SESSION_ID':(_0x406cc4=this[_0x4bd859(0x252)])===null||_0x406cc4===void 0x0?void 0x0:_0x406cc4[_0x4bd859(0x205)],'TUNNEL_SERVICE_AK_ID':(_0x32c785=this['credentials'])===null||_0x32c785===void 0x0?void 0x0:_0x32c785[_0x4bd859(0x230)],'TUNNEL_SERVICE_AK_SECRET':(_0x35c384=this[_0x4bd859(0x229)])===null||_0x35c384===void 0x0?void 0x0:_0x35c384[_0x4bd859(0x248)]}};return!lodash_1[_0x4bd859(0x228)][_0x4bd859(0x22c)](definition_1[_0x4bd859(0x1f3)](this[_0x4bd859(0x2c8)]))&&_0x41af4d['runtimeListNeedSetTsAdjustFLag'][_0x4bd859(0x214)](function(_0x3fb4e8){var _0x330da2=_0x4bd859,_0x43800b;((_0x43800b=_0x5e69f4[_0x330da2(0x2a3)])===null||_0x43800b===void 0x0?void 0x0:_0x43800b['runtime'][_0x330da2(0x251)](_0x3fb4e8))!==-0x1&&Object[_0x330da2(0x20f)](_0x2d8d8f[_0x330da2(0x235)],{'TS_DEBUG_HTTP_TRIGGER_ADJUST':!![]});}),((_0x29e980=this[_0x4bd859(0x2a3)])===null||_0x29e980===void 0x0?void 0x0:_0x29e980[_0x4bd859(0x242)])&&((_0x57bccb=this[_0x4bd859(0x2a3)])===null||_0x57bccb===void 0x0?void 0x0:_0x57bccb['initializer'])&&Object[_0x4bd859(0x20f)](_0x2d8d8f,{'initializationTimeout':(_0x3eb10d=this[_0x4bd859(0x2a3)])===null||_0x3eb10d===void 0x0?void 0x0:_0x3eb10d[_0x4bd859(0x242)],'initializer':(_0x2461eb=this[_0x4bd859(0x2a3)])===null||_0x2461eb===void 0x0?void 0x0:_0x2461eb[_0x4bd859(0x22d)]}),((_0x10e1d0=this[_0x4bd859(0x2a3)])===null||_0x10e1d0===void 0x0?void 0x0:_0x10e1d0[_0x4bd859(0x21d)])&&Object[_0x4bd859(0x20f)](_0x2d8d8f,{'instanceLifecycleConfig':(_0x2eda02=this['userFunctionConfig'])===null||_0x2eda02===void 0x0?void 0x0:_0x2eda02[_0x4bd859(0x21d)]}),((_0x39a225=this['userFunctionConfig'])===null||_0x39a225===void 0x0?void 0x0:_0x39a225[_0x4bd859(0x1cd)])&&Object[_0x4bd859(0x20f)](_0x2d8d8f,{'instanceConcurrency':(_0x1464cf=this[_0x4bd859(0x2a3)])===null||_0x1464cf===void 0x0?void 0x0:_0x1464cf[_0x4bd859(0x1cd)]}),((_0x484b60=this[_0x4bd859(0x2a3)])===null||_0x484b60===void 0x0?void 0x0:_0x484b60[_0x4bd859(0x274)])&&Object[_0x4bd859(0x20f)](_0x2d8d8f,{'asyncConfiguration':(_0x9e6f=this[_0x4bd859(0x2a3)])===null||_0x9e6f===void 0x0?void 0x0:_0x9e6f[_0x4bd859(0x274)]}),_0x2d8d8f;},_0x41af4d['prototype'][_0x5cf6f9(0x260)]=function(){var _0x5558ec=_0x5cf6f9,_0x58315a=this;if(lodash_1[_0x5558ec(0x228)][_0x5558ec(0x22c)](this[_0x5558ec(0x283)]))return[];var _0xa89a2e=[];for(var _0x59b56b=0x0,_0x2380ef=this[_0x5558ec(0x283)];_0x59b56b<_0x2380ef[_0x5558ec(0x298)];_0x59b56b++){var _0xb593bc=_0x2380ef[_0x59b56b],_0x5c044b=_0xb593bc===null||_0xb593bc===void 0x0?void 0x0:_0xb593bc[_0x5558ec(0x21e)][_0x5558ec(0x23a)](function(_0x403ad3){var _0x33db59=_0x5558ec,_0x3efc24,_0x5f04aa;if((_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3['serviceName'])&&(_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3[_0x33db59(0x24a)])===((_0x3efc24=_0x58315a['userServiceConfig'])===null||_0x3efc24===void 0x0?void 0x0:_0x3efc24['name'])&&(_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3[_0x33db59(0x294)])&&(_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3['functionName'])===((_0x5f04aa=_0x58315a['userFunctionConfig'])===null||_0x5f04aa===void 0x0?void 0x0:_0x5f04aa[_0x33db59(0x288)])){var _0x3bd88c=lodash_1[_0x33db59(0x228)]['cloneDeep'](_0x403ad3);return _0x3bd88c===null||_0x3bd88c===void 0x0?!![]:delete _0x3bd88c['serviceName'],_0x3bd88c===null||_0x3bd88c===void 0x0?!![]:delete _0x3bd88c[_0x33db59(0x294)],_0x3bd88c;}if(!(_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3[_0x33db59(0x24a)])&&!(_0x403ad3===null||_0x403ad3===void 0x0?void 0x0:_0x403ad3[_0x33db59(0x294)]))return _0x403ad3;}),_0x17ff62={'domainName':_0xb593bc===null||_0xb593bc===void 0x0?void 0x0:_0xb593bc[_0x5558ec(0x23c)],'protocol':_0xb593bc===null||_0xb593bc===void 0x0?void 0x0:_0xb593bc['protocol'],'routeConfigs':_0x5c044b[_0x5558ec(0x254)](function(_0x17b5ef){return _0x17b5ef;})};(_0xb593bc===null||_0xb593bc===void 0x0?void 0x0:_0xb593bc['certConfig'])&&Object[_0x5558ec(0x20f)](_0x17ff62,{'certConfig':_0x17ff62===null||_0x17ff62===void 0x0?void 0x0:_0x17ff62[_0x5558ec(0x2b7)]}),_0xa89a2e[_0x5558ec(0x291)](_0x17ff62);}return _0xa89a2e;},_0x41af4d['prototype'][_0x5cf6f9(0x26b)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1344ea,_0x5ec3d0,_0x3f239e,_0x14b02e,_0x10da83,_0x15b221,_0x304280,_0x4f1a21,_0x4d2d75,_0xc25887,_0x365b21;return __generator(this,function(_0x2c2f69){var _0x4148a2=a36_0x4c8a;switch(_0x2c2f69[_0x4148a2(0x233)]){case 0x0:_0x1344ea=this[_0x4148a2(0x232)](),_0x5ec3d0=this[_0x4148a2(0x259)](),_0x3f239e=this[_0x4148a2(0x2c8)],_0x14b02e=this[_0x4148a2(0x260)](),_0x10da83=new fc_deploy_1[(_0x4148a2(0x209))](this[_0x4148a2(0x21a)],_0x1344ea,this[_0x4148a2(0x1ee)],this[_0x4148a2(0x296)],this[_0x4148a2(0x280)],_0x5ec3d0,_0x3f239e,_0x14b02e),_0x15b221=_0x10da83[_0x4148a2(0x234)](_0x4148a2(0x2bb),_0x4148a2(0x285),_0x4148a2(0x220),'deploy');return[0x4,core['loadComponent'](_0x4148a2(0x21c))];case 0x1:_0x304280=_0x2c2f69[_0x4148a2(0x24d)](),_0x2c2f69['label']=0x2;case 0x2:_0x2c2f69[_0x4148a2(0x226)][_0x4148a2(0x291)]([0x2,0x9,,0xb]);return[0x4,_0x304280[_0x4148a2(0x206)](_0x15b221)];case 0x3:_0x4f1a21=_0x2c2f69[_0x4148a2(0x24d)]();return[0x4,this['saveHelperFunctionDeployRes'](_0x4f1a21)];case 0x4:_0x2c2f69[_0x4148a2(0x24d)](),_0x4d2d75=core['spinner'](_0x4148a2(0x23d)),_0x2c2f69[_0x4148a2(0x233)]=0x5;case 0x5:_0x2c2f69[_0x4148a2(0x226)][_0x4148a2(0x291)]([0x5,0x7,,0x8]);return[0x4,this[_0x4148a2(0x1d8)](_0x1344ea[_0x4148a2(0x288)],_0x5ec3d0[_0x4148a2(0x288)])];case 0x6:_0x2c2f69[_0x4148a2(0x24d)](),_0x4d2d75[_0x4148a2(0x2cd)]('Helper\x20function\x20is\x20set\x20to\x201\x20provison\x20and\x200\x20elasticity.');return[0x3,0x8];case 0x7:_0xc25887=_0x2c2f69[_0x4148a2(0x24d)](),_0x4d2d75[_0x4148a2(0x299)]('Fail\x20to\x20set\x20provison\x20and\x20elasticity\x20for\x20helper\x20function.');throw _0xc25887;case 0x8:return[0x3,0xb];case 0x9:_0x365b21=_0x2c2f69['sent']();return[0x4,_0x304280[_0x4148a2(0x1ea)](_0x15b221)];case 0xa:_0x2c2f69[_0x4148a2(0x24d)](),errorProcessor_1['processMakeHelperFunctionErr'](_0x365b21);return[0x3,0xb];case 0xb:return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)]['saveHelperFunctionDeployRes']=function(_0x4a8349){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2a3aac){var _0x1d4ffe=a36_0x4c8a;switch(_0x2a3aac[_0x1d4ffe(0x233)]){case 0x0:return[0x4,devs_1[_0x1d4ffe(0x2d4)](_0x1d4ffe(0x1fd),_0x4a8349,this[_0x1d4ffe(0x244)]())];case 0x1:_0x2a3aac[_0x1d4ffe(0x24d)]();return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x223)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x47af83){var _0x3fcf19=a36_0x4c8a;switch(_0x47af83[_0x3fcf19(0x233)]){case 0x0:return[0x4,devs_1['setKVInState']('session',this[_0x3fcf19(0x252)],this[_0x3fcf19(0x244)]())];case 0x1:_0x47af83[_0x3fcf19(0x24d)]();return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)]['genStateId']=function(){var _0x5720fe=_0x5cf6f9,_0xd92451,_0x187681;return this[_0x5720fe(0x229)][_0x5720fe(0x1da)]+'-'+this[_0x5720fe(0x21a)]+'-'+((_0xd92451=this[_0x5720fe(0x1e6)])===null||_0xd92451===void 0x0?void 0x0:_0xd92451[_0x5720fe(0x288)])+'-'+((_0x187681=this[_0x5720fe(0x2a3)])===null||_0x187681===void 0x0?void 0x0:_0x187681['name']);},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x2a0)]=function(_0x2c4a8d,_0x273eed,_0x24d812,_0x15921a){var _0x32efe7,_0x2ae4c0;return __awaiter(this,void 0x0,void 0x0,function(){var _0x2c18e4,_0x4213f1,_0x3350f1,_0x2f2adf,_0x2e696d,_0xd29506;return __generator(this,function(_0x117ea7){var _0x4ae9ce=a36_0x4c8a;switch(_0x117ea7['label']){case 0x0:_0x2c18e4=_0x15921a||_0x4ae9ce(0x1dd);if(!!this[_0x4ae9ce(0x210)])return[0x3,0x2];_0x4213f1=new client_1[(_0x4ae9ce(0x21f))](this[_0x4ae9ce(0x229)]),_0x3350f1=this;return[0x4,_0x4213f1[_0x4ae9ce(0x2c5)](this[_0x4ae9ce(0x21a)])];case 0x1:_0x3350f1['fcClient']=_0x117ea7[_0x4ae9ce(0x24d)](),_0x117ea7[_0x4ae9ce(0x233)]=0x2;case 0x2:_0x117ea7['trys']['push']([0x2,0x4,,0x5]);return[0x4,this[_0x4ae9ce(0x210)][_0x4ae9ce(0x1f2)](_0x2c4a8d,_0x273eed,_0x2c18e4,{'target':_0x24d812})];case 0x3:_0x117ea7['sent']();return[0x3,0x5];case 0x4:_0x2f2adf=_0x117ea7[_0x4ae9ce(0x24d)]();throw new Error(_0x4ae9ce(0x289)+_0x2f2adf+',\x20please\x20make\x20sure\x20that\x20your\x20account\x20has\x20updateService\x20permission.');case 0x5:return[0x4,this[_0x4ae9ce(0x210)][_0x4ae9ce(0x20c)](_0x2c4a8d,_0x273eed,_0x2c18e4)];case 0x6:_0x2e696d=_0x117ea7[_0x4ae9ce(0x24d)](),_0xd29506=0x0,_0x117ea7[_0x4ae9ce(0x233)]=0x7;case 0x7:if(!(((_0x32efe7=_0x2e696d===null||_0x2e696d===void 0x0?void 0x0:_0x2e696d['data'])===null||_0x32efe7===void 0x0?void 0x0:_0x32efe7['current'])!==0x1&&_0xd29506<=_0x41af4d[_0x4ae9ce(0x26c)]))return[0x3,0xa];return[0x4,this[_0x4ae9ce(0x210)][_0x4ae9ce(0x20c)](_0x2c4a8d,_0x273eed,_0x2c18e4)];case 0x8:_0x2e696d=_0x117ea7['sent'](),_0xd29506=_0xd29506+0x1,logger_1[_0x4ae9ce(0x228)]['debug'](_0x4ae9ce(0x253)+_0xd29506+_0x4ae9ce(0x1f6));return[0x4,time_1[_0x4ae9ce(0x1d6)](0xbb8)];case 0x9:_0x117ea7['sent']();return[0x3,0x7];case 0xa:if(((_0x2ae4c0=_0x2e696d===null||_0x2e696d===void 0x0?void 0x0:_0x2e696d[_0x4ae9ce(0x231)])===null||_0x2ae4c0===void 0x0?void 0x0:_0x2ae4c0['current'])!==0x1){logger_1[_0x4ae9ce(0x228)][_0x4ae9ce(0x2b4)](JSON[_0x4ae9ce(0x221)](_0x2e696d,null,'\x20\x20'));throw new Error(_0x4ae9ce(0x1cc));}logger_1[_0x4ae9ce(0x228)][_0x4ae9ce(0x2b4)](_0x4ae9ce(0x2c6)+JSON[_0x4ae9ce(0x221)](_0x2e696d===null||_0x2e696d===void 0x0?void 0x0:_0x2e696d[_0x4ae9ce(0x231)]));return[0x2];}});});},_0x41af4d['prototype']['unsetHelperFunctionConfig']=function(_0x5f1e5a,_0x2f8622,_0x1370a6){return __awaiter(this,void 0x0,void 0x0,function(){var _0x429843,_0x5cbcc3,_0x1a5658,_0x531777,_0x55ddd3;return __generator(this,function(_0x3993fd){var _0x885288=a36_0x4c8a;switch(_0x3993fd[_0x885288(0x233)]){case 0x0:return[0x4,this[_0x885288(0x2a0)](_0x5f1e5a,_0x2f8622,0x0,_0x1370a6)];case 0x1:_0x3993fd[_0x885288(0x24d)](),_0x429843='DELETE',_0x5cbcc3=_0x885288(0x1f8)+_0x5f1e5a+'.'+_0x1370a6+_0x885288(0x2d2)+_0x2f8622+_0x885288(0x1e3);if(!!this['client'])return[0x3,0x3];_0x1a5658=new client_1[(_0x885288(0x21f))](this[_0x885288(0x229)]),_0x531777=this;return[0x4,_0x1a5658[_0x885288(0x2c5)](this[_0x885288(0x21a)])];case 0x2:_0x531777[_0x885288(0x210)]=_0x3993fd[_0x885288(0x24d)](),_0x3993fd[_0x885288(0x233)]=0x3;case 0x3:return[0x4,this['fcClient'][_0x885288(0x2cb)](_0x429843,_0x5cbcc3,null,JSON['stringify']({}))];case 0x4:_0x55ddd3=_0x3993fd['sent'](),logger_1[_0x885288(0x228)][_0x885288(0x2b4)](_0x885288(0x2aa)+(_0x55ddd3===null||_0x55ddd3===void 0x0?void 0x0:_0x55ddd3[_0x885288(0x1d1)]));return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)]['setHelperFunctionConfig']=function(_0x4ce1a4,_0x2a886c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x400912,_0x34587e,_0x48c84a,_0x17f892,_0x400589,_0x1547f9;return __generator(this,function(_0x495cb5){var _0x304fc4=a36_0x4c8a;switch(_0x495cb5[_0x304fc4(0x233)]){case 0x0:_0x400912=_0x304fc4(0x1dd);return[0x4,this[_0x304fc4(0x2a0)](_0x4ce1a4,_0x2a886c,0x1,_0x400912)];case 0x1:_0x495cb5[_0x304fc4(0x24d)](),_0x34587e=_0x304fc4(0x263),_0x48c84a='/services/'+_0x4ce1a4+'.'+_0x400912+_0x304fc4(0x2d2)+_0x2a886c+_0x304fc4(0x1e3);if(!!this[_0x304fc4(0x210)])return[0x3,0x3];_0x17f892=new client_1[(_0x304fc4(0x21f))](this['credentials']),_0x400589=this;return[0x4,_0x17f892['getFcClient'](this[_0x304fc4(0x21a)])];case 0x2:_0x400589['fcClient']=_0x495cb5['sent'](),_0x495cb5[_0x304fc4(0x233)]=0x3;case 0x3:return[0x4,this['fcClient'][_0x304fc4(0x2cb)](_0x34587e,_0x48c84a,null,JSON[_0x304fc4(0x221)]({'maximumInstanceCount':0x0}))];case 0x4:_0x1547f9=_0x495cb5[_0x304fc4(0x24d)](),logger_1[_0x304fc4(0x228)]['debug']('On-demand\x20config\x20put\x20result:\x20'+(_0x1547f9===null||_0x1547f9===void 0x0?void 0x0:_0x1547f9['statusCode']));return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x2b3)]=function(){var _0x3a1078=_0x5cf6f9,_0xf8ba06;if(!lodash_1[_0x3a1078(0x228)][_0x3a1078(0x22c)](this['session'])){var _0x133b49=path['join'](_0x41af4d['cacheDirPath'],(_0xf8ba06=this['session'])===null||_0xf8ba06===void 0x0?void 0x0:_0xf8ba06[_0x3a1078(0x205)]),_0x3d35ee=path[_0x3a1078(0x212)](_0x133b49,_0x3a1078(0x20b)),_0x2e1dba=path[_0x3a1078(0x212)](_0x133b49,'stderr.log');return{'stdoutFilePath':_0x3d35ee,'stderrFilePath':_0x2e1dba};}return{};},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x28c)]=function(){var _0x509bce;return __awaiter(this,void 0x0,void 0x0,function(){var _0x445a06,_0x170bb4,_0x43d253,_0x1eb6e1,_0x4850e4;return __generator(this,function(_0x510398){var _0x2e6d4c=a36_0x4c8a;switch(_0x510398[_0x2e6d4c(0x233)]){case 0x0:return[0x4,docker_1[_0x2e6d4c(0x29c)](_0x41af4d[_0x2e6d4c(0x1fe)],_0x41af4d[_0x2e6d4c(0x1fa)],_0x41af4d[_0x2e6d4c(0x1fc)],_0x41af4d[_0x2e6d4c(0x2cc)])];case 0x1:_0x510398[_0x2e6d4c(0x24d)](),_0x445a06=this[_0x2e6d4c(0x286)](),(_0x170bb4=this['genOutputFileOfProxyContainer'](),_0x43d253=_0x170bb4[_0x2e6d4c(0x213)],_0x1eb6e1=_0x170bb4[_0x2e6d4c(0x2a2)]);return[0x4,fse[_0x2e6d4c(0x216)](path[_0x2e6d4c(0x2af)](_0x43d253))];case 0x2:_0x510398['sent'](),logger_1[_0x2e6d4c(0x228)][_0x2e6d4c(0x2b4)]('Container:\x20'+(_0x445a06===null||_0x445a06===void 0x0?void 0x0:_0x445a06[_0x2e6d4c(0x288)])+'\x20stdout\x20to:\x20'+_0x43d253+_0x2e6d4c(0x1d7)+_0x1eb6e1),this[_0x2e6d4c(0x1e5)]=fse[_0x2e6d4c(0x1c7)](_0x43d253,{'flag':'w+','encoding':'utf-8','autoClose':!![]}),this[_0x2e6d4c(0x217)]=fse[_0x2e6d4c(0x1c7)](_0x1eb6e1,{'flag':'w+','encoding':_0x2e6d4c(0x276),'autoClose':!![]});return[0x4,docker_1[_0x2e6d4c(0x1ec)](_0x445a06,this['stdoutFileWriteStream'],this[_0x2e6d4c(0x217)])];case 0x3:_0x4850e4=_0x510398['sent'](),this[_0x2e6d4c(0x2d9)]=_0x4850e4===null||_0x4850e4===void 0x0?void 0x0:_0x4850e4['stream'],this[_0x2e6d4c(0x2a1)]=_0x4850e4===null||_0x4850e4===void 0x0?void 0x0:_0x4850e4[_0x2e6d4c(0x239)];return[0x4,this['saveProxyContainerId']((_0x509bce=this['runner'])===null||_0x509bce===void 0x0?void 0x0:_0x509bce['id'])];case 0x4:_0x510398[_0x2e6d4c(0x24d)]();return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x278)]=function(_0x3b58f3){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x98c4cb){var _0xc4ae20=a36_0x4c8a;switch(_0x98c4cb[_0xc4ae20(0x233)]){case 0x0:return[0x4,devs_1[_0xc4ae20(0x2d4)](_0xc4ae20(0x25e),_0x3b58f3,this['genStateId']())];case 0x1:_0x98c4cb[_0xc4ae20(0x24d)]();return[0x2];}});});},_0x41af4d['prototype'][_0x5cf6f9(0x2a6)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x58b500){var _0x37d3ad=a36_0x4c8a;switch(_0x58b500[_0x37d3ad(0x233)]){case 0x0:return[0x4,devs_1[_0x37d3ad(0x236)](_0x37d3ad(0x25e),this[_0x37d3ad(0x244)]())];case 0x1:_0x58b500[_0x37d3ad(0x24d)]();return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)]['generateProxyContainerDebugOpts']=function(){var _0x11ec5c=_0x5cf6f9,_0x3ed359,_0x5f2c21,_0x1696b2,_0x175d8c=(_0x1696b2=this[_0x11ec5c(0x2a3)])===null||_0x1696b2===void 0x0?void 0x0:_0x1696b2[_0x11ec5c(0x219)];if(runtime_1[_0x11ec5c(0x2b1)](_0x175d8c))return{};var _0x909223=this[_0x11ec5c(0x27b)]+_0x11ec5c(0x267);if(this[_0x11ec5c(0x28b)]===IDE_PYCHARM){if(_0x175d8c!==_0x11ec5c(0x225)&&_0x175d8c!=='python3')throw new Error(IDE_PYCHARM+'\x20debug\x20config\x20only\x20support\x20for\x20runtime\x20[python2.7,\x20python3]');else return{};}else return _0x175d8c===_0x11ec5c(0x1d4)?{}:{'ExposedPorts':(_0x3ed359={},_0x3ed359[_0x909223]={},_0x3ed359),'HostConfig':{'PortBindings':(_0x5f2c21={},_0x5f2c21[_0x909223]=[{'HostIp':'','HostPort':''+this['debugPort']}],_0x5f2c21)}};},_0x41af4d['prototype'][_0x5cf6f9(0x286)]=function(){var _0x3386f2=_0x5cf6f9,_0xefc305,_0x18774e=_0x41af4d['proxyImaggeRegistry']+'/'+_0x41af4d['proxyImageRepo']+'/'+_0x41af4d[_0x3386f2(0x1fc)]+':'+_0x41af4d['proxyImageVersion'],_0x51f0a1=definition_1[_0x3386f2(0x275)]((_0xefc305=this[_0x3386f2(0x252)])===null||_0xefc305===void 0x0?void 0x0:_0xefc305['sessionId']),_0x34e99d={'OpenStdin':![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x56d58a={'HostConfig':{'AutoRemove':!![],'Privileged':!![],'Mounts':[]}},_0x25996d={};this[_0x3386f2(0x27b)]&&(_0x25996d=this[_0x3386f2(0x1d5)]());var _0x2261ac=nested_object_assign_1['default']({'Env':this[_0x3386f2(0x1df)](),'Image':_0x18774e,'name':_0x51f0a1,'User':'0:0'},_0x34e99d,_0x56d58a,_0x25996d),_0x5b414f=lodash_1[_0x3386f2(0x228)]['cloneDeep'](_0x2261ac);if(_0x5b414f===null||_0x5b414f===void 0x0?void 0x0:_0x5b414f[_0x3386f2(0x1e4)]){var _0x2a2a55=_0x5b414f['Env'][_0x3386f2(0x23a)](function(_0x3689f3){var _0x13d224=_0x3386f2;if(_0x3689f3['startsWith'](_0x13d224(0x1d9))||_0x3689f3['startsWith'](_0x13d224(0x20e))){var _0x12ff65=_0x3689f3[_0x13d224(0x1dc)]('='),_0x22bf28=utils_1[_0x13d224(0x1cf)](_0x12ff65[0x1]);return _0x12ff65[0x0]+'='+_0x22bf28;}else return _0x3689f3;});_0x5b414f[_0x3386f2(0x1e4)]=_0x2a2a55;}return logger_1['default'][_0x3386f2(0x2b4)](_0x3386f2(0x284)+JSON[_0x3386f2(0x221)](_0x5b414f,null,'\x20\x20')),_0x2261ac;},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x1df)]=function(){var _0x18c101=_0x5cf6f9,_0x49c593,_0x11ea56,_0x767ff,_0x11d10e,_0x16c26f={'TUNNEL_SERVICE_HOST':_0x41af4d[_0x18c101(0x23b)],'TUNNEL_SERVICE_SESSION_ID':(_0x49c593=this['session'])===null||_0x49c593===void 0x0?void 0x0:_0x49c593[_0x18c101(0x205)],'TUNNEL_SERVICE_INSTANCE_ID':(_0x11ea56=this[_0x18c101(0x252)])===null||_0x11ea56===void 0x0?void 0x0:_0x11ea56[_0x18c101(0x1e2)],'TUNNEL_SERVICE_AK_ID':(_0x767ff=this[_0x18c101(0x229)])===null||_0x767ff===void 0x0?void 0x0:_0x767ff[_0x18c101(0x230)],'TUNNEL_SERVICE_AK_SECRET':(_0x11d10e=this[_0x18c101(0x229)])===null||_0x11d10e===void 0x0?void 0x0:_0x11d10e[_0x18c101(0x248)]};return lodash_1['default'][_0x18c101(0x23a)](_0x16c26f||{},function(_0x402930,_0x3e6280){return _0x3e6280+'='+_0x402930;});},_0x41af4d['prototype'][_0x5cf6f9(0x208)]=function(){var _0x4586c6,_0x496533,_0x370c0c,_0x318422,_0x33cb8a,_0x1ceac5;return __awaiter(this,void 0x0,void 0x0,function(){var _0x488d5e,_0x496ef4,_0xa37d10;return __generator(this,function(_0x30e1e1){var _0x5bb5cc=a36_0x4c8a;switch(_0x30e1e1[_0x5bb5cc(0x233)]){case 0x0:return[0x4,this['client'][_0x5bb5cc(0x282)]((_0x4586c6=this['session'])===null||_0x4586c6===void 0x0?void 0x0:_0x4586c6['sessionId'])];case 0x1:_0x488d5e=_0x30e1e1[_0x5bb5cc(0x24d)](),_0x496ef4=(_0x370c0c=(_0x496533=_0x488d5e===null||_0x488d5e===void 0x0?void 0x0:_0x488d5e[_0x5bb5cc(0x2d0)])===null||_0x496533===void 0x0?void 0x0:_0x496533['data'])===null||_0x370c0c===void 0x0?void 0x0:_0x370c0c[_0x5bb5cc(0x1ce)],_0xa37d10=0x0,_0x30e1e1['label']=0x2;case 0x2:if(!(_0x496ef4!=='ESTABLISHED'&&_0xa37d10<_0x41af4d[_0x5bb5cc(0x26c)]))return[0x3,0x5];return[0x4,time_1['sleep'](0xbb8)];case 0x3:_0x30e1e1[_0x5bb5cc(0x24d)]();return[0x4,this['client']['getSession']((_0x318422=this[_0x5bb5cc(0x252)])===null||_0x318422===void 0x0?void 0x0:_0x318422[_0x5bb5cc(0x205)])];case 0x4:_0x488d5e=_0x30e1e1[_0x5bb5cc(0x24d)](),_0x496ef4=(_0x1ceac5=(_0x33cb8a=_0x488d5e===null||_0x488d5e===void 0x0?void 0x0:_0x488d5e['body'])===null||_0x33cb8a===void 0x0?void 0x0:_0x33cb8a[_0x5bb5cc(0x231)])===null||_0x1ceac5===void 0x0?void 0x0:_0x1ceac5['status'],_0xa37d10=_0xa37d10+0x1;return[0x3,0x2];case 0x5:if(_0x496ef4!=='ESTABLISHED')throw new Error(_0x5bb5cc(0x222)+JSON[_0x5bb5cc(0x221)](_0x488d5e===null||_0x488d5e===void 0x0?void 0x0:_0x488d5e['body'],null,'\x20\x20'));return[0x2];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x2bc)]=function(_0x2aa619){var _0x22e74b,_0x570c00,_0x2da5dc;return __awaiter(this,void 0x0,void 0x0,function(){var _0x4abd2e,_0x26d0cb,_0x4fd8b4,_0x1c51cd,_0x55f460,_0x103d71;return __generator(this,function(_0x7e52f0){var _0x3f2b5d=a36_0x4c8a;switch(_0x7e52f0[_0x3f2b5d(0x233)]){case 0x0:return[0x4,this[_0x3f2b5d(0x279)]()];case 0x1:if(!!_0x7e52f0['sent']())return[0x3,0x4];return[0x4,this[_0x3f2b5d(0x2ac)]()];case 0x2:_0x7e52f0[_0x3f2b5d(0x24d)]();return[0x4,this[_0x3f2b5d(0x1de)]()];case 0x3:_0x7e52f0[_0x3f2b5d(0x24d)]();throw new Error(_0x3f2b5d(0x247));case 0x4:return[0x4,state_1[_0x3f2b5d(0x268)]((_0x22e74b=this[_0x3f2b5d(0x229)])===null||_0x22e74b===void 0x0?void 0x0:_0x22e74b['AccountID'],this[_0x3f2b5d(0x21a)],(_0x570c00=this['userServiceConfig'])===null||_0x570c00===void 0x0?void 0x0:_0x570c00[_0x3f2b5d(0x288)],(_0x2da5dc=this[_0x3f2b5d(0x2a3)])===null||_0x2da5dc===void 0x0?void 0x0:_0x2da5dc[_0x3f2b5d(0x288)])];case 0x5:_0x4abd2e=_0x7e52f0[_0x3f2b5d(0x24d)](),_0x26d0cb=_0x4abd2e===null||_0x4abd2e===void 0x0?void 0x0:_0x4abd2e['service'],_0x4fd8b4=_0x4abd2e===null||_0x4abd2e===void 0x0?void 0x0:_0x4abd2e[_0x3f2b5d(0x269)],logger_1['default'][_0x3f2b5d(0x2ce)]('Invoking\x20helper\x20service:\x20'+(_0x26d0cb===null||_0x26d0cb===void 0x0?void 0x0:_0x26d0cb[_0x3f2b5d(0x288)])+_0x3f2b5d(0x1ff)+(_0x4fd8b4===null||_0x4fd8b4===void 0x0?void 0x0:_0x4fd8b4[_0x3f2b5d(0x288)])+_0x3f2b5d(0x2b5)+this[_0x3f2b5d(0x21a)]+_0x3f2b5d(0x1db)),_0x1c51cd=new fc_remote_invoke_1[(_0x3f2b5d(0x2c7))](this[_0x3f2b5d(0x21a)],_0x26d0cb===null||_0x26d0cb===void 0x0?void 0x0:_0x26d0cb[_0x3f2b5d(0x288)],this['access'],this['appName'],this['path'],_0x4fd8b4===null||_0x4fd8b4===void 0x0?void 0x0:_0x4fd8b4[_0x3f2b5d(0x288)]),_0x55f460=_0x1c51cd[_0x3f2b5d(0x234)]('fc-remote-invoke',_0x3f2b5d(0x245),_0x2aa619,_0x3f2b5d(0x25b));return[0x4,core['loadComponent'](_0x3f2b5d(0x273))];case 0x6:_0x103d71=_0x7e52f0[_0x3f2b5d(0x24d)]();return[0x4,_0x103d71['invoke'](_0x55f460)];case 0x7:_0x7e52f0['sent']();return[0x2];}});});},_0x41af4d['prototype'][_0x5cf6f9(0x279)]=function(){var _0x212dc5,_0x54844e,_0x4520ec;return __awaiter(this,void 0x0,void 0x0,function(){var _0x2bee8a,_0xba3532;return __generator(this,function(_0x3d897b){var _0x538cbb=a36_0x4c8a;switch(_0x3d897b[_0x538cbb(0x233)]){case 0x0:return[0x4,state_1[_0x538cbb(0x2c3)]((_0x212dc5=this[_0x538cbb(0x229)])===null||_0x212dc5===void 0x0?void 0x0:_0x212dc5[_0x538cbb(0x1da)],this[_0x538cbb(0x21a)],(_0x54844e=this['userServiceConfig'])===null||_0x54844e===void 0x0?void 0x0:_0x54844e[_0x538cbb(0x288)],(_0x4520ec=this[_0x538cbb(0x2a3)])===null||_0x4520ec===void 0x0?void 0x0:_0x4520ec['name'])];case 0x1:_0x2bee8a=_0x3d897b[_0x538cbb(0x24d)]();if(!_0x2bee8a)return[0x2,![]];return[0x4,docker['listContainers']()];case 0x2:_0xba3532=_0x3d897b[_0x538cbb(0x24d)]()[_0x538cbb(0x23a)](function(_0x416040){return _0x416040===null||_0x416040===void 0x0?void 0x0:_0x416040['Id'];});if(_0xba3532[_0x538cbb(0x22b)](_0x2bee8a))return[0x2,!![]];return[0x2,![]];}});});},_0x41af4d[_0x5cf6f9(0x2d1)][_0x5cf6f9(0x2ac)]=function(){var _0x1a2588,_0x4ea51a,_0x54560e,_0xee45b6,_0x2e4f77,_0x53efe6,_0x3e8677,_0x2ed810,_0x517e29;return __awaiter(this,void 0x0,void 0x0,function(){var _0x592a95,_0x1804ea,_0x327f39,_0x39f607,_0x37387f,_0x22847a,_0x1db899,_0x68fa6b,_0x571cae,_0x1ba039,_0x445a3b,_0x23b069,_0x3375c0,_0x3f8568,_0x48660d,_0x4bad02;return __generator(this,function(_0x1cf750){var _0x1c7dbe=a36_0x4c8a;switch(_0x1cf750[_0x1c7dbe(0x233)]){case 0x0:return[0x4,state_1[_0x1c7dbe(0x268)]((_0x1a2588=this[_0x1c7dbe(0x229)])===null||_0x1a2588===void 0x0?void 0x0:_0x1a2588['AccountID'],this[_0x1c7dbe(0x21a)],(_0x4ea51a=this['userServiceConfig'])===null||_0x4ea51a===void 0x0?void 0x0:_0x4ea51a['name'],(_0x54560e=this[_0x1c7dbe(0x2a3)])===null||_0x54560e===void 0x0?void 0x0:_0x54560e[_0x1c7dbe(0x288)])];case 0x1:_0x592a95=_0x1cf750[_0x1c7dbe(0x24d)]();return[0x4,state_1['getSessionFromState']((_0xee45b6=this[_0x1c7dbe(0x229)])===null||_0xee45b6===void 0x0?void 0x0:_0xee45b6['AccountID'],this[_0x1c7dbe(0x21a)],(_0x2e4f77=this[_0x1c7dbe(0x1e6)])===null||_0x2e4f77===void 0x0?void 0x0:_0x2e4f77[_0x1c7dbe(0x288)],(_0x53efe6=this[_0x1c7dbe(0x2a3)])===null||_0x53efe6===void 0x0?void 0x0:_0x53efe6[_0x1c7dbe(0x288)])];case 0x2:_0x1804ea=_0x1cf750['sent']();return[0x4,state_1[_0x1c7dbe(0x2c3)]((_0x3e8677=this[_0x1c7dbe(0x229)])===null||_0x3e8677===void 0x0?void 0x0:_0x3e8677['AccountID'],this[_0x1c7dbe(0x21a)],(_0x2ed810=this[_0x1c7dbe(0x1e6)])===null||_0x2ed810===void 0x0?void 0x0:_0x2ed810[_0x1c7dbe(0x288)],(_0x517e29=this[_0x1c7dbe(0x2a3)])===null||_0x517e29===void 0x0?void 0x0:_0x517e29[_0x1c7dbe(0x288)])];case 0x3:_0x327f39=_0x1cf750['sent'](),_0x39f607=_0x592a95===null||_0x592a95===void 0x0?void 0x0:_0x592a95[_0x1c7dbe(0x1c4)],_0x37387f=_0x592a95===null||_0x592a95===void 0x0?void 0x0:_0x592a95['function'],_0x22847a=_0x592a95===null||_0x592a95===void 0x0?void 0x0:_0x592a95['triggers'];if(!_0x327f39)return[0x3,0x8];_0x1cf750['label']=0x4;case 0x4:_0x1cf750[_0x1c7dbe(0x226)]['push']([0x4,0x7,,0x8]),_0x1db899=docker[_0x1c7dbe(0x266)](_0x327f39);return[0x4,docker_1[_0x1c7dbe(0x2a5)](_0x1db899)];case 0x5:_0x1cf750[_0x1c7dbe(0x24d)]();return[0x4,this[_0x1c7dbe(0x2a6)]()];case 0x6:_0x1cf750[_0x1c7dbe(0x24d)]();return[0x3,0x8];case 0x7:_0x68fa6b=_0x1cf750[_0x1c7dbe(0x24d)](),logger_1[_0x1c7dbe(0x228)]['warning'](stdout_formatter_1[_0x1c7dbe(0x228)][_0x1c7dbe(0x295)][_0x1c7dbe(0x20d)]('stop\x20proxy\x20container',_0x1c7dbe(0x25c)+_0x327f39,_0x68fa6b===null||_0x68fa6b===void 0x0?void 0x0:_0x68fa6b[_0x1c7dbe(0x1d0)])),logger_1['default']['debug'](_0x1c7dbe(0x2b6)+_0x327f39+_0x1c7dbe(0x28a)+_0x68fa6b);return[0x3,0x8];case 0x8:_0x571cae=core[_0x1c7dbe(0x22e)]('Unsetting\x20helper\x20function\x20config...'),_0x1cf750[_0x1c7dbe(0x233)]=0x9;case 0x9:_0x1cf750[_0x1c7dbe(0x226)][_0x1c7dbe(0x291)]([0x9,0xb,,0xc]);return[0x4,this[_0x1c7dbe(0x2d3)](_0x39f607===null||_0x39f607===void 0x0?void 0x0:_0x39f607[_0x1c7dbe(0x288)],_0x37387f===null||_0x37387f===void 0x0?void 0x0:_0x37387f[_0x1c7dbe(0x288)],'LATEST')];case 0xa:_0x1cf750[_0x1c7dbe(0x24d)](),_0x571cae[_0x1c7dbe(0x2cd)]('Unset\x20helper\x20function\x20provision\x20and\x20on-demand\x20config\x20done.');return[0x3,0xc];case 0xb:_0x1ba039=_0x1cf750[_0x1c7dbe(0x24d)](),_0x571cae[_0x1c7dbe(0x299)](_0x1c7dbe(0x201)),logger_1[_0x1c7dbe(0x228)]['error'](_0x1ba039===null||_0x1ba039===void 0x0?void 0x0:_0x1ba039[_0x1c7dbe(0x1d0)]),logger_1[_0x1c7dbe(0x228)][_0x1c7dbe(0x2b4)](_0x1c7dbe(0x2be)+_0x1ba039);return[0x3,0xc];case 0xc:_0x1cf750[_0x1c7dbe(0x226)][_0x1c7dbe(0x291)]([0xc,0xf,,0x10]),_0x445a3b=new fc_deploy_1['FcDeployComponent'](this['region'],_0x39f607,this[_0x1c7dbe(0x1ee)],this[_0x1c7dbe(0x296)],this[_0x1c7dbe(0x280)],_0x37387f,_0x22847a);return[0x4,core[_0x1c7dbe(0x28d)](_0x1c7dbe(0x21c))];case 0xd:_0x23b069=_0x1cf750[_0x1c7dbe(0x24d)](),_0x3375c0=_0x445a3b[_0x1c7dbe(0x234)]('fc-deploy',_0x1c7dbe(0x285),_0x1c7dbe(0x2ba),_0x1c7dbe(0x1ea));return[0x4,_0x23b069[_0x1c7dbe(0x1ea)](_0x3375c0)];case 0xe:_0x1cf750[_0x1c7dbe(0x24d)]();return[0x3,0x10];case 0xf:_0x3f8568=_0x1cf750[_0x1c7dbe(0x24d)](),logger_1['default'][_0x1c7dbe(0x215)](stdout_formatter_1[_0x1c7dbe(0x228)][_0x1c7dbe(0x295)][_0x1c7dbe(0x20d)](_0x1c7dbe(0x202),_0x1c7dbe(0x1f1)+(_0x39f607===null||_0x39f607===void 0x0?void 0x0:_0x39f607[_0x1c7dbe(0x288)])+_0x1c7dbe(0x218)+(_0x37387f===null||_0x37387f===void 0x0?void 0x0:_0x37387f['name']),_0x3f8568===null||_0x3f8568===void 0x0?void 0x0:_0x3f8568[_0x1c7dbe(0x1d0)])),logger_1[_0x1c7dbe(0x228)]['debug'](_0x1c7dbe(0x2be)+_0x3f8568);return[0x3,0x10];case 0x10:_0x48660d=core[_0x1c7dbe(0x22e)](_0x1c7dbe(0x1c3)+(_0x1804ea===null||_0x1804ea===void 0x0?void 0x0:_0x1804ea[_0x1c7dbe(0x205)])+_0x1c7dbe(0x227));;_0x1cf750['label']=0x11;case 0x11:_0x1cf750['trys'][_0x1c7dbe(0x291)]([0x11,0x13,,0x14]);return[0x4,this[_0x1c7dbe(0x203)](_0x1804ea===null||_0x1804ea===void 0x0?void 0x0:_0x1804ea[_0x1c7dbe(0x205)])];case 0x12:_0x1cf750['sent'](),_0x48660d[_0x1c7dbe(0x2cd)](_0x1c7dbe(0x1ca)+(_0x1804ea===null||_0x1804ea===void 0x0?void 0x0:_0x1804ea[_0x1c7dbe(0x205)])+'\x20done.');return[0x3,0x14];case 0x13:_0x4bad02=_0x1cf750[_0x1c7dbe(0x24d)](),_0x48660d['fail'](_0x1c7dbe(0x211)),logger_1[_0x1c7dbe(0x228)][_0x1c7dbe(0x271)](_0x4bad02===null||_0x4bad02===void 0x0?void 0x0:_0x4bad02[_0x1c7dbe(0x1d0)]),logger_1[_0x1c7dbe(0x228)][_0x1c7dbe(0x2b4)]('Error:\x20'+_0x4bad02);return[0x3,0x14];case 0x14:return[0x2];}});});},_0x41af4d['prototype']['getSession']=function(){var _0x570adb=_0x5cf6f9;return this[_0x570adb(0x252)];},_0x41af4d[_0x5cf6f9(0x26c)]=0x28,_0x41af4d[_0x5cf6f9(0x23b)]='tunnel-service.cn-hangzhou.aliyuncs.com',_0x41af4d['proxyImageName']=_0x5cf6f9(0x27f),_0x41af4d[_0x5cf6f9(0x24b)]=_0x5cf6f9(0x1eb),_0x41af4d[_0x5cf6f9(0x246)]=_0x5cf6f9(0x1eb),_0x41af4d[_0x5cf6f9(0x204)]=process[_0x5cf6f9(0x281)]['TUNNEL_SERVICE_HELPER_IMAGE_LATEST_VERSION']||_0x41af4d[_0x5cf6f9(0x246)],_0x41af4d['proxyImageVersion']=process['env'][_0x5cf6f9(0x257)]||_0x41af4d[_0x5cf6f9(0x24b)],_0x41af4d[_0x5cf6f9(0x1fa)]=_0x5cf6f9(0x207),_0x41af4d[_0x5cf6f9(0x1fe)]=_0x5cf6f9(0x24f),_0x41af4d[_0x5cf6f9(0x258)]=path[_0x5cf6f9(0x212)](os[_0x5cf6f9(0x2c0)](),'.s',_0x5cf6f9(0x2ab),_0x5cf6f9(0x28e)),_0x41af4d[_0x5cf6f9(0x23f)]=['nodejs',_0x5cf6f9(0x297),_0x5cf6f9(0x27e),_0x5cf6f9(0x25a)],_0x41af4d;}();exports[a36_0x3d207b(0x228)]=TunnelService;