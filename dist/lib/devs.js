'use strict';var a11_0x2427=['substring','default','../common/logger','146548JjMLVl','__setModuleDefault','89689bKbqoQ','9rSwagk','codeUri','build\x20codeUri','33437byHioI','309rtEjIu','__importStar','detectTmpDir','DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX','pathExistsSync','cwd','path','DEFAULT_NAS_PATH_SUFFIX','defineProperty','hasOwnProperty','__esModule','indexOf','1531XqMBjW','create','1746aeDfqB','__importDefault','__createBinding','8JUsRQX','lstatSync','cloneDeep','join','info','isFile','updateCodeUriWithBuildPath','stdoutFormatter','getRootBaseDir','call','407164mlcYQH','isCustomContainerRuntime','using','5juOwGS','205VagVgM','resolve','1mJaxoG','207506zkHBKu','./component/stdout-formatter','nas','artifacts','./utils/runtime'];var a11_0x18f147=a11_0x14c2;(function(_0x20db63,_0x4fbb79){var _0x121615=a11_0x14c2;while(!![]){try{var _0x498dbd=-parseInt(_0x121615(0x204))*parseInt(_0x121615(0x1f8))+parseInt(_0x121615(0x1f3))*parseInt(_0x121615(0x209))+-parseInt(_0x121615(0x1f1))*parseInt(_0x121615(0x216))+-parseInt(_0x121615(0x219))*-parseInt(_0x121615(0x213))+-parseInt(_0x121615(0x21a))+parseInt(_0x121615(0x1f7))*parseInt(_0x121615(0x1f4))+-parseInt(_0x121615(0x206))*-parseInt(_0x121615(0x217));if(_0x498dbd===_0x4fbb79)break;else _0x20db63['push'](_0x20db63['shift']());}catch(_0xb184b0){_0x20db63['push'](_0x20db63['shift']());}}}(a11_0x2427,0x5a626));function a11_0x14c2(_0x3c9b5a,_0x3c0dcd){return a11_0x14c2=function(_0x242727,_0x14c22b){_0x242727=_0x242727-0x1ed;var _0x623529=a11_0x2427[_0x242727];return _0x623529;},a11_0x14c2(_0x3c9b5a,_0x3c0dcd);}var __createBinding=this&&this[a11_0x18f147(0x208)]||(Object[a11_0x18f147(0x205)]?function(_0x3853b7,_0x586ce8,_0x4be860,_0x53fd97){var _0x2a9586=a11_0x18f147;if(_0x53fd97===undefined)_0x53fd97=_0x4be860;Object[_0x2a9586(0x200)](_0x3853b7,_0x53fd97,{'enumerable':!![],'get':function(){return _0x586ce8[_0x4be860];}});}:function(_0x5bab93,_0x1ada07,_0x4da4a2,_0x9a2dd){if(_0x9a2dd===undefined)_0x9a2dd=_0x4da4a2;_0x5bab93[_0x9a2dd]=_0x1ada07[_0x4da4a2];}),__setModuleDefault=this&&this[a11_0x18f147(0x1f2)]||(Object[a11_0x18f147(0x205)]?function(_0x1429f3,_0x120f00){Object['defineProperty'](_0x1429f3,'default',{'enumerable':!![],'value':_0x120f00});}:function(_0x2757cc,_0x47ceed){_0x2757cc['default']=_0x47ceed;}),__importStar=this&&this[a11_0x18f147(0x1f9)]||function(_0x3bc5f3){var _0x2a2d5c=a11_0x18f147;if(_0x3bc5f3&&_0x3bc5f3[_0x2a2d5c(0x202)])return _0x3bc5f3;var _0x30a32d={};if(_0x3bc5f3!=null){for(var _0x15394a in _0x3bc5f3)if(_0x15394a!=='default'&&Object[_0x2a2d5c(0x201)][_0x2a2d5c(0x212)](_0x3bc5f3,_0x15394a))__createBinding(_0x30a32d,_0x3bc5f3,_0x15394a);}return __setModuleDefault(_0x30a32d,_0x3bc5f3),_0x30a32d;},__importDefault=this&&this[a11_0x18f147(0x207)]||function(_0x3820ae){var _0x52dfd0=a11_0x18f147;return _0x3820ae&&_0x3820ae[_0x52dfd0(0x202)]?_0x3820ae:{'default':_0x3820ae};};Object[a11_0x18f147(0x200)](exports,a11_0x18f147(0x202),{'value':!![]}),exports['updateCodeUriWithBuildPath']=exports[a11_0x18f147(0x1fa)]=exports['detectNasBaseDir']=exports[a11_0x18f147(0x211)]=exports['DEFAULT_NAS_PATH_SUFFIX']=exports['DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX']=void 0x0;var path=__importStar(require(a11_0x18f147(0x1fe))),fs=__importStar(require('fs-extra')),logger_1=__importDefault(require(a11_0x18f147(0x1f0))),lodash_1=__importDefault(require('lodash')),runtime_1=require(a11_0x18f147(0x1ed)),stdout_formatter_1=__importDefault(require(a11_0x18f147(0x21b)));exports[a11_0x18f147(0x1fb)]=path[a11_0x18f147(0x20c)]('.s','build',a11_0x18f147(0x21d)),exports[a11_0x18f147(0x1ff)]=path[a11_0x18f147(0x20c)]('.s',a11_0x18f147(0x21c));var DEFAULT_LOCAL_TMP_PATH_SUFFIX=path[a11_0x18f147(0x20c)]('.s','tmp','local');function getRootBaseDir(_0xb92615){var _0x2ebbe0=a11_0x18f147,_0x14695a=_0xb92615[_0x2ebbe0(0x203)](exports[_0x2ebbe0(0x1fb)]);if(_0x14695a!==-0x1)return _0xb92615['substring'](0x0,_0x14695a);return _0xb92615;}exports[a11_0x18f147(0x211)]=getRootBaseDir;function detectNasBaseDir(_0x533d8b){var _0x285c16=a11_0x18f147,_0x2e220f=getBaseDir(_0x533d8b);return path[_0x285c16(0x20c)](_0x2e220f,exports['DEFAULT_NAS_PATH_SUFFIX']);}exports['detectNasBaseDir']=detectNasBaseDir;function getBaseDir(_0x419901){var _0x50f913=a11_0x18f147,_0x35dcaa=_0x419901['indexOf'](exports[_0x50f913(0x1fb)]);if(_0x35dcaa!==-0x1){var _0x2bbc29=_0x419901[_0x50f913(0x1ee)](0x0,_0x35dcaa);if(!_0x2bbc29)return process[_0x50f913(0x1fd)]();return _0x2bbc29;}return path[_0x50f913(0x218)](path['dirname'](_0x419901));}function detectTmpDir(_0x307acf,_0x16035a){var _0x8de145=a11_0x18f147;if(_0x16035a)return _0x16035a;var _0x33998f=getBaseDir(_0x307acf);return path[_0x8de145(0x20c)](_0x33998f,DEFAULT_LOCAL_TMP_PATH_SUFFIX);}exports[a11_0x18f147(0x1fa)]=detectTmpDir;function updateCodeUriWithBuildPath(_0x1ff0ff,_0x140656,_0x545baf){var _0x3c30aa=a11_0x18f147,_0x583945=path['join'](_0x1ff0ff,exports[_0x3c30aa(0x1fb)]);if(!fs[_0x3c30aa(0x1fc)](_0x583945)||fs[_0x3c30aa(0x20a)](_0x583945)[_0x3c30aa(0x20e)]()||runtime_1[_0x3c30aa(0x214)](_0x140656['runtime']))return _0x140656;var _0x5d5ded=lodash_1['default'][_0x3c30aa(0x20b)](_0x140656);return _0x5d5ded[_0x3c30aa(0x1f5)]=path[_0x3c30aa(0x20c)](_0x583945,_0x545baf,_0x140656['name']),logger_1[_0x3c30aa(0x1ef)][_0x3c30aa(0x20d)](stdout_formatter_1['default'][_0x3c30aa(0x210)][_0x3c30aa(0x215)](_0x3c30aa(0x1f6),_0x5d5ded[_0x3c30aa(0x1f5)])),_0x5d5ded;}exports[a11_0x18f147(0x20f)]=updateCodeUriWithBuildPath;