'use strict';var a11_0x221c=['3iyNCgl','./utils/runtime','__esModule','getRootBaseDir','324637VpGJMV','tmp','__importDefault','detectTmpDir','24nNWqjS','1zzDINL','name','206881ChqkDB','nas','./component/stdout-formatter','indexOf','__setModuleDefault','defineProperty','107454JVCdbG','codeUri','lstatSync','stdoutFormatter','DEFAULT_NAS_PATH_SUFFIX','cloneDeep','create','dirname','call','3873jARlQi','artifacts','build\x20codeUri','runtime','134WSRBow','local','301560RXNFcb','796SiESPZ','fs-extra','../common/logger','substring','detectNasBaseDir','updateCodeUriWithBuildPath','isFile','default','isCustomContainerRuntime','DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX','432599eAGlSZ','path','join','using','resolve'];var a11_0x6373c=a11_0x1e6b;(function(_0x51aff1,_0x129e72){var _0x3f0178=a11_0x1e6b;while(!![]){try{var _0x444431=-parseInt(_0x3f0178(0x19e))*-parseInt(_0x3f0178(0x1cb))+parseInt(_0x3f0178(0x1b6))*parseInt(_0x3f0178(0x1a8))+-parseInt(_0x3f0178(0x19d))+-parseInt(_0x3f0178(0x1be))+-parseInt(_0x3f0178(0x1b5))*parseInt(_0x3f0178(0x1c7))+parseInt(_0x3f0178(0x1b8))*parseInt(_0x3f0178(0x1ad))+-parseInt(_0x3f0178(0x1b1));if(_0x444431===_0x129e72)break;else _0x51aff1['push'](_0x51aff1['shift']());}catch(_0x265d18){_0x51aff1['push'](_0x51aff1['shift']());}}}(a11_0x221c,0x515f7));var __createBinding=this&&this['__createBinding']||(Object[a11_0x6373c(0x1c4)]?function(_0x31e20c,_0x2e329a,_0x42c654,_0x43cd49){var _0x22d596=a11_0x6373c;if(_0x43cd49===undefined)_0x43cd49=_0x42c654;Object[_0x22d596(0x1bd)](_0x31e20c,_0x43cd49,{'enumerable':!![],'get':function(){return _0x2e329a[_0x42c654];}});}:function(_0x3dd38e,_0x193817,_0x7eadda,_0x1d710f){if(_0x1d710f===undefined)_0x1d710f=_0x7eadda;_0x3dd38e[_0x1d710f]=_0x193817[_0x7eadda];}),__setModuleDefault=this&&this[a11_0x6373c(0x1bc)]||(Object[a11_0x6373c(0x1c4)]?function(_0x20a879,_0x5d1adb){var _0x229192=a11_0x6373c;Object[_0x229192(0x1bd)](_0x20a879,_0x229192(0x1a5),{'enumerable':!![],'value':_0x5d1adb});}:function(_0x248ffb,_0x6c8f84){_0x248ffb['default']=_0x6c8f84;}),__importStar=this&&this['__importStar']||function(_0x6b0eee){var _0x402f03=a11_0x6373c;if(_0x6b0eee&&_0x6b0eee[_0x402f03(0x1af)])return _0x6b0eee;var _0x2209b5={};if(_0x6b0eee!=null){for(var _0x5c23a3 in _0x6b0eee)if(_0x5c23a3!==_0x402f03(0x1a5)&&Object['hasOwnProperty'][_0x402f03(0x1c6)](_0x6b0eee,_0x5c23a3))__createBinding(_0x2209b5,_0x6b0eee,_0x5c23a3);}return __setModuleDefault(_0x2209b5,_0x6b0eee),_0x2209b5;},__importDefault=this&&this[a11_0x6373c(0x1b3)]||function(_0xaeb88c){var _0x463ec2=a11_0x6373c;return _0xaeb88c&&_0xaeb88c[_0x463ec2(0x1af)]?_0xaeb88c:{'default':_0xaeb88c};};Object[a11_0x6373c(0x1bd)](exports,a11_0x6373c(0x1af),{'value':!![]}),exports[a11_0x6373c(0x1a3)]=exports[a11_0x6373c(0x1b4)]=exports[a11_0x6373c(0x1a2)]=exports[a11_0x6373c(0x1b0)]=exports['DEFAULT_NAS_PATH_SUFFIX']=exports['DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX']=void 0x0;var path=__importStar(require(a11_0x6373c(0x1a9))),fs=__importStar(require(a11_0x6373c(0x19f))),logger_1=__importDefault(require(a11_0x6373c(0x1a0))),lodash_1=__importDefault(require('lodash')),runtime_1=require(a11_0x6373c(0x1ae)),stdout_formatter_1=__importDefault(require(a11_0x6373c(0x1ba)));exports[a11_0x6373c(0x1a7)]=path['join']('.s','build',a11_0x6373c(0x1c8)),exports['DEFAULT_NAS_PATH_SUFFIX']=path[a11_0x6373c(0x1aa)]('.s',a11_0x6373c(0x1b9));var DEFAULT_LOCAL_TMP_PATH_SUFFIX=path[a11_0x6373c(0x1aa)]('.s',a11_0x6373c(0x1b2),a11_0x6373c(0x19c));function getRootBaseDir(_0x4d96b7){var _0x3985e3=a11_0x6373c,_0x3a40fc=_0x4d96b7[_0x3985e3(0x1bb)](exports[_0x3985e3(0x1a7)]);if(_0x3a40fc!==-0x1)return _0x4d96b7[_0x3985e3(0x1a1)](0x0,_0x3a40fc);return _0x4d96b7;}exports['getRootBaseDir']=getRootBaseDir;function detectNasBaseDir(_0x50a12b){var _0x4d283a=a11_0x6373c,_0x389e3b=getBaseDir(_0x50a12b);return path[_0x4d283a(0x1aa)](_0x389e3b,exports[_0x4d283a(0x1c2)]);}exports[a11_0x6373c(0x1a2)]=detectNasBaseDir;function getBaseDir(_0x29b1ed){var _0x1013e4=a11_0x6373c,_0x41b53c=_0x29b1ed['indexOf'](exports['DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX']);if(_0x41b53c!==-0x1){var _0x56c50b=_0x29b1ed[_0x1013e4(0x1a1)](0x0,_0x41b53c);if(!_0x56c50b)return process['cwd']();return _0x56c50b;}return path[_0x1013e4(0x1ac)](path[_0x1013e4(0x1c5)](_0x29b1ed));}function detectTmpDir(_0x465fc0,_0xe8bfde){var _0x1f02f3=a11_0x6373c;if(_0xe8bfde)return _0xe8bfde;var _0x18cb9d=getBaseDir(_0x465fc0);return path[_0x1f02f3(0x1aa)](_0x18cb9d,DEFAULT_LOCAL_TMP_PATH_SUFFIX);}exports[a11_0x6373c(0x1b4)]=detectTmpDir;function a11_0x1e6b(_0x585b4d,_0x49f8a6){return a11_0x1e6b=function(_0x221cb5,_0x1e6b89){_0x221cb5=_0x221cb5-0x19c;var _0x5803c3=a11_0x221c[_0x221cb5];return _0x5803c3;},a11_0x1e6b(_0x585b4d,_0x49f8a6);}function updateCodeUriWithBuildPath(_0xc09b27,_0x48dfb3,_0x5628b4){var _0x3f7545=a11_0x6373c,_0x5c1171=path['join'](_0xc09b27,exports['DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX']);if(!fs['pathExistsSync'](_0x5c1171)||fs[_0x3f7545(0x1c0)](_0x5c1171)[_0x3f7545(0x1a4)]()||runtime_1[_0x3f7545(0x1a6)](_0x48dfb3[_0x3f7545(0x1ca)]))return _0x48dfb3;var _0x29174f=lodash_1[_0x3f7545(0x1a5)][_0x3f7545(0x1c3)](_0x48dfb3);return _0x29174f[_0x3f7545(0x1bf)]=path[_0x3f7545(0x1aa)](_0x5c1171,_0x5628b4,_0x48dfb3[_0x3f7545(0x1b7)]),logger_1['default']['info'](stdout_formatter_1[_0x3f7545(0x1a5)][_0x3f7545(0x1c1)][_0x3f7545(0x1ab)](_0x3f7545(0x1c9),_0x29174f[_0x3f7545(0x1bf)])),_0x29174f;}exports['updateCodeUriWithBuildPath']=updateCodeUriWithBuildPath;