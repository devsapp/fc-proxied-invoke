'use strict';var a11_0x1009=['create','build\x20codeUri','163974wAgXeW','tmp','cwd','local','68txLpQg','runtime','substring','77219dkxGDw','defineProperty','build','detectNasBaseDir','311099UCIDCC','1lYKdBT','default','lstatSync','DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX','6571NPpmmk','detectTmpDir','updateCodeUriWithBuildPath','1034324vfgJFQ','DEFAULT_NAS_PATH_SUFFIX','hasOwnProperty','__esModule','1tgnxeG','__importDefault','getRootBaseDir','465592IxPfGr','../common/logger','__createBinding','dirname','pathExistsSync','join','__setModuleDefault','./component/stdout-formatter','stdoutFormatter','339912eItKIC','fs-extra','__importStar','cloneDeep','using','indexOf','call'];var a11_0x33a456=a11_0x4909;(function(_0x349c46,_0x93be15){var _0x2763fe=a11_0x4909;while(!![]){try{var _0x125e4b=parseInt(_0x2763fe(0x1bd))+-parseInt(_0x2763fe(0x1d1))+parseInt(_0x2763fe(0x1cd))*-parseInt(_0x2763fe(0x1d2))+parseInt(_0x2763fe(0x1d6))*-parseInt(_0x2763fe(0x1ca))+parseInt(_0x2763fe(0x1c6))+-parseInt(_0x2763fe(0x1e0))*parseInt(_0x2763fe(0x1dd))+parseInt(_0x2763fe(0x1d9));if(_0x125e4b===_0x93be15)break;else _0x349c46['push'](_0x349c46['shift']());}catch(_0x4b1bb4){_0x349c46['push'](_0x349c46['shift']());}}}(a11_0x1009,0x39fa0));function a11_0x4909(_0x1aadb8,_0x3dc674){return a11_0x4909=function(_0x10093c,_0x4909ca){_0x10093c=_0x10093c-0x1ba;var _0x4781c5=a11_0x1009[_0x10093c];return _0x4781c5;},a11_0x4909(_0x1aadb8,_0x3dc674);}var __createBinding=this&&this[a11_0x33a456(0x1e2)]||(Object[a11_0x33a456(0x1c4)]?function(_0x1695f0,_0x113ed9,_0xfa7a03,_0x847a8){var _0x4033df=a11_0x33a456;if(_0x847a8===undefined)_0x847a8=_0xfa7a03;Object[_0x4033df(0x1ce)](_0x1695f0,_0x847a8,{'enumerable':!![],'get':function(){return _0x113ed9[_0xfa7a03];}});}:function(_0x156681,_0x1ed729,_0x41a0b4,_0x39eb6e){if(_0x39eb6e===undefined)_0x39eb6e=_0x41a0b4;_0x156681[_0x39eb6e]=_0x1ed729[_0x41a0b4];}),__setModuleDefault=this&&this[a11_0x33a456(0x1ba)]||(Object['create']?function(_0x1b04fa,_0x51f3b0){Object['defineProperty'](_0x1b04fa,'default',{'enumerable':!![],'value':_0x51f3b0});}:function(_0x4d5045,_0x171272){var _0x133022=a11_0x33a456;_0x4d5045[_0x133022(0x1d3)]=_0x171272;}),__importStar=this&&this[a11_0x33a456(0x1bf)]||function(_0x414719){var _0x3e9e02=a11_0x33a456;if(_0x414719&&_0x414719[_0x3e9e02(0x1dc)])return _0x414719;var _0x18e07e={};if(_0x414719!=null){for(var _0x33ef97 in _0x414719)if(_0x33ef97!==_0x3e9e02(0x1d3)&&Object[_0x3e9e02(0x1db)][_0x3e9e02(0x1c3)](_0x414719,_0x33ef97))__createBinding(_0x18e07e,_0x414719,_0x33ef97);}return __setModuleDefault(_0x18e07e,_0x414719),_0x18e07e;},__importDefault=this&&this[a11_0x33a456(0x1de)]||function(_0x31c326){var _0x5e4f96=a11_0x33a456;return _0x31c326&&_0x31c326[_0x5e4f96(0x1dc)]?_0x31c326:{'default':_0x31c326};};Object[a11_0x33a456(0x1ce)](exports,a11_0x33a456(0x1dc),{'value':!![]}),exports[a11_0x33a456(0x1d8)]=exports[a11_0x33a456(0x1d7)]=exports[a11_0x33a456(0x1d0)]=exports['getRootBaseDir']=exports['DEFAULT_NAS_PATH_SUFFIX']=exports[a11_0x33a456(0x1d5)]=void 0x0;var path=__importStar(require('path')),fs=__importStar(require(a11_0x33a456(0x1be))),logger_1=__importDefault(require(a11_0x33a456(0x1e1))),lodash_1=__importDefault(require('lodash')),runtime_1=require('./utils/runtime'),stdout_formatter_1=__importDefault(require(a11_0x33a456(0x1bb)));exports[a11_0x33a456(0x1d5)]=path['join']('.s',a11_0x33a456(0x1cf),'artifacts'),exports[a11_0x33a456(0x1da)]=path[a11_0x33a456(0x1e5)]('.s','nas');var DEFAULT_LOCAL_TMP_PATH_SUFFIX=path[a11_0x33a456(0x1e5)]('.s',a11_0x33a456(0x1c7),a11_0x33a456(0x1c9));function getRootBaseDir(_0x5b9d98){var _0x464bba=a11_0x33a456,_0x31bcf3=_0x5b9d98[_0x464bba(0x1c2)](exports[_0x464bba(0x1d5)]);if(_0x31bcf3!==-0x1)return _0x5b9d98[_0x464bba(0x1cc)](0x0,_0x31bcf3);return _0x5b9d98;}exports[a11_0x33a456(0x1df)]=getRootBaseDir;function detectNasBaseDir(_0x3b0aae){var _0x34e18f=a11_0x33a456,_0x1787f4=getBaseDir(_0x3b0aae);return path[_0x34e18f(0x1e5)](_0x1787f4,exports[_0x34e18f(0x1da)]);}exports['detectNasBaseDir']=detectNasBaseDir;function getBaseDir(_0x448f06){var _0x449105=a11_0x33a456,_0x150711=_0x448f06[_0x449105(0x1c2)](exports[_0x449105(0x1d5)]);if(_0x150711!==-0x1){var _0x57f675=_0x448f06[_0x449105(0x1cc)](0x0,_0x150711);if(!_0x57f675)return process[_0x449105(0x1c8)]();return _0x57f675;}return path['resolve'](path[_0x449105(0x1e3)](_0x448f06));}function detectTmpDir(_0x385cfb,_0x1ca39f){if(_0x1ca39f)return _0x1ca39f;var _0xe8c47c=getBaseDir(_0x385cfb);return path['join'](_0xe8c47c,DEFAULT_LOCAL_TMP_PATH_SUFFIX);}exports[a11_0x33a456(0x1d7)]=detectTmpDir;function updateCodeUriWithBuildPath(_0x48946a,_0x43aa1b,_0x3ac865){var _0x1e7166=a11_0x33a456,_0x228074=path[_0x1e7166(0x1e5)](_0x48946a,exports[_0x1e7166(0x1d5)]);if(!fs[_0x1e7166(0x1e4)](_0x228074)||fs[_0x1e7166(0x1d4)](_0x228074)['isFile']()||runtime_1['isCustomContainerRuntime'](_0x43aa1b[_0x1e7166(0x1cb)]))return _0x43aa1b;var _0x204e46=lodash_1[_0x1e7166(0x1d3)][_0x1e7166(0x1c0)](_0x43aa1b);return _0x204e46['codeUri']=path[_0x1e7166(0x1e5)](_0x228074,_0x3ac865,_0x43aa1b['name']),logger_1[_0x1e7166(0x1d3)]['info'](stdout_formatter_1[_0x1e7166(0x1d3)][_0x1e7166(0x1bc)][_0x1e7166(0x1c1)](_0x1e7166(0x1c5),_0x204e46['codeUri'])),_0x204e46;}exports[a11_0x33a456(0x1d8)]=updateCodeUriWithBuildPath;