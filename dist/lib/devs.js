'use strict';var a11_0x4e90=['codeUri','121965opIvur','8219SPXUjY','create','artifacts','DEFAULT_NAS_PATH_SUFFIX','1PWDdia','129022iVnyTh','__esModule','358wwtEqL','updateCodeUriWithBuildPath','fs-extra','name','1963ZYxahX','7ipQVno','2VsqTYU','1igJihX','local','join','pathExistsSync','47byrSsS','call','2819JXWpYk','isCustomContainerRuntime','./utils/runtime','default','build\x20codeUri','214674zJFsGm','dirname','info','stdoutFormatter','571zxzvlH','cloneDeep','__importDefault','tmp','nas','substring','__createBinding','indexOf','resolve','path','../common/logger','DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX','detectNasBaseDir','getRootBaseDir'];var a11_0x4d55fe=a11_0x3134;(function(_0x33fd7b,_0x33f91a){var _0x40beac=a11_0x3134;while(!![]){try{var _0x4ce525=-parseInt(_0x40beac(0xa1))*parseInt(_0x40beac(0xc7))+parseInt(_0x40beac(0xc8))*-parseInt(_0x40beac(0xa3))+-parseInt(_0x40beac(0xca))*-parseInt(_0x40beac(0xc1))+-parseInt(_0x40beac(0xc3))*-parseInt(_0x40beac(0xac))+parseInt(_0x40beac(0xbb))+parseInt(_0x40beac(0xc9))*-parseInt(_0x40beac(0xbc))+-parseInt(_0x40beac(0xc0))*parseInt(_0x40beac(0xa8));if(_0x4ce525===_0x33f91a)break;else _0x33fd7b['push'](_0x33fd7b['shift']());}catch(_0x13863a){_0x33fd7b['push'](_0x33fd7b['shift']());}}}(a11_0x4e90,0x1b6ab));var __createBinding=this&&this[a11_0x4d55fe(0xb2)]||(Object[a11_0x4d55fe(0xbd)]?function(_0xe473ee,_0x24a917,_0x5ef7a3,_0x52ad44){if(_0x52ad44===undefined)_0x52ad44=_0x5ef7a3;Object['defineProperty'](_0xe473ee,_0x52ad44,{'enumerable':!![],'get':function(){return _0x24a917[_0x5ef7a3];}});}:function(_0x2190a2,_0x4698e2,_0x53bc84,_0xd4e405){if(_0xd4e405===undefined)_0xd4e405=_0x53bc84;_0x2190a2[_0xd4e405]=_0x4698e2[_0x53bc84];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a11_0x4d55fe(0xbd)]?function(_0x163653,_0x514f1d){var _0x4892b2=a11_0x4d55fe;Object['defineProperty'](_0x163653,_0x4892b2(0xa6),{'enumerable':!![],'value':_0x514f1d});}:function(_0x5794dd,_0x452b14){var _0x6a90dc=a11_0x4d55fe;_0x5794dd[_0x6a90dc(0xa6)]=_0x452b14;}),__importStar=this&&this['__importStar']||function(_0x3b7318){var _0x454d1a=a11_0x4d55fe;if(_0x3b7318&&_0x3b7318[_0x454d1a(0xc2)])return _0x3b7318;var _0x2bd996={};if(_0x3b7318!=null){for(var _0x1862f2 in _0x3b7318)if(_0x1862f2!==_0x454d1a(0xa6)&&Object['hasOwnProperty'][_0x454d1a(0xa2)](_0x3b7318,_0x1862f2))__createBinding(_0x2bd996,_0x3b7318,_0x1862f2);}return __setModuleDefault(_0x2bd996,_0x3b7318),_0x2bd996;},__importDefault=this&&this[a11_0x4d55fe(0xae)]||function(_0x10dfbb){var _0x139e56=a11_0x4d55fe;return _0x10dfbb&&_0x10dfbb[_0x139e56(0xc2)]?_0x10dfbb:{'default':_0x10dfbb};};Object['defineProperty'](exports,a11_0x4d55fe(0xc2),{'value':!![]}),exports[a11_0x4d55fe(0xc4)]=exports['detectTmpDir']=exports[a11_0x4d55fe(0xb8)]=exports[a11_0x4d55fe(0xb9)]=exports[a11_0x4d55fe(0xbf)]=exports['DEFAULT_BUILD_ARTIFACTS_PATH_SUFFIX']=void 0x0;var path=__importStar(require(a11_0x4d55fe(0xb5))),fs=__importStar(require(a11_0x4d55fe(0xc5))),logger_1=__importDefault(require(a11_0x4d55fe(0xb6))),lodash_1=__importDefault(require('lodash')),runtime_1=require(a11_0x4d55fe(0xa5)),stdout_formatter_1=__importDefault(require('./component/stdout-formatter'));exports[a11_0x4d55fe(0xb7)]=path[a11_0x4d55fe(0x9f)]('.s','build',a11_0x4d55fe(0xbe)),exports['DEFAULT_NAS_PATH_SUFFIX']=path[a11_0x4d55fe(0x9f)]('.s',a11_0x4d55fe(0xb0));var DEFAULT_LOCAL_TMP_PATH_SUFFIX=path[a11_0x4d55fe(0x9f)]('.s',a11_0x4d55fe(0xaf),a11_0x4d55fe(0xcb));function getRootBaseDir(_0xbe4c4c){var _0x753a6=a11_0x4d55fe,_0x4b9d8a=_0xbe4c4c[_0x753a6(0xb3)](exports[_0x753a6(0xb7)]);if(_0x4b9d8a!==-0x1)return _0xbe4c4c['substring'](0x0,_0x4b9d8a);return _0xbe4c4c;}exports['getRootBaseDir']=getRootBaseDir;function detectNasBaseDir(_0x595149){var _0x343a7f=a11_0x4d55fe,_0x4f2107=getBaseDir(_0x595149);return path[_0x343a7f(0x9f)](_0x4f2107,exports[_0x343a7f(0xbf)]);}exports[a11_0x4d55fe(0xb8)]=detectNasBaseDir;function getBaseDir(_0x402519){var _0x2a0863=a11_0x4d55fe,_0x321fa8=_0x402519[_0x2a0863(0xb3)](exports[_0x2a0863(0xb7)]);if(_0x321fa8!==-0x1){var _0x561e8a=_0x402519[_0x2a0863(0xb1)](0x0,_0x321fa8);if(!_0x561e8a)return process['cwd']();return _0x561e8a;}return path[_0x2a0863(0xb4)](path[_0x2a0863(0xa9)](_0x402519));}function detectTmpDir(_0x376718,_0x19b645){var _0x35c2db=a11_0x4d55fe;if(_0x19b645)return _0x19b645;var _0x110c0d=getBaseDir(_0x376718);return path[_0x35c2db(0x9f)](_0x110c0d,DEFAULT_LOCAL_TMP_PATH_SUFFIX);}function a11_0x3134(_0x16e0b1,_0x453942){return a11_0x3134=function(_0x4e909a,_0x3134f9){_0x4e909a=_0x4e909a-0x9f;var _0x129695=a11_0x4e90[_0x4e909a];return _0x129695;},a11_0x3134(_0x16e0b1,_0x453942);}exports['detectTmpDir']=detectTmpDir;function updateCodeUriWithBuildPath(_0xfb41de,_0x1d3194,_0x2bc7d8){var _0xe8155c=a11_0x4d55fe,_0x24c46f=path[_0xe8155c(0x9f)](_0xfb41de,exports[_0xe8155c(0xb7)]);if(!fs[_0xe8155c(0xa0)](_0x24c46f)||fs['lstatSync'](_0x24c46f)['isFile']()||runtime_1[_0xe8155c(0xa4)](_0x1d3194['runtime']))return _0x1d3194;var _0x1ebf08=lodash_1[_0xe8155c(0xa6)][_0xe8155c(0xad)](_0x1d3194);return _0x1ebf08[_0xe8155c(0xba)]=path[_0xe8155c(0x9f)](_0x24c46f,_0x2bc7d8,_0x1d3194[_0xe8155c(0xc6)]),logger_1['default'][_0xe8155c(0xaa)](stdout_formatter_1[_0xe8155c(0xa6)][_0xe8155c(0xab)]['using'](_0xe8155c(0xa7),_0x1ebf08[_0xe8155c(0xba)])),_0x1ebf08;}exports[a11_0x4d55fe(0xc4)]=updateCodeUriWithBuildPath;