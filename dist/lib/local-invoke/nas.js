'use strict';var a33_0x3994=['ops','label','nasDir','string','trys','107UMDBzY','9524GJMgoP','10rVopRf','pathExists','9GEoygR','ensureDir','__createBinding','65288wMqFAu','21uNtlcF','throw','253404FjsGmD','create','default','hasOwnProperty','length','mountSource','__generator','2JtHvPL','/mnt/auto','4204EBcZsc','defineProperty','call','push','__awaiter','value','../definition','return','sent','serverAddr','34996SBNOqo','resolveMountPoint','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','join','auto-default','then','function','mountDir','convertNasConfigToNasMappings','__esModule','pop','done','180640vCqclk','path','__setModuleDefault','iterator','__importDefault','next','61653NkpONN','Unsupported\x20nasConfig:\x20'];var a33_0x50f3b2=a33_0x2b9c;(function(_0x3bb016,_0x221b46){var _0x45b9cb=a33_0x2b9c;while(!![]){try{var _0xc15ad3=-parseInt(_0x45b9cb(0x170))*-parseInt(_0x45b9cb(0x177))+parseInt(_0x45b9cb(0x18c))+-parseInt(_0x45b9cb(0x182))*-parseInt(_0x45b9cb(0x16f))+-parseInt(_0x45b9cb(0x171))*-parseInt(_0x45b9cb(0x19e))+-parseInt(_0x45b9cb(0x179))*parseInt(_0x45b9cb(0x180))+parseInt(_0x45b9cb(0x176))*-parseInt(_0x45b9cb(0x173))+parseInt(_0x45b9cb(0x198));if(_0xc15ad3===_0x221b46)break;else _0x3bb016['push'](_0x3bb016['shift']());}catch(_0x3e9fcf){_0x3bb016['push'](_0x3bb016['shift']());}}}(a33_0x3994,0x5ea0e));var __createBinding=this&&this[a33_0x50f3b2(0x175)]||(Object[a33_0x50f3b2(0x17a)]?function(_0x2f562f,_0x2fe453,_0x2fde66,_0x36f171){if(_0x36f171===undefined)_0x36f171=_0x2fde66;Object['defineProperty'](_0x2f562f,_0x36f171,{'enumerable':!![],'get':function(){return _0x2fe453[_0x2fde66];}});}:function(_0x19799e,_0x35b44d,_0x1b6792,_0x392d0b){if(_0x392d0b===undefined)_0x392d0b=_0x1b6792;_0x19799e[_0x392d0b]=_0x35b44d[_0x1b6792];}),__setModuleDefault=this&&this[a33_0x50f3b2(0x19a)]||(Object[a33_0x50f3b2(0x17a)]?function(_0x51b5ad,_0x132566){var _0x4e25fe=a33_0x50f3b2;Object[_0x4e25fe(0x183)](_0x51b5ad,_0x4e25fe(0x17b),{'enumerable':!![],'value':_0x132566});}:function(_0x4fae60,_0x46990a){var _0x28fde3=a33_0x50f3b2;_0x4fae60[_0x28fde3(0x17b)]=_0x46990a;}),__importStar=this&&this['__importStar']||function(_0x3a67a9){var _0x50de82=a33_0x50f3b2;if(_0x3a67a9&&_0x3a67a9['__esModule'])return _0x3a67a9;var _0x583d24={};if(_0x3a67a9!=null){for(var _0x688c84 in _0x3a67a9)if(_0x688c84!==_0x50de82(0x17b)&&Object[_0x50de82(0x17c)]['call'](_0x3a67a9,_0x688c84))__createBinding(_0x583d24,_0x3a67a9,_0x688c84);}return __setModuleDefault(_0x583d24,_0x3a67a9),_0x583d24;},__awaiter=this&&this[a33_0x50f3b2(0x186)]||function(_0x348a64,_0x5b4c94,_0x30d95e,_0xb2e76e){function _0x28e32a(_0x4d1d01){return _0x4d1d01 instanceof _0x30d95e?_0x4d1d01:new _0x30d95e(function(_0x28b1de){_0x28b1de(_0x4d1d01);});}return new(_0x30d95e||(_0x30d95e=Promise))(function(_0x1d1064,_0x3949a9){var _0x4fdfd8=a33_0x2b9c;function _0x23d5f8(_0x3d3a71){var _0x32034c=a33_0x2b9c;try{_0x5219d8(_0xb2e76e[_0x32034c(0x19d)](_0x3d3a71));}catch(_0x186d44){_0x3949a9(_0x186d44);}}function _0x4ceaf8(_0x677ce3){try{_0x5219d8(_0xb2e76e['throw'](_0x677ce3));}catch(_0x604843){_0x3949a9(_0x604843);}}function _0x5219d8(_0x3ff3ef){var _0x71c00=a33_0x2b9c;_0x3ff3ef['done']?_0x1d1064(_0x3ff3ef['value']):_0x28e32a(_0x3ff3ef[_0x71c00(0x187)])[_0x71c00(0x191)](_0x23d5f8,_0x4ceaf8);}_0x5219d8((_0xb2e76e=_0xb2e76e['apply'](_0x348a64,_0x5b4c94||[]))[_0x4fdfd8(0x19d)]());});},__generator=this&&this[a33_0x50f3b2(0x17f)]||function(_0x314ba0,_0x2a6dfb){var _0x54d9f7=a33_0x50f3b2,_0x5c6801={'label':0x0,'sent':function(){if(_0x4752a4[0x0]&0x1)throw _0x4752a4[0x1];return _0x4752a4[0x1];},'trys':[],'ops':[]},_0x210906,_0x1e431f,_0x4752a4,_0xed6d62;return _0xed6d62={'next':_0x46b693(0x0),'throw':_0x46b693(0x1),'return':_0x46b693(0x2)},typeof Symbol===_0x54d9f7(0x192)&&(_0xed6d62[Symbol[_0x54d9f7(0x19b)]]=function(){return this;}),_0xed6d62;function _0x46b693(_0x411f53){return function(_0x1d619a){return _0x101cb4([_0x411f53,_0x1d619a]);};}function _0x101cb4(_0x561867){var _0x50d839=_0x54d9f7;if(_0x210906)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x5c6801)try{if(_0x210906=0x1,_0x1e431f&&(_0x4752a4=_0x561867[0x0]&0x2?_0x1e431f[_0x50d839(0x189)]:_0x561867[0x0]?_0x1e431f[_0x50d839(0x178)]||((_0x4752a4=_0x1e431f[_0x50d839(0x189)])&&_0x4752a4[_0x50d839(0x184)](_0x1e431f),0x0):_0x1e431f['next'])&&!(_0x4752a4=_0x4752a4[_0x50d839(0x184)](_0x1e431f,_0x561867[0x1]))[_0x50d839(0x197)])return _0x4752a4;if(_0x1e431f=0x0,_0x4752a4)_0x561867=[_0x561867[0x0]&0x2,_0x4752a4[_0x50d839(0x187)]];switch(_0x561867[0x0]){case 0x0:case 0x1:_0x4752a4=_0x561867;break;case 0x4:_0x5c6801[_0x50d839(0x1a1)]++;return{'value':_0x561867[0x1],'done':![]};case 0x5:_0x5c6801[_0x50d839(0x1a1)]++,_0x1e431f=_0x561867[0x1],_0x561867=[0x0];continue;case 0x7:_0x561867=_0x5c6801[_0x50d839(0x1a0)][_0x50d839(0x196)](),_0x5c6801[_0x50d839(0x16e)]['pop']();continue;default:if(!(_0x4752a4=_0x5c6801['trys'],_0x4752a4=_0x4752a4[_0x50d839(0x17d)]>0x0&&_0x4752a4[_0x4752a4[_0x50d839(0x17d)]-0x1])&&(_0x561867[0x0]===0x6||_0x561867[0x0]===0x2)){_0x5c6801=0x0;continue;}if(_0x561867[0x0]===0x3&&(!_0x4752a4||_0x561867[0x1]>_0x4752a4[0x0]&&_0x561867[0x1]<_0x4752a4[0x3])){_0x5c6801['label']=_0x561867[0x1];break;}if(_0x561867[0x0]===0x6&&_0x5c6801[_0x50d839(0x1a1)]<_0x4752a4[0x1]){_0x5c6801[_0x50d839(0x1a1)]=_0x4752a4[0x1],_0x4752a4=_0x561867;break;}if(_0x4752a4&&_0x5c6801['label']<_0x4752a4[0x2]){_0x5c6801[_0x50d839(0x1a1)]=_0x4752a4[0x2],_0x5c6801[_0x50d839(0x1a0)][_0x50d839(0x185)](_0x561867);break;}if(_0x4752a4[0x2])_0x5c6801['ops']['pop']();_0x5c6801[_0x50d839(0x16e)][_0x50d839(0x196)]();continue;}_0x561867=_0x2a6dfb[_0x50d839(0x184)](_0x314ba0,_0x5c6801);}catch(_0x42c52f){_0x561867=[0x6,_0x42c52f],_0x1e431f=0x0;}finally{_0x210906=_0x4752a4=0x0;}if(_0x561867[0x0]&0x5)throw _0x561867[0x1];return{'value':_0x561867[0x0]?_0x561867[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a33_0x50f3b2(0x19c)]||function(_0x429335){var _0x564d77=a33_0x50f3b2;return _0x429335&&_0x429335[_0x564d77(0x195)]?_0x429335:{'default':_0x429335};};Object[a33_0x50f3b2(0x183)](exports,'__esModule',{'value':!![]}),exports[a33_0x50f3b2(0x194)]=exports[a33_0x50f3b2(0x18d)]=void 0x0;function a33_0x2b9c(_0xefc1db,_0x3389a5){return a33_0x2b9c=function(_0x3994c5,_0x2b9cec){_0x3994c5=_0x3994c5-0x16d;var _0x1d735c=a33_0x3994[_0x3994c5];return _0x1d735c;},a33_0x2b9c(_0xefc1db,_0x3389a5);}var path_1=__importDefault(require(a33_0x50f3b2(0x199))),fs=__importStar(require('fs-extra')),definition_1=require(a33_0x50f3b2(0x188));function resolveMountPoint(_0x355708){var _0x2bdb4e=a33_0x50f3b2;return{'serverPath':_0x355708[_0x2bdb4e(0x18b)],'mountSource':_0x355708[_0x2bdb4e(0x1a2)],'mountDir':_0x355708['fcDir']};}exports[a33_0x50f3b2(0x18d)]=resolveMountPoint;function convertNasConfigToNasMappings(_0x1af3b2,_0x4555f9,_0x2087d1){return __awaiter(this,void 0x0,void 0x0,function(){var _0x22dfc9,_0x2b0db4,_0x1abec5,_0x1aa949;return __generator(this,function(_0x947754){var _0x18ef22=a33_0x2b9c;switch(_0x947754[_0x18ef22(0x1a1)]){case 0x0:if(!_0x4555f9)return[0x2,[]];_0x22dfc9=definition_1['isAutoConfig'](_0x4555f9);if(!_0x22dfc9)return[0x3,0x4];_0x2b0db4=path_1[_0x18ef22(0x17b)]['join'](_0x1af3b2,_0x18ef22(0x190)),_0x1abec5=path_1['default']['join'](_0x2b0db4,_0x2087d1);return[0x4,fs[_0x18ef22(0x172)](_0x1abec5)];case 0x1:if(!!_0x947754['sent']())return[0x3,0x3];return[0x4,fs[_0x18ef22(0x174)](_0x1abec5)];case 0x2:_0x947754[_0x18ef22(0x18a)](),_0x947754[_0x18ef22(0x1a1)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x1abec5,'remoteNasDir':_0x18ef22(0x181)}]];case 0x4:if(typeof _0x4555f9===_0x18ef22(0x16d))throw new Error(_0x18ef22(0x19f)+_0x4555f9+_0x18ef22(0x18e));_0x1aa949=_0x4555f9['mountPoints'];return[0x4,convertMountPointsToNasMappings(_0x1af3b2,_0x1aa949)];case 0x5:return[0x2,_0x947754[_0x18ef22(0x18a)]()];}});});}exports['convertNasConfigToNasMappings']=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x26c2e2,_0x362969){return __awaiter(this,void 0x0,void 0x0,function(){var _0x275c84,_0x5a2711,_0x1590ef,_0x1cf76b,_0x28498b;return __generator(this,function(_0x2e44ed){var _0xc46f23=a33_0x2b9c;switch(_0x2e44ed['label']){case 0x0:if(!_0x362969)return[0x2,[]];_0x275c84=[],(_0x5a2711=0x0,_0x1590ef=_0x362969),_0x2e44ed[_0xc46f23(0x1a1)]=0x1;case 0x1:if(!(_0x5a2711<_0x1590ef[_0xc46f23(0x17d)]))return[0x3,0x4];_0x1cf76b=_0x1590ef[_0x5a2711];return[0x4,convertMountPointToNasMapping(_0x26c2e2,_0x1cf76b)];case 0x2:_0x28498b=_0x2e44ed[_0xc46f23(0x18a)](),_0x275c84[_0xc46f23(0x185)](_0x28498b),_0x2e44ed[_0xc46f23(0x1a1)]=0x3;case 0x3:_0x5a2711++;return[0x3,0x1];case 0x4:return[0x2,_0x275c84];}});});}function convertMountPointToNasMapping(_0x2d997b,_0x2048f9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x166032,_0x5ef34d,_0x568be7,_0x5844c2,_0x527785,_0x34c4c0;return __generator(this,function(_0x5e79c6){var _0x121e98=a33_0x2b9c;switch(_0x5e79c6['label']){case 0x0:_0x166032=resolveMountPoint(_0x2048f9),_0x5ef34d=_0x166032[_0x121e98(0x17e)],_0x568be7=_0x166032[_0x121e98(0x193)],_0x5844c2=_0x166032['serverPath'],_0x527785=path_1['default'][_0x121e98(0x18f)](_0x2d997b,_0x5844c2);return[0x4,fs[_0x121e98(0x172)](_0x527785)];case 0x1:if(!!_0x5e79c6['sent']())return[0x3,0x3];return[0x4,fs['ensureDir'](_0x527785)];case 0x2:_0x5e79c6[_0x121e98(0x18a)](),_0x5e79c6[_0x121e98(0x1a1)]=0x3;case 0x3:_0x34c4c0=path_1[_0x121e98(0x17b)]['join'](_0x527785,_0x5ef34d);return[0x4,fs[_0x121e98(0x172)](_0x34c4c0)];case 0x4:if(!!_0x5e79c6['sent']())return[0x3,0x6];return[0x4,fs['ensureDir'](_0x34c4c0)];case 0x5:_0x5e79c6[_0x121e98(0x18a)](),_0x5e79c6[_0x121e98(0x1a1)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x34c4c0,'remoteNasDir':_0x568be7}];}});});}