'use strict';var a34_0x4829=['serverAddr','value','iterator','auto-default','trys','1234ulkrOJ','defineProperty','call','143796SBHsWV','throw','label','path','__generator','apply','106330RJraym','hasOwnProperty','nasDir','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','__importStar','isAutoConfig','string','return','Unsupported\x20nasConfig:\x20','54669vzDbrH','pop','next','sent','create','mountPoints','ensureDir','fcDir','done','convertNasConfigToNasMappings','ops','mountSource','Generator\x20is\x20already\x20executing.','default','resolveMountPoint','join','length','97AGSydY','pathExists','__esModule','../definition','78019giHtyN','136121jODxlD','121454axnwBt','fs-extra','3pxRoFQ','__setModuleDefault'];var a34_0x2dad5e=a34_0x2294;(function(_0x31f637,_0x2a533c){var _0x21ee31=a34_0x2294;while(!![]){try{var _0x23fb39=-parseInt(_0x21ee31(0x19b))+-parseInt(_0x21ee31(0x195))+parseInt(_0x21ee31(0x189))+parseInt(_0x21ee31(0x183))*-parseInt(_0x21ee31(0x192))+parseInt(_0x21ee31(0x172))+-parseInt(_0x21ee31(0x187))+-parseInt(_0x21ee31(0x188))*-parseInt(_0x21ee31(0x18b));if(_0x23fb39===_0x2a533c)break;else _0x31f637['push'](_0x31f637['shift']());}catch(_0x116909){_0x31f637['push'](_0x31f637['shift']());}}}(a34_0x4829,0x215c3));var __createBinding=this&&this['__createBinding']||(Object[a34_0x2dad5e(0x176)]?function(_0x447d28,_0x4b39b2,_0x129389,_0x182590){var _0x2e4d70=a34_0x2dad5e;if(_0x182590===undefined)_0x182590=_0x129389;Object[_0x2e4d70(0x193)](_0x447d28,_0x182590,{'enumerable':!![],'get':function(){return _0x4b39b2[_0x129389];}});}:function(_0x4a0143,_0x2429d4,_0x2a27a8,_0xe8c7bc){if(_0xe8c7bc===undefined)_0xe8c7bc=_0x2a27a8;_0x4a0143[_0xe8c7bc]=_0x2429d4[_0x2a27a8];}),__setModuleDefault=this&&this[a34_0x2dad5e(0x18c)]||(Object[a34_0x2dad5e(0x176)]?function(_0x2be998,_0x201481){var _0x3360d8=a34_0x2dad5e;Object[_0x3360d8(0x193)](_0x2be998,_0x3360d8(0x17f),{'enumerable':!![],'value':_0x201481});}:function(_0x4a9828,_0x167e33){var _0x547045=a34_0x2dad5e;_0x4a9828[_0x547045(0x17f)]=_0x167e33;}),__importStar=this&&this[a34_0x2dad5e(0x19f)]||function(_0x388acf){var _0x36e837=a34_0x2dad5e;if(_0x388acf&&_0x388acf[_0x36e837(0x185)])return _0x388acf;var _0x30cc95={};if(_0x388acf!=null){for(var _0x132e1e in _0x388acf)if(_0x132e1e!==_0x36e837(0x17f)&&Object[_0x36e837(0x19c)][_0x36e837(0x194)](_0x388acf,_0x132e1e))__createBinding(_0x30cc95,_0x388acf,_0x132e1e);}return __setModuleDefault(_0x30cc95,_0x388acf),_0x30cc95;},__awaiter=this&&this['__awaiter']||function(_0x2b575e,_0x23ad24,_0x3692cd,_0x43fe70){function _0x7165fb(_0xe86e3d){return _0xe86e3d instanceof _0x3692cd?_0xe86e3d:new _0x3692cd(function(_0x2666bf){_0x2666bf(_0xe86e3d);});}return new(_0x3692cd||(_0x3692cd=Promise))(function(_0x486f4,_0xe12499){var _0x2a0cbd=a34_0x2294;function _0x4546b2(_0x5282d2){var _0x3bb1f2=a34_0x2294;try{_0x34f95a(_0x43fe70[_0x3bb1f2(0x174)](_0x5282d2));}catch(_0x3b2f0b){_0xe12499(_0x3b2f0b);}}function _0x7dd210(_0x27180a){try{_0x34f95a(_0x43fe70['throw'](_0x27180a));}catch(_0xedb5b8){_0xe12499(_0xedb5b8);}}function _0x34f95a(_0x349e5d){var _0x310e3d=a34_0x2294;_0x349e5d[_0x310e3d(0x17a)]?_0x486f4(_0x349e5d[_0x310e3d(0x18e)]):_0x7165fb(_0x349e5d['value'])['then'](_0x4546b2,_0x7dd210);}_0x34f95a((_0x43fe70=_0x43fe70[_0x2a0cbd(0x19a)](_0x2b575e,_0x23ad24||[]))[_0x2a0cbd(0x174)]());});},__generator=this&&this[a34_0x2dad5e(0x199)]||function(_0x3fc861,_0x2c389d){var _0x5a7b58=a34_0x2dad5e,_0x2cee92={'label':0x0,'sent':function(){if(_0xd780be[0x0]&0x1)throw _0xd780be[0x1];return _0xd780be[0x1];},'trys':[],'ops':[]},_0x4144c4,_0x3e6495,_0xd780be,_0x5ef9a2;return _0x5ef9a2={'next':_0x25a10d(0x0),'throw':_0x25a10d(0x1),'return':_0x25a10d(0x2)},typeof Symbol==='function'&&(_0x5ef9a2[Symbol[_0x5a7b58(0x18f)]]=function(){return this;}),_0x5ef9a2;function _0x25a10d(_0x52f3ce){return function(_0x266509){return _0x102f43([_0x52f3ce,_0x266509]);};}function _0x102f43(_0x403f21){var _0x5a3d7b=_0x5a7b58;if(_0x4144c4)throw new TypeError(_0x5a3d7b(0x17e));while(_0x2cee92)try{if(_0x4144c4=0x1,_0x3e6495&&(_0xd780be=_0x403f21[0x0]&0x2?_0x3e6495[_0x5a3d7b(0x170)]:_0x403f21[0x0]?_0x3e6495[_0x5a3d7b(0x196)]||((_0xd780be=_0x3e6495[_0x5a3d7b(0x170)])&&_0xd780be[_0x5a3d7b(0x194)](_0x3e6495),0x0):_0x3e6495[_0x5a3d7b(0x174)])&&!(_0xd780be=_0xd780be['call'](_0x3e6495,_0x403f21[0x1]))[_0x5a3d7b(0x17a)])return _0xd780be;if(_0x3e6495=0x0,_0xd780be)_0x403f21=[_0x403f21[0x0]&0x2,_0xd780be[_0x5a3d7b(0x18e)]];switch(_0x403f21[0x0]){case 0x0:case 0x1:_0xd780be=_0x403f21;break;case 0x4:_0x2cee92[_0x5a3d7b(0x197)]++;return{'value':_0x403f21[0x1],'done':![]};case 0x5:_0x2cee92[_0x5a3d7b(0x197)]++,_0x3e6495=_0x403f21[0x1],_0x403f21=[0x0];continue;case 0x7:_0x403f21=_0x2cee92[_0x5a3d7b(0x17c)][_0x5a3d7b(0x173)](),_0x2cee92[_0x5a3d7b(0x191)][_0x5a3d7b(0x173)]();continue;default:if(!(_0xd780be=_0x2cee92[_0x5a3d7b(0x191)],_0xd780be=_0xd780be[_0x5a3d7b(0x182)]>0x0&&_0xd780be[_0xd780be['length']-0x1])&&(_0x403f21[0x0]===0x6||_0x403f21[0x0]===0x2)){_0x2cee92=0x0;continue;}if(_0x403f21[0x0]===0x3&&(!_0xd780be||_0x403f21[0x1]>_0xd780be[0x0]&&_0x403f21[0x1]<_0xd780be[0x3])){_0x2cee92[_0x5a3d7b(0x197)]=_0x403f21[0x1];break;}if(_0x403f21[0x0]===0x6&&_0x2cee92[_0x5a3d7b(0x197)]<_0xd780be[0x1]){_0x2cee92['label']=_0xd780be[0x1],_0xd780be=_0x403f21;break;}if(_0xd780be&&_0x2cee92[_0x5a3d7b(0x197)]<_0xd780be[0x2]){_0x2cee92[_0x5a3d7b(0x197)]=_0xd780be[0x2],_0x2cee92[_0x5a3d7b(0x17c)]['push'](_0x403f21);break;}if(_0xd780be[0x2])_0x2cee92[_0x5a3d7b(0x17c)]['pop']();_0x2cee92['trys']['pop']();continue;}_0x403f21=_0x2c389d[_0x5a3d7b(0x194)](_0x3fc861,_0x2cee92);}catch(_0x27ccf8){_0x403f21=[0x6,_0x27ccf8],_0x3e6495=0x0;}finally{_0x4144c4=_0xd780be=0x0;}if(_0x403f21[0x0]&0x5)throw _0x403f21[0x1];return{'value':_0x403f21[0x0]?_0x403f21[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0xe37bba){var _0x1e57ee=a34_0x2dad5e;return _0xe37bba&&_0xe37bba[_0x1e57ee(0x185)]?_0xe37bba:{'default':_0xe37bba};};Object[a34_0x2dad5e(0x193)](exports,a34_0x2dad5e(0x185),{'value':!![]}),exports[a34_0x2dad5e(0x17b)]=exports[a34_0x2dad5e(0x180)]=void 0x0;var path_1=__importDefault(require(a34_0x2dad5e(0x198))),fs=__importStar(require(a34_0x2dad5e(0x18a))),definition_1=require(a34_0x2dad5e(0x186));function resolveMountPoint(_0x4d2fbf){var _0x2359a5=a34_0x2dad5e;return{'serverPath':_0x4d2fbf[_0x2359a5(0x18d)],'mountSource':_0x4d2fbf[_0x2359a5(0x19d)],'mountDir':_0x4d2fbf[_0x2359a5(0x179)]};}function a34_0x2294(_0x522381,_0x469ef3){return a34_0x2294=function(_0x4829ee,_0x229401){_0x4829ee=_0x4829ee-0x170;var _0x45498c=a34_0x4829[_0x4829ee];return _0x45498c;},a34_0x2294(_0x522381,_0x469ef3);}exports[a34_0x2dad5e(0x180)]=resolveMountPoint;function convertNasConfigToNasMappings(_0x3f5d31,_0xb0f92f,_0x18eddf){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d867d,_0x239b4d,_0x4fd4f6,_0x3ca12f;return __generator(this,function(_0x3e4f85){var _0x44d6c3=a34_0x2294;switch(_0x3e4f85['label']){case 0x0:if(!_0xb0f92f)return[0x2,[]];_0x5d867d=definition_1[_0x44d6c3(0x1a0)](_0xb0f92f);if(!_0x5d867d)return[0x3,0x4];_0x239b4d=path_1['default'][_0x44d6c3(0x181)](_0x3f5d31,_0x44d6c3(0x190)),_0x4fd4f6=path_1[_0x44d6c3(0x17f)]['join'](_0x239b4d,_0x18eddf);return[0x4,fs['pathExists'](_0x4fd4f6)];case 0x1:if(!!_0x3e4f85[_0x44d6c3(0x175)]())return[0x3,0x3];return[0x4,fs['ensureDir'](_0x4fd4f6)];case 0x2:_0x3e4f85[_0x44d6c3(0x175)](),_0x3e4f85[_0x44d6c3(0x197)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x4fd4f6,'remoteNasDir':'/mnt/auto'}]];case 0x4:if(typeof _0xb0f92f===_0x44d6c3(0x1a1))throw new Error(_0x44d6c3(0x171)+_0xb0f92f+_0x44d6c3(0x19e));_0x3ca12f=_0xb0f92f[_0x44d6c3(0x177)];return[0x4,convertMountPointsToNasMappings(_0x3f5d31,_0x3ca12f)];case 0x5:return[0x2,_0x3e4f85['sent']()];}});});}exports[a34_0x2dad5e(0x17b)]=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x5410e2,_0x24398c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x377e5a,_0x599083,_0x47efa2,_0x16329f,_0x172b6a;return __generator(this,function(_0x4034c2){var _0x15d824=a34_0x2294;switch(_0x4034c2['label']){case 0x0:if(!_0x24398c)return[0x2,[]];_0x377e5a=[],(_0x599083=0x0,_0x47efa2=_0x24398c),_0x4034c2[_0x15d824(0x197)]=0x1;case 0x1:if(!(_0x599083<_0x47efa2[_0x15d824(0x182)]))return[0x3,0x4];_0x16329f=_0x47efa2[_0x599083];return[0x4,convertMountPointToNasMapping(_0x5410e2,_0x16329f)];case 0x2:_0x172b6a=_0x4034c2[_0x15d824(0x175)](),_0x377e5a['push'](_0x172b6a),_0x4034c2[_0x15d824(0x197)]=0x3;case 0x3:_0x599083++;return[0x3,0x1];case 0x4:return[0x2,_0x377e5a];}});});}function convertMountPointToNasMapping(_0x599b0b,_0x4f1a2c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x519484,_0x496ec6,_0x5b8b46,_0x371e4a,_0x5cabef,_0x419238;return __generator(this,function(_0x2a1eb2){var _0x3b75bc=a34_0x2294;switch(_0x2a1eb2[_0x3b75bc(0x197)]){case 0x0:_0x519484=resolveMountPoint(_0x4f1a2c),_0x496ec6=_0x519484[_0x3b75bc(0x17d)],_0x5b8b46=_0x519484['mountDir'],_0x371e4a=_0x519484['serverPath'],_0x5cabef=path_1[_0x3b75bc(0x17f)][_0x3b75bc(0x181)](_0x599b0b,_0x371e4a);return[0x4,fs[_0x3b75bc(0x184)](_0x5cabef)];case 0x1:if(!!_0x2a1eb2[_0x3b75bc(0x175)]())return[0x3,0x3];return[0x4,fs[_0x3b75bc(0x178)](_0x5cabef)];case 0x2:_0x2a1eb2[_0x3b75bc(0x175)](),_0x2a1eb2['label']=0x3;case 0x3:_0x419238=path_1['default'][_0x3b75bc(0x181)](_0x5cabef,_0x496ec6);return[0x4,fs[_0x3b75bc(0x184)](_0x419238)];case 0x4:if(!!_0x2a1eb2['sent']())return[0x3,0x6];return[0x4,fs['ensureDir'](_0x419238)];case 0x5:_0x2a1eb2[_0x3b75bc(0x175)](),_0x2a1eb2[_0x3b75bc(0x197)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x419238,'remoteNasDir':_0x5b8b46}];}});});}