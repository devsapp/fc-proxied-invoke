'use strict';var a34_0x50de=['sent','1eAvBpP','__awaiter','return','default','__createBinding','resolveMountPoint','hasOwnProperty','function','1165HUwPSh','iterator','fs-extra','Unsupported\x20nasConfig:\x20','apply','1SDjHDU','call','mountPoints','pathExists','create','pop','__setModuleDefault','string','552107PfFuqY','nasDir','isAutoConfig','88WdArxf','1SLZRjN','convertNasConfigToNasMappings','105539eHXWen','52330heIVIy','2304tEZpNh','throw','175aZifDV','push','then','length','767245uaJTfR','serverPath','auto-default','trys','ensureDir','next','value','236029UBuVJd','done','path','__esModule','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','__generator','defineProperty','/mnt/auto','ops','label','join'];var a34_0x44f01e=a34_0x4e54;(function(_0x1e8dc8,_0x1db434){var _0x507b99=a34_0x4e54;while(!![]){try{var _0x2e9e64=-parseInt(_0x507b99(0x17f))+parseInt(_0x507b99(0x170))*-parseInt(_0x507b99(0x17e))+-parseInt(_0x507b99(0x16b))*parseInt(_0x507b99(0x182))+parseInt(_0x507b99(0x163))*parseInt(_0x507b99(0x18d))+-parseInt(_0x507b99(0x178))+-parseInt(_0x507b99(0x17b))*-parseInt(_0x507b99(0x180))+parseInt(_0x507b99(0x17c))*parseInt(_0x507b99(0x186));if(_0x2e9e64===_0x1db434)break;else _0x1e8dc8['push'](_0x1e8dc8['shift']());}catch(_0x1e264a){_0x1e8dc8['push'](_0x1e8dc8['shift']());}}}(a34_0x50de,0x4754f));var __createBinding=this&&this[a34_0x44f01e(0x167)]||(Object[a34_0x44f01e(0x174)]?function(_0x1e5a89,_0x5976d7,_0x3c6036,_0x24456a){if(_0x24456a===undefined)_0x24456a=_0x3c6036;Object['defineProperty'](_0x1e5a89,_0x24456a,{'enumerable':!![],'get':function(){return _0x5976d7[_0x3c6036];}});}:function(_0x3ad17a,_0x2e3397,_0x4efc1e,_0x31ce01){if(_0x31ce01===undefined)_0x31ce01=_0x4efc1e;_0x3ad17a[_0x31ce01]=_0x2e3397[_0x4efc1e];}),__setModuleDefault=this&&this[a34_0x44f01e(0x176)]||(Object[a34_0x44f01e(0x174)]?function(_0x4a9313,_0x4a0093){var _0xdb0ab9=a34_0x44f01e;Object[_0xdb0ab9(0x193)](_0x4a9313,_0xdb0ab9(0x166),{'enumerable':!![],'value':_0x4a0093});}:function(_0xd35400,_0x5b7a8f){_0xd35400['default']=_0x5b7a8f;}),__importStar=this&&this['__importStar']||function(_0x2d26bd){var _0xe6a1b8=a34_0x44f01e;if(_0x2d26bd&&_0x2d26bd[_0xe6a1b8(0x190)])return _0x2d26bd;var _0x2b98ff={};if(_0x2d26bd!=null){for(var _0x5da374 in _0x2d26bd)if(_0x5da374!==_0xe6a1b8(0x166)&&Object[_0xe6a1b8(0x169)]['call'](_0x2d26bd,_0x5da374))__createBinding(_0x2b98ff,_0x2d26bd,_0x5da374);}return __setModuleDefault(_0x2b98ff,_0x2d26bd),_0x2b98ff;},__awaiter=this&&this[a34_0x44f01e(0x164)]||function(_0x1c5977,_0x1d8158,_0x54c9f4,_0x31e991){function _0x10180c(_0x8a79f1){return _0x8a79f1 instanceof _0x54c9f4?_0x8a79f1:new _0x54c9f4(function(_0x116513){_0x116513(_0x8a79f1);});}return new(_0x54c9f4||(_0x54c9f4=Promise))(function(_0x12a1a6,_0x6bb584){var _0x598389=a34_0x4e54;function _0x31c639(_0xf87025){try{_0x142ffe(_0x31e991['next'](_0xf87025));}catch(_0x542bfc){_0x6bb584(_0x542bfc);}}function _0xf0d093(_0x18931e){try{_0x142ffe(_0x31e991['throw'](_0x18931e));}catch(_0xea006f){_0x6bb584(_0xea006f);}}function _0x142ffe(_0x534e74){var _0x221667=a34_0x4e54;_0x534e74[_0x221667(0x18e)]?_0x12a1a6(_0x534e74['value']):_0x10180c(_0x534e74['value'])[_0x221667(0x184)](_0x31c639,_0xf0d093);}_0x142ffe((_0x31e991=_0x31e991[_0x598389(0x16f)](_0x1c5977,_0x1d8158||[]))['next']());});},__generator=this&&this[a34_0x44f01e(0x192)]||function(_0x4398ce,_0x417acf){var _0x1aed8f=a34_0x44f01e,_0x2a132d={'label':0x0,'sent':function(){if(_0x14b5c3[0x0]&0x1)throw _0x14b5c3[0x1];return _0x14b5c3[0x1];},'trys':[],'ops':[]},_0x1dd7de,_0x45bbd2,_0x14b5c3,_0xadce13;return _0xadce13={'next':_0xb84471(0x0),'throw':_0xb84471(0x1),'return':_0xb84471(0x2)},typeof Symbol===_0x1aed8f(0x16a)&&(_0xadce13[Symbol[_0x1aed8f(0x16c)]]=function(){return this;}),_0xadce13;function _0xb84471(_0x4b4683){return function(_0xefce0){return _0x444d2d([_0x4b4683,_0xefce0]);};}function _0x444d2d(_0x200675){var _0x231cfa=_0x1aed8f;if(_0x1dd7de)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x2a132d)try{if(_0x1dd7de=0x1,_0x45bbd2&&(_0x14b5c3=_0x200675[0x0]&0x2?_0x45bbd2[_0x231cfa(0x165)]:_0x200675[0x0]?_0x45bbd2[_0x231cfa(0x181)]||((_0x14b5c3=_0x45bbd2[_0x231cfa(0x165)])&&_0x14b5c3[_0x231cfa(0x171)](_0x45bbd2),0x0):_0x45bbd2[_0x231cfa(0x18b)])&&!(_0x14b5c3=_0x14b5c3['call'](_0x45bbd2,_0x200675[0x1]))[_0x231cfa(0x18e)])return _0x14b5c3;if(_0x45bbd2=0x0,_0x14b5c3)_0x200675=[_0x200675[0x0]&0x2,_0x14b5c3[_0x231cfa(0x18c)]];switch(_0x200675[0x0]){case 0x0:case 0x1:_0x14b5c3=_0x200675;break;case 0x4:_0x2a132d['label']++;return{'value':_0x200675[0x1],'done':![]};case 0x5:_0x2a132d[_0x231cfa(0x160)]++,_0x45bbd2=_0x200675[0x1],_0x200675=[0x0];continue;case 0x7:_0x200675=_0x2a132d[_0x231cfa(0x15f)]['pop'](),_0x2a132d[_0x231cfa(0x189)][_0x231cfa(0x175)]();continue;default:if(!(_0x14b5c3=_0x2a132d[_0x231cfa(0x189)],_0x14b5c3=_0x14b5c3[_0x231cfa(0x185)]>0x0&&_0x14b5c3[_0x14b5c3[_0x231cfa(0x185)]-0x1])&&(_0x200675[0x0]===0x6||_0x200675[0x0]===0x2)){_0x2a132d=0x0;continue;}if(_0x200675[0x0]===0x3&&(!_0x14b5c3||_0x200675[0x1]>_0x14b5c3[0x0]&&_0x200675[0x1]<_0x14b5c3[0x3])){_0x2a132d[_0x231cfa(0x160)]=_0x200675[0x1];break;}if(_0x200675[0x0]===0x6&&_0x2a132d[_0x231cfa(0x160)]<_0x14b5c3[0x1]){_0x2a132d[_0x231cfa(0x160)]=_0x14b5c3[0x1],_0x14b5c3=_0x200675;break;}if(_0x14b5c3&&_0x2a132d['label']<_0x14b5c3[0x2]){_0x2a132d[_0x231cfa(0x160)]=_0x14b5c3[0x2],_0x2a132d['ops']['push'](_0x200675);break;}if(_0x14b5c3[0x2])_0x2a132d[_0x231cfa(0x15f)]['pop']();_0x2a132d[_0x231cfa(0x189)][_0x231cfa(0x175)]();continue;}_0x200675=_0x417acf[_0x231cfa(0x171)](_0x4398ce,_0x2a132d);}catch(_0xf79afb){_0x200675=[0x6,_0xf79afb],_0x45bbd2=0x0;}finally{_0x1dd7de=_0x14b5c3=0x0;}if(_0x200675[0x0]&0x5)throw _0x200675[0x1];return{'value':_0x200675[0x0]?_0x200675[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0x1d227a){var _0x17b5af=a34_0x44f01e;return _0x1d227a&&_0x1d227a[_0x17b5af(0x190)]?_0x1d227a:{'default':_0x1d227a};};Object[a34_0x44f01e(0x193)](exports,'__esModule',{'value':!![]}),exports['convertNasConfigToNasMappings']=exports[a34_0x44f01e(0x168)]=void 0x0;var path_1=__importDefault(require(a34_0x44f01e(0x18f))),fs=__importStar(require(a34_0x44f01e(0x16d))),definition_1=require('../definition');function resolveMountPoint(_0x1552e0){var _0x42a7bb=a34_0x44f01e;return{'serverPath':_0x1552e0['serverAddr'],'mountSource':_0x1552e0[_0x42a7bb(0x179)],'mountDir':_0x1552e0['fcDir']};}exports[a34_0x44f01e(0x168)]=resolveMountPoint;function convertNasConfigToNasMappings(_0x2e1cdb,_0x27c8aa,_0x55c9c0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x578cf7,_0x5dda9a,_0xdd127,_0x2d8443;return __generator(this,function(_0x111339){var _0x261847=a34_0x4e54;switch(_0x111339['label']){case 0x0:if(!_0x27c8aa)return[0x2,[]];_0x578cf7=definition_1[_0x261847(0x17a)](_0x27c8aa);if(!_0x578cf7)return[0x3,0x4];_0x5dda9a=path_1[_0x261847(0x166)]['join'](_0x2e1cdb,_0x261847(0x188)),_0xdd127=path_1[_0x261847(0x166)][_0x261847(0x161)](_0x5dda9a,_0x55c9c0);return[0x4,fs[_0x261847(0x173)](_0xdd127)];case 0x1:if(!!_0x111339[_0x261847(0x162)]())return[0x3,0x3];return[0x4,fs[_0x261847(0x18a)](_0xdd127)];case 0x2:_0x111339['sent'](),_0x111339[_0x261847(0x160)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0xdd127,'remoteNasDir':_0x261847(0x194)}]];case 0x4:if(typeof _0x27c8aa===_0x261847(0x177))throw new Error(_0x261847(0x16e)+_0x27c8aa+_0x261847(0x191));_0x2d8443=_0x27c8aa[_0x261847(0x172)];return[0x4,convertMountPointsToNasMappings(_0x2e1cdb,_0x2d8443)];case 0x5:return[0x2,_0x111339['sent']()];}});});}exports[a34_0x44f01e(0x17d)]=convertNasConfigToNasMappings;function a34_0x4e54(_0x19c109,_0x49c607){return a34_0x4e54=function(_0x50de31,_0x4e548d){_0x50de31=_0x50de31-0x15f;var _0x2b2e1b=a34_0x50de[_0x50de31];return _0x2b2e1b;},a34_0x4e54(_0x19c109,_0x49c607);}function convertMountPointsToNasMappings(_0x1ef44c,_0x54d983){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1b6de8,_0xab90c7,_0x222ee0,_0x2e9420,_0x40e1f5;return __generator(this,function(_0x21d4ca){var _0xf2add6=a34_0x4e54;switch(_0x21d4ca[_0xf2add6(0x160)]){case 0x0:if(!_0x54d983)return[0x2,[]];_0x1b6de8=[],(_0xab90c7=0x0,_0x222ee0=_0x54d983),_0x21d4ca['label']=0x1;case 0x1:if(!(_0xab90c7<_0x222ee0['length']))return[0x3,0x4];_0x2e9420=_0x222ee0[_0xab90c7];return[0x4,convertMountPointToNasMapping(_0x1ef44c,_0x2e9420)];case 0x2:_0x40e1f5=_0x21d4ca[_0xf2add6(0x162)](),_0x1b6de8[_0xf2add6(0x183)](_0x40e1f5),_0x21d4ca[_0xf2add6(0x160)]=0x3;case 0x3:_0xab90c7++;return[0x3,0x1];case 0x4:return[0x2,_0x1b6de8];}});});}function convertMountPointToNasMapping(_0x4964a5,_0x2e8618){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2737e4,_0x6daf6,_0x25b1da,_0x6e6b44,_0x39918a,_0x49fc84;return __generator(this,function(_0x431018){var _0x31ad0b=a34_0x4e54;switch(_0x431018[_0x31ad0b(0x160)]){case 0x0:_0x2737e4=resolveMountPoint(_0x2e8618),_0x6daf6=_0x2737e4['mountSource'],_0x25b1da=_0x2737e4['mountDir'],_0x6e6b44=_0x2737e4[_0x31ad0b(0x187)],_0x39918a=path_1[_0x31ad0b(0x166)]['join'](_0x4964a5,_0x6e6b44);return[0x4,fs[_0x31ad0b(0x173)](_0x39918a)];case 0x1:if(!!_0x431018[_0x31ad0b(0x162)]())return[0x3,0x3];return[0x4,fs[_0x31ad0b(0x18a)](_0x39918a)];case 0x2:_0x431018[_0x31ad0b(0x162)](),_0x431018['label']=0x3;case 0x3:_0x49fc84=path_1[_0x31ad0b(0x166)][_0x31ad0b(0x161)](_0x39918a,_0x6daf6);return[0x4,fs['pathExists'](_0x49fc84)];case 0x4:if(!!_0x431018[_0x31ad0b(0x162)]())return[0x3,0x6];return[0x4,fs[_0x31ad0b(0x18a)](_0x49fc84)];case 0x5:_0x431018[_0x31ad0b(0x162)](),_0x431018[_0x31ad0b(0x160)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x49fc84,'remoteNasDir':_0x25b1da}];}});});}