'use strict';var a34_0x1ffa=['/mnt/auto','ensureDir','46CFQyBK','call','function','105798QeyxXF','__esModule','2JFoSbk','../definition','28687JPGtCU','then','965776gfLhFJ','done','value','731slFncK','Generator\x20is\x20already\x20executing.','label','4618uspGvW','create','defineProperty','default','auto-default','hasOwnProperty','__importStar','312509oGsrhq','throw','pop','serverPath','trys','nasDir','isAutoConfig','length','next','string','sent','25LxRLCD','454meJDJO','__createBinding','2jOAFGb','266lPiErx','fs-extra','return','__importDefault','ops','iterator','__generator','__awaiter','push','join','pathExists','Unsupported\x20nasConfig:\x20','fcDir','resolveMountPoint'];var a34_0x791a82=a34_0x83de;(function(_0x5766e3,_0x23cc6d){var _0x7d6748=a34_0x83de;while(!![]){try{var _0x4f4a03=-parseInt(_0x7d6748(0x1ce))*-parseInt(_0x7d6748(0x1e2))+parseInt(_0x7d6748(0x1cf))*parseInt(_0x7d6748(0x1cb))+parseInt(_0x7d6748(0x1c0))+-parseInt(_0x7d6748(0x1e4))*-parseInt(_0x7d6748(0x1e6))+-parseInt(_0x7d6748(0x1eb))*-parseInt(_0x7d6748(0x1cc))+-parseInt(_0x7d6748(0x1df))*-parseInt(_0x7d6748(0x1b9))+-parseInt(_0x7d6748(0x1e8));if(_0x4f4a03===_0x23cc6d)break;else _0x5766e3['push'](_0x5766e3['shift']());}catch(_0x5e4ca9){_0x5766e3['push'](_0x5766e3['shift']());}}}(a34_0x1ffa,0x28aff));var __createBinding=this&&this[a34_0x791a82(0x1cd)]||(Object[a34_0x791a82(0x1ba)]?function(_0x16590c,_0xa97692,_0x63ec7d,_0x72c29c){var _0xbe5766=a34_0x791a82;if(_0x72c29c===undefined)_0x72c29c=_0x63ec7d;Object[_0xbe5766(0x1bb)](_0x16590c,_0x72c29c,{'enumerable':!![],'get':function(){return _0xa97692[_0x63ec7d];}});}:function(_0xe73d6,_0x3b392b,_0x73e7fa,_0x547327){if(_0x547327===undefined)_0x547327=_0x73e7fa;_0xe73d6[_0x547327]=_0x3b392b[_0x73e7fa];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x2371c4,_0x9e1baf){var _0x3423c0=a34_0x791a82;Object[_0x3423c0(0x1bb)](_0x2371c4,_0x3423c0(0x1bc),{'enumerable':!![],'value':_0x9e1baf});}:function(_0x33202f,_0x3efac4){var _0x369682=a34_0x791a82;_0x33202f[_0x369682(0x1bc)]=_0x3efac4;}),__importStar=this&&this[a34_0x791a82(0x1bf)]||function(_0x2abee4){var _0x5ec9a5=a34_0x791a82;if(_0x2abee4&&_0x2abee4['__esModule'])return _0x2abee4;var _0x571dac={};if(_0x2abee4!=null){for(var _0x58194e in _0x2abee4)if(_0x58194e!==_0x5ec9a5(0x1bc)&&Object[_0x5ec9a5(0x1be)][_0x5ec9a5(0x1e0)](_0x2abee4,_0x58194e))__createBinding(_0x571dac,_0x2abee4,_0x58194e);}return __setModuleDefault(_0x571dac,_0x2abee4),_0x571dac;},__awaiter=this&&this[a34_0x791a82(0x1d6)]||function(_0x3717d1,_0x30c433,_0xecb38f,_0x1deaae){function _0x1780e9(_0x46e9fc){return _0x46e9fc instanceof _0xecb38f?_0x46e9fc:new _0xecb38f(function(_0x50f2fa){_0x50f2fa(_0x46e9fc);});}return new(_0xecb38f||(_0xecb38f=Promise))(function(_0x18da27,_0x57e6b8){var _0x44ad3f=a34_0x83de;function _0x34afef(_0x23783a){try{_0x319283(_0x1deaae['next'](_0x23783a));}catch(_0x52b005){_0x57e6b8(_0x52b005);}}function _0x22c51d(_0x4a5fd0){var _0x14436f=a34_0x83de;try{_0x319283(_0x1deaae[_0x14436f(0x1c1)](_0x4a5fd0));}catch(_0x12ddb2){_0x57e6b8(_0x12ddb2);}}function _0x319283(_0x20a04d){var _0x4ecb7e=a34_0x83de;_0x20a04d['done']?_0x18da27(_0x20a04d['value']):_0x1780e9(_0x20a04d[_0x4ecb7e(0x1ea)])[_0x4ecb7e(0x1e7)](_0x34afef,_0x22c51d);}_0x319283((_0x1deaae=_0x1deaae['apply'](_0x3717d1,_0x30c433||[]))[_0x44ad3f(0x1c8)]());});},__generator=this&&this[a34_0x791a82(0x1d5)]||function(_0x13196a,_0x465ee0){var _0x335e47=a34_0x791a82,_0x3b4fcd={'label':0x0,'sent':function(){if(_0x11f8ad[0x0]&0x1)throw _0x11f8ad[0x1];return _0x11f8ad[0x1];},'trys':[],'ops':[]},_0x185ed1,_0x1893d2,_0x11f8ad,_0x47c19b;return _0x47c19b={'next':_0x280e62(0x0),'throw':_0x280e62(0x1),'return':_0x280e62(0x2)},typeof Symbol===_0x335e47(0x1e1)&&(_0x47c19b[Symbol[_0x335e47(0x1d4)]]=function(){return this;}),_0x47c19b;function _0x280e62(_0x50f41c){return function(_0x4fc562){return _0x597e86([_0x50f41c,_0x4fc562]);};}function _0x597e86(_0x2032e8){var _0x12ceff=_0x335e47;if(_0x185ed1)throw new TypeError(_0x12ceff(0x1ec));while(_0x3b4fcd)try{if(_0x185ed1=0x1,_0x1893d2&&(_0x11f8ad=_0x2032e8[0x0]&0x2?_0x1893d2['return']:_0x2032e8[0x0]?_0x1893d2[_0x12ceff(0x1c1)]||((_0x11f8ad=_0x1893d2[_0x12ceff(0x1d1)])&&_0x11f8ad[_0x12ceff(0x1e0)](_0x1893d2),0x0):_0x1893d2['next'])&&!(_0x11f8ad=_0x11f8ad['call'](_0x1893d2,_0x2032e8[0x1]))[_0x12ceff(0x1e9)])return _0x11f8ad;if(_0x1893d2=0x0,_0x11f8ad)_0x2032e8=[_0x2032e8[0x0]&0x2,_0x11f8ad[_0x12ceff(0x1ea)]];switch(_0x2032e8[0x0]){case 0x0:case 0x1:_0x11f8ad=_0x2032e8;break;case 0x4:_0x3b4fcd['label']++;return{'value':_0x2032e8[0x1],'done':![]};case 0x5:_0x3b4fcd[_0x12ceff(0x1b8)]++,_0x1893d2=_0x2032e8[0x1],_0x2032e8=[0x0];continue;case 0x7:_0x2032e8=_0x3b4fcd['ops'][_0x12ceff(0x1c2)](),_0x3b4fcd[_0x12ceff(0x1c4)]['pop']();continue;default:if(!(_0x11f8ad=_0x3b4fcd['trys'],_0x11f8ad=_0x11f8ad[_0x12ceff(0x1c7)]>0x0&&_0x11f8ad[_0x11f8ad[_0x12ceff(0x1c7)]-0x1])&&(_0x2032e8[0x0]===0x6||_0x2032e8[0x0]===0x2)){_0x3b4fcd=0x0;continue;}if(_0x2032e8[0x0]===0x3&&(!_0x11f8ad||_0x2032e8[0x1]>_0x11f8ad[0x0]&&_0x2032e8[0x1]<_0x11f8ad[0x3])){_0x3b4fcd[_0x12ceff(0x1b8)]=_0x2032e8[0x1];break;}if(_0x2032e8[0x0]===0x6&&_0x3b4fcd[_0x12ceff(0x1b8)]<_0x11f8ad[0x1]){_0x3b4fcd[_0x12ceff(0x1b8)]=_0x11f8ad[0x1],_0x11f8ad=_0x2032e8;break;}if(_0x11f8ad&&_0x3b4fcd[_0x12ceff(0x1b8)]<_0x11f8ad[0x2]){_0x3b4fcd['label']=_0x11f8ad[0x2],_0x3b4fcd[_0x12ceff(0x1d3)][_0x12ceff(0x1d7)](_0x2032e8);break;}if(_0x11f8ad[0x2])_0x3b4fcd[_0x12ceff(0x1d3)][_0x12ceff(0x1c2)]();_0x3b4fcd['trys']['pop']();continue;}_0x2032e8=_0x465ee0[_0x12ceff(0x1e0)](_0x13196a,_0x3b4fcd);}catch(_0xce49f){_0x2032e8=[0x6,_0xce49f],_0x1893d2=0x0;}finally{_0x185ed1=_0x11f8ad=0x0;}if(_0x2032e8[0x0]&0x5)throw _0x2032e8[0x1];return{'value':_0x2032e8[0x0]?_0x2032e8[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a34_0x791a82(0x1d2)]||function(_0x289dfe){return _0x289dfe&&_0x289dfe['__esModule']?_0x289dfe:{'default':_0x289dfe};};Object[a34_0x791a82(0x1bb)](exports,a34_0x791a82(0x1e3),{'value':!![]}),exports['convertNasConfigToNasMappings']=exports[a34_0x791a82(0x1dc)]=void 0x0;var path_1=__importDefault(require('path')),fs=__importStar(require(a34_0x791a82(0x1d0))),definition_1=require(a34_0x791a82(0x1e5));function resolveMountPoint(_0x382c66){var _0x25fdd4=a34_0x791a82;return{'serverPath':_0x382c66['serverAddr'],'mountSource':_0x382c66[_0x25fdd4(0x1c5)],'mountDir':_0x382c66[_0x25fdd4(0x1db)]};}exports[a34_0x791a82(0x1dc)]=resolveMountPoint;function convertNasConfigToNasMappings(_0x3febda,_0x1b9307,_0x2287bc){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2a1135,_0x4acaad,_0x29c96e,_0x5ef652;return __generator(this,function(_0x17413a){var _0x50fd6d=a34_0x83de;switch(_0x17413a[_0x50fd6d(0x1b8)]){case 0x0:if(!_0x1b9307)return[0x2,[]];_0x2a1135=definition_1[_0x50fd6d(0x1c6)](_0x1b9307);if(!_0x2a1135)return[0x3,0x4];_0x4acaad=path_1[_0x50fd6d(0x1bc)][_0x50fd6d(0x1d8)](_0x3febda,_0x50fd6d(0x1bd)),_0x29c96e=path_1[_0x50fd6d(0x1bc)][_0x50fd6d(0x1d8)](_0x4acaad,_0x2287bc);return[0x4,fs[_0x50fd6d(0x1d9)](_0x29c96e)];case 0x1:if(!!_0x17413a[_0x50fd6d(0x1ca)]())return[0x3,0x3];return[0x4,fs[_0x50fd6d(0x1de)](_0x29c96e)];case 0x2:_0x17413a[_0x50fd6d(0x1ca)](),_0x17413a[_0x50fd6d(0x1b8)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x29c96e,'remoteNasDir':_0x50fd6d(0x1dd)}]];case 0x4:if(typeof _0x1b9307===_0x50fd6d(0x1c9))throw new Error(_0x50fd6d(0x1da)+_0x1b9307+'\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string');_0x5ef652=_0x1b9307['mountPoints'];return[0x4,convertMountPointsToNasMappings(_0x3febda,_0x5ef652)];case 0x5:return[0x2,_0x17413a['sent']()];}});});}function a34_0x83de(_0x11e3fa,_0x3f23bb){return a34_0x83de=function(_0x1ffac9,_0x83deed){_0x1ffac9=_0x1ffac9-0x1b8;var _0x173a10=a34_0x1ffa[_0x1ffac9];return _0x173a10;},a34_0x83de(_0x11e3fa,_0x3f23bb);}exports['convertNasConfigToNasMappings']=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x2ea5a2,_0x2c39df){return __awaiter(this,void 0x0,void 0x0,function(){var _0x245c85,_0x422d09,_0x2917f0,_0x8498fa,_0x2c75ae;return __generator(this,function(_0x3eb627){var _0x1ef99b=a34_0x83de;switch(_0x3eb627[_0x1ef99b(0x1b8)]){case 0x0:if(!_0x2c39df)return[0x2,[]];_0x245c85=[],(_0x422d09=0x0,_0x2917f0=_0x2c39df),_0x3eb627[_0x1ef99b(0x1b8)]=0x1;case 0x1:if(!(_0x422d09<_0x2917f0[_0x1ef99b(0x1c7)]))return[0x3,0x4];_0x8498fa=_0x2917f0[_0x422d09];return[0x4,convertMountPointToNasMapping(_0x2ea5a2,_0x8498fa)];case 0x2:_0x2c75ae=_0x3eb627[_0x1ef99b(0x1ca)](),_0x245c85['push'](_0x2c75ae),_0x3eb627[_0x1ef99b(0x1b8)]=0x3;case 0x3:_0x422d09++;return[0x3,0x1];case 0x4:return[0x2,_0x245c85];}});});}function convertMountPointToNasMapping(_0x3ca7bf,_0x5a0a9c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x864738,_0x2975db,_0x5c2dfd,_0x395f1f,_0x4ee679,_0x8e4e55;return __generator(this,function(_0x34d2d7){var _0x40c3f4=a34_0x83de;switch(_0x34d2d7[_0x40c3f4(0x1b8)]){case 0x0:_0x864738=resolveMountPoint(_0x5a0a9c),_0x2975db=_0x864738['mountSource'],_0x5c2dfd=_0x864738['mountDir'],_0x395f1f=_0x864738[_0x40c3f4(0x1c3)],_0x4ee679=path_1[_0x40c3f4(0x1bc)][_0x40c3f4(0x1d8)](_0x3ca7bf,_0x395f1f);return[0x4,fs['pathExists'](_0x4ee679)];case 0x1:if(!!_0x34d2d7[_0x40c3f4(0x1ca)]())return[0x3,0x3];return[0x4,fs[_0x40c3f4(0x1de)](_0x4ee679)];case 0x2:_0x34d2d7[_0x40c3f4(0x1ca)](),_0x34d2d7[_0x40c3f4(0x1b8)]=0x3;case 0x3:_0x8e4e55=path_1[_0x40c3f4(0x1bc)][_0x40c3f4(0x1d8)](_0x4ee679,_0x2975db);return[0x4,fs[_0x40c3f4(0x1d9)](_0x8e4e55)];case 0x4:if(!!_0x34d2d7[_0x40c3f4(0x1ca)]())return[0x3,0x6];return[0x4,fs[_0x40c3f4(0x1de)](_0x8e4e55)];case 0x5:_0x34d2d7[_0x40c3f4(0x1ca)](),_0x34d2d7[_0x40c3f4(0x1b8)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x8e4e55,'remoteNasDir':_0x5c2dfd}];}});});}