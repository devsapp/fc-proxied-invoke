'use strict';var a34_0x2dd7=['serverPath','__esModule','label','23447JqeYxD','nasDir','ops','__awaiter','22473HlZuSP','next','value','50ZgeFeQ','pop','done','isAutoConfig','46TnnpXK','throw','fcDir','join','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','then','convertNasConfigToNasMappings','217391qdjXgZ','881942gsOYnB','342383lCtDXz','default','mountSource','__generator','iterator','mountDir','trys','__createBinding','Unsupported\x20nasConfig:\x20','mountPoints','defineProperty','__setModuleDefault','length','../definition','fs-extra','create','__importDefault','sent','ensureDir','23rVBJzb','serverAddr','push','function','resolveMountPoint','call','1BPhCOV','apply','2OgXMHc','return','auto-default','path','pathExists','204237EIfZCH','23255QBIALz','__importStar'];var a34_0x2a7eac=a34_0x2c1f;(function(_0x5c74a1,_0x382a92){var _0x2c5a39=a34_0x2c1f;while(!![]){try{var _0x12f00f=-parseInt(_0x2c5a39(0x112))*parseInt(_0x2c5a39(0x131))+-parseInt(_0x2c5a39(0x110))*parseInt(_0x2c5a39(0x117))+parseInt(_0x2c5a39(0x12f))+parseInt(_0x2c5a39(0x130))+parseInt(_0x2c5a39(0x118))*parseInt(_0x2c5a39(0x10a))+parseInt(_0x2c5a39(0x124))*-parseInt(_0x2c5a39(0x11d))+parseInt(_0x2c5a39(0x128))*parseInt(_0x2c5a39(0x121));if(_0x12f00f===_0x382a92)break;else _0x5c74a1['push'](_0x5c74a1['shift']());}catch(_0x3ae1d5){_0x5c74a1['push'](_0x5c74a1['shift']());}}}(a34_0x2dd7,0x9418b));function a34_0x2c1f(_0x18dd01,_0x37b1f7){return a34_0x2c1f=function(_0x2dd7ca,_0x2c1ff8){_0x2dd7ca=_0x2dd7ca-0xf9;var _0x9e5093=a34_0x2dd7[_0x2dd7ca];return _0x9e5093;},a34_0x2c1f(_0x18dd01,_0x37b1f7);}var __createBinding=this&&this[a34_0x2a7eac(0xfe)]||(Object[a34_0x2a7eac(0x106)]?function(_0x15a366,_0x4e4648,_0x2b79b7,_0x3ce08b){var _0x324688=a34_0x2a7eac;if(_0x3ce08b===undefined)_0x3ce08b=_0x2b79b7;Object[_0x324688(0x101)](_0x15a366,_0x3ce08b,{'enumerable':!![],'get':function(){return _0x4e4648[_0x2b79b7];}});}:function(_0x14ed4c,_0x38eea6,_0x13722d,_0x23b693){if(_0x23b693===undefined)_0x23b693=_0x13722d;_0x14ed4c[_0x23b693]=_0x38eea6[_0x13722d];}),__setModuleDefault=this&&this[a34_0x2a7eac(0x102)]||(Object[a34_0x2a7eac(0x106)]?function(_0x45041e,_0x3e5a5f){var _0x5ed9b6=a34_0x2a7eac;Object[_0x5ed9b6(0x101)](_0x45041e,'default',{'enumerable':!![],'value':_0x3e5a5f});}:function(_0x3e8e0d,_0x36553d){var _0x67e6f3=a34_0x2a7eac;_0x3e8e0d[_0x67e6f3(0x132)]=_0x36553d;}),__importStar=this&&this[a34_0x2a7eac(0x119)]||function(_0x31c7d7){var _0x1a728f=a34_0x2a7eac;if(_0x31c7d7&&_0x31c7d7[_0x1a728f(0x11b)])return _0x31c7d7;var _0x23dc0b={};if(_0x31c7d7!=null){for(var _0x26da7c in _0x31c7d7)if(_0x26da7c!==_0x1a728f(0x132)&&Object['hasOwnProperty'][_0x1a728f(0x10f)](_0x31c7d7,_0x26da7c))__createBinding(_0x23dc0b,_0x31c7d7,_0x26da7c);}return __setModuleDefault(_0x23dc0b,_0x31c7d7),_0x23dc0b;},__awaiter=this&&this[a34_0x2a7eac(0x120)]||function(_0x212e61,_0x194dac,_0x4d50e7,_0x36c71d){function _0x40bc74(_0x3a02b2){return _0x3a02b2 instanceof _0x4d50e7?_0x3a02b2:new _0x4d50e7(function(_0x408e9b){_0x408e9b(_0x3a02b2);});}return new(_0x4d50e7||(_0x4d50e7=Promise))(function(_0x21c9ef,_0x14ae92){var _0x2bc73a=a34_0x2c1f;function _0x33ee04(_0x5d9a27){var _0x1e862b=a34_0x2c1f;try{_0x3f1cfa(_0x36c71d[_0x1e862b(0x122)](_0x5d9a27));}catch(_0x16cc94){_0x14ae92(_0x16cc94);}}function _0x2ef4c6(_0x377389){var _0x4ca6b1=a34_0x2c1f;try{_0x3f1cfa(_0x36c71d[_0x4ca6b1(0x129)](_0x377389));}catch(_0x27fcc2){_0x14ae92(_0x27fcc2);}}function _0x3f1cfa(_0x3eb1c1){var _0x6004b1=a34_0x2c1f;_0x3eb1c1[_0x6004b1(0x126)]?_0x21c9ef(_0x3eb1c1[_0x6004b1(0x123)]):_0x40bc74(_0x3eb1c1[_0x6004b1(0x123)])[_0x6004b1(0x12d)](_0x33ee04,_0x2ef4c6);}_0x3f1cfa((_0x36c71d=_0x36c71d[_0x2bc73a(0x111)](_0x212e61,_0x194dac||[]))[_0x2bc73a(0x122)]());});},__generator=this&&this[a34_0x2a7eac(0xfa)]||function(_0x1665a9,_0x1d3a2c){var _0x167692=a34_0x2a7eac,_0x15407f={'label':0x0,'sent':function(){if(_0x44e83f[0x0]&0x1)throw _0x44e83f[0x1];return _0x44e83f[0x1];},'trys':[],'ops':[]},_0x31fde5,_0x430538,_0x44e83f,_0x5b8927;return _0x5b8927={'next':_0x3d876a(0x0),'throw':_0x3d876a(0x1),'return':_0x3d876a(0x2)},typeof Symbol===_0x167692(0x10d)&&(_0x5b8927[Symbol[_0x167692(0xfb)]]=function(){return this;}),_0x5b8927;function _0x3d876a(_0x344771){return function(_0x2b5f76){return _0xb3ee05([_0x344771,_0x2b5f76]);};}function _0xb3ee05(_0x5d6533){var _0x536fb7=_0x167692;if(_0x31fde5)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x15407f)try{if(_0x31fde5=0x1,_0x430538&&(_0x44e83f=_0x5d6533[0x0]&0x2?_0x430538[_0x536fb7(0x113)]:_0x5d6533[0x0]?_0x430538[_0x536fb7(0x129)]||((_0x44e83f=_0x430538[_0x536fb7(0x113)])&&_0x44e83f[_0x536fb7(0x10f)](_0x430538),0x0):_0x430538[_0x536fb7(0x122)])&&!(_0x44e83f=_0x44e83f['call'](_0x430538,_0x5d6533[0x1]))[_0x536fb7(0x126)])return _0x44e83f;if(_0x430538=0x0,_0x44e83f)_0x5d6533=[_0x5d6533[0x0]&0x2,_0x44e83f[_0x536fb7(0x123)]];switch(_0x5d6533[0x0]){case 0x0:case 0x1:_0x44e83f=_0x5d6533;break;case 0x4:_0x15407f[_0x536fb7(0x11c)]++;return{'value':_0x5d6533[0x1],'done':![]};case 0x5:_0x15407f['label']++,_0x430538=_0x5d6533[0x1],_0x5d6533=[0x0];continue;case 0x7:_0x5d6533=_0x15407f['ops']['pop'](),_0x15407f[_0x536fb7(0xfd)][_0x536fb7(0x125)]();continue;default:if(!(_0x44e83f=_0x15407f[_0x536fb7(0xfd)],_0x44e83f=_0x44e83f['length']>0x0&&_0x44e83f[_0x44e83f[_0x536fb7(0x103)]-0x1])&&(_0x5d6533[0x0]===0x6||_0x5d6533[0x0]===0x2)){_0x15407f=0x0;continue;}if(_0x5d6533[0x0]===0x3&&(!_0x44e83f||_0x5d6533[0x1]>_0x44e83f[0x0]&&_0x5d6533[0x1]<_0x44e83f[0x3])){_0x15407f['label']=_0x5d6533[0x1];break;}if(_0x5d6533[0x0]===0x6&&_0x15407f[_0x536fb7(0x11c)]<_0x44e83f[0x1]){_0x15407f[_0x536fb7(0x11c)]=_0x44e83f[0x1],_0x44e83f=_0x5d6533;break;}if(_0x44e83f&&_0x15407f[_0x536fb7(0x11c)]<_0x44e83f[0x2]){_0x15407f[_0x536fb7(0x11c)]=_0x44e83f[0x2],_0x15407f['ops'][_0x536fb7(0x10c)](_0x5d6533);break;}if(_0x44e83f[0x2])_0x15407f[_0x536fb7(0x11f)][_0x536fb7(0x125)]();_0x15407f[_0x536fb7(0xfd)][_0x536fb7(0x125)]();continue;}_0x5d6533=_0x1d3a2c[_0x536fb7(0x10f)](_0x1665a9,_0x15407f);}catch(_0x3a725f){_0x5d6533=[0x6,_0x3a725f],_0x430538=0x0;}finally{_0x31fde5=_0x44e83f=0x0;}if(_0x5d6533[0x0]&0x5)throw _0x5d6533[0x1];return{'value':_0x5d6533[0x0]?_0x5d6533[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a34_0x2a7eac(0x107)]||function(_0x1bf148){return _0x1bf148&&_0x1bf148['__esModule']?_0x1bf148:{'default':_0x1bf148};};Object[a34_0x2a7eac(0x101)](exports,a34_0x2a7eac(0x11b),{'value':!![]}),exports[a34_0x2a7eac(0x12e)]=exports[a34_0x2a7eac(0x10e)]=void 0x0;var path_1=__importDefault(require(a34_0x2a7eac(0x115))),fs=__importStar(require(a34_0x2a7eac(0x105))),definition_1=require(a34_0x2a7eac(0x104));function resolveMountPoint(_0x28d36e){var _0x2ce749=a34_0x2a7eac;return{'serverPath':_0x28d36e[_0x2ce749(0x10b)],'mountSource':_0x28d36e[_0x2ce749(0x11e)],'mountDir':_0x28d36e[_0x2ce749(0x12a)]};}exports['resolveMountPoint']=resolveMountPoint;function convertNasConfigToNasMappings(_0x539546,_0x2dad72,_0x41459f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x220401,_0x5dd3f5,_0x12e6d2,_0x2df500;return __generator(this,function(_0x2179eb){var _0x25915c=a34_0x2c1f;switch(_0x2179eb[_0x25915c(0x11c)]){case 0x0:if(!_0x2dad72)return[0x2,[]];_0x220401=definition_1[_0x25915c(0x127)](_0x2dad72);if(!_0x220401)return[0x3,0x4];_0x5dd3f5=path_1['default'][_0x25915c(0x12b)](_0x539546,_0x25915c(0x114)),_0x12e6d2=path_1[_0x25915c(0x132)]['join'](_0x5dd3f5,_0x41459f);return[0x4,fs[_0x25915c(0x116)](_0x12e6d2)];case 0x1:if(!!_0x2179eb['sent']())return[0x3,0x3];return[0x4,fs['ensureDir'](_0x12e6d2)];case 0x2:_0x2179eb[_0x25915c(0x108)](),_0x2179eb[_0x25915c(0x11c)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x12e6d2,'remoteNasDir':'/mnt/auto'}]];case 0x4:if(typeof _0x2dad72==='string')throw new Error(_0x25915c(0xff)+_0x2dad72+_0x25915c(0x12c));_0x2df500=_0x2dad72[_0x25915c(0x100)];return[0x4,convertMountPointsToNasMappings(_0x539546,_0x2df500)];case 0x5:return[0x2,_0x2179eb['sent']()];}});});}exports[a34_0x2a7eac(0x12e)]=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x17c258,_0x5ee5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2083bb,_0x309f64,_0x1f6108,_0x59d384,_0x51e6d9;return __generator(this,function(_0x79da80){var _0x1578fd=a34_0x2c1f;switch(_0x79da80[_0x1578fd(0x11c)]){case 0x0:if(!_0x5ee5)return[0x2,[]];_0x2083bb=[],(_0x309f64=0x0,_0x1f6108=_0x5ee5),_0x79da80[_0x1578fd(0x11c)]=0x1;case 0x1:if(!(_0x309f64<_0x1f6108[_0x1578fd(0x103)]))return[0x3,0x4];_0x59d384=_0x1f6108[_0x309f64];return[0x4,convertMountPointToNasMapping(_0x17c258,_0x59d384)];case 0x2:_0x51e6d9=_0x79da80[_0x1578fd(0x108)](),_0x2083bb['push'](_0x51e6d9),_0x79da80['label']=0x3;case 0x3:_0x309f64++;return[0x3,0x1];case 0x4:return[0x2,_0x2083bb];}});});}function convertMountPointToNasMapping(_0x1cea55,_0x293ae1){return __awaiter(this,void 0x0,void 0x0,function(){var _0x568c12,_0x2cb6f2,_0x311927,_0xbdf67f,_0x439c3d,_0x21fcf2;return __generator(this,function(_0x87c730){var _0x133a8d=a34_0x2c1f;switch(_0x87c730[_0x133a8d(0x11c)]){case 0x0:_0x568c12=resolveMountPoint(_0x293ae1),_0x2cb6f2=_0x568c12[_0x133a8d(0xf9)],_0x311927=_0x568c12[_0x133a8d(0xfc)],_0xbdf67f=_0x568c12[_0x133a8d(0x11a)],_0x439c3d=path_1[_0x133a8d(0x132)][_0x133a8d(0x12b)](_0x1cea55,_0xbdf67f);return[0x4,fs['pathExists'](_0x439c3d)];case 0x1:if(!!_0x87c730['sent']())return[0x3,0x3];return[0x4,fs[_0x133a8d(0x109)](_0x439c3d)];case 0x2:_0x87c730[_0x133a8d(0x108)](),_0x87c730[_0x133a8d(0x11c)]=0x3;case 0x3:_0x21fcf2=path_1[_0x133a8d(0x132)][_0x133a8d(0x12b)](_0x439c3d,_0x2cb6f2);return[0x4,fs['pathExists'](_0x21fcf2)];case 0x4:if(!!_0x87c730[_0x133a8d(0x108)]())return[0x3,0x6];return[0x4,fs['ensureDir'](_0x21fcf2)];case 0x5:_0x87c730[_0x133a8d(0x108)](),_0x87c730[_0x133a8d(0x11c)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x21fcf2,'remoteNasDir':_0x311927}];}});});}