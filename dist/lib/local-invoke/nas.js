'use strict';var a34_0x4897=['trys','39451fWGUDZ','16213ItcMEx','pop','1178631Lxgeoo','join','1TcYXbL','call','__setModuleDefault','function','auto-default','4NWTWRv','length','return','mountDir','done','709473OgmOpG','fs-extra','1240367LVEOYn','../definition','fcDir','Unsupported\x20nasConfig:\x20','__awaiter','serverAddr','__createBinding','push','sent','iterator','defineProperty','495529nFkHsN','label','then','1681961bNeNUn','apply','pathExists','mountPoints','hasOwnProperty','next','__esModule','nasDir','ensureDir','convertNasConfigToNasMappings','serverPath','Generator\x20is\x20already\x20executing.','value','default','isAutoConfig','ops','throw','__importDefault','resolveMountPoint'];var a34_0x148c06=a34_0x5603;(function(_0x471999,_0x2cd610){var _0x1f1535=a34_0x5603;while(!![]){try{var _0x88bf48=-parseInt(_0x1f1535(0x179))*-parseInt(_0x1f1535(0x185))+parseInt(_0x1f1535(0x175))+-parseInt(_0x1f1535(0x183))+-parseInt(_0x1f1535(0x177))+-parseInt(_0x1f1535(0x15d))+parseInt(_0x1f1535(0x17e))*parseInt(_0x1f1535(0x174))+parseInt(_0x1f1535(0x160));if(_0x88bf48===_0x2cd610)break;else _0x471999['push'](_0x471999['shift']());}catch(_0x205f80){_0x471999['push'](_0x471999['shift']());}}}(a34_0x4897,0xae008));var __createBinding=this&&this[a34_0x148c06(0x18b)]||(Object['create']?function(_0x1290c4,_0x1c710f,_0x46db5a,_0x28f3da){if(_0x28f3da===undefined)_0x28f3da=_0x46db5a;Object['defineProperty'](_0x1290c4,_0x28f3da,{'enumerable':!![],'get':function(){return _0x1c710f[_0x46db5a];}});}:function(_0x25ea13,_0x2eb84f,_0x44d085,_0x3fddaa){if(_0x3fddaa===undefined)_0x3fddaa=_0x44d085;_0x25ea13[_0x3fddaa]=_0x2eb84f[_0x44d085];}),__setModuleDefault=this&&this[a34_0x148c06(0x17b)]||(Object['create']?function(_0x1db288,_0x20ad6d){var _0x217637=a34_0x148c06;Object[_0x217637(0x15c)](_0x1db288,_0x217637(0x16d),{'enumerable':!![],'value':_0x20ad6d});}:function(_0x5547c5,_0x3cbafc){var _0x44138f=a34_0x148c06;_0x5547c5[_0x44138f(0x16d)]=_0x3cbafc;}),__importStar=this&&this['__importStar']||function(_0x3a4995){var _0x213094=a34_0x148c06;if(_0x3a4995&&_0x3a4995[_0x213094(0x166)])return _0x3a4995;var _0x3d73af={};if(_0x3a4995!=null){for(var _0x3b9786 in _0x3a4995)if(_0x3b9786!=='default'&&Object[_0x213094(0x164)][_0x213094(0x17a)](_0x3a4995,_0x3b9786))__createBinding(_0x3d73af,_0x3a4995,_0x3b9786);}return __setModuleDefault(_0x3d73af,_0x3a4995),_0x3d73af;},__awaiter=this&&this[a34_0x148c06(0x189)]||function(_0x1842ca,_0x4c3307,_0x22254a,_0x1e8337){function _0x570eee(_0x54673c){return _0x54673c instanceof _0x22254a?_0x54673c:new _0x22254a(function(_0x311b44){_0x311b44(_0x54673c);});}return new(_0x22254a||(_0x22254a=Promise))(function(_0x5c4352,_0x589259){var _0x5ed07e=a34_0x5603;function _0x31f830(_0x20cf92){var _0x37cdee=a34_0x5603;try{_0x23e034(_0x1e8337[_0x37cdee(0x165)](_0x20cf92));}catch(_0x2b67a9){_0x589259(_0x2b67a9);}}function _0xebff46(_0x3f2fa4){try{_0x23e034(_0x1e8337['throw'](_0x3f2fa4));}catch(_0x3f3b96){_0x589259(_0x3f3b96);}}function _0x23e034(_0x4dba34){var _0x7762ce=a34_0x5603;_0x4dba34[_0x7762ce(0x182)]?_0x5c4352(_0x4dba34['value']):_0x570eee(_0x4dba34[_0x7762ce(0x16c)])[_0x7762ce(0x15f)](_0x31f830,_0xebff46);}_0x23e034((_0x1e8337=_0x1e8337[_0x5ed07e(0x161)](_0x1842ca,_0x4c3307||[]))[_0x5ed07e(0x165)]());});},__generator=this&&this['__generator']||function(_0x18d658,_0x150ede){var _0x24aec3=a34_0x148c06,_0x2e03fd={'label':0x0,'sent':function(){if(_0x536b76[0x0]&0x1)throw _0x536b76[0x1];return _0x536b76[0x1];},'trys':[],'ops':[]},_0x4aaa4d,_0x299abd,_0x536b76,_0x4ae8e7;return _0x4ae8e7={'next':_0x3cfc2e(0x0),'throw':_0x3cfc2e(0x1),'return':_0x3cfc2e(0x2)},typeof Symbol===_0x24aec3(0x17c)&&(_0x4ae8e7[Symbol[_0x24aec3(0x15b)]]=function(){return this;}),_0x4ae8e7;function _0x3cfc2e(_0x5042a2){return function(_0x38e7b7){return _0x4cf2b5([_0x5042a2,_0x38e7b7]);};}function _0x4cf2b5(_0x12647e){var _0xa19b2=_0x24aec3;if(_0x4aaa4d)throw new TypeError(_0xa19b2(0x16b));while(_0x2e03fd)try{if(_0x4aaa4d=0x1,_0x299abd&&(_0x536b76=_0x12647e[0x0]&0x2?_0x299abd[_0xa19b2(0x180)]:_0x12647e[0x0]?_0x299abd[_0xa19b2(0x170)]||((_0x536b76=_0x299abd['return'])&&_0x536b76['call'](_0x299abd),0x0):_0x299abd[_0xa19b2(0x165)])&&!(_0x536b76=_0x536b76[_0xa19b2(0x17a)](_0x299abd,_0x12647e[0x1]))['done'])return _0x536b76;if(_0x299abd=0x0,_0x536b76)_0x12647e=[_0x12647e[0x0]&0x2,_0x536b76[_0xa19b2(0x16c)]];switch(_0x12647e[0x0]){case 0x0:case 0x1:_0x536b76=_0x12647e;break;case 0x4:_0x2e03fd[_0xa19b2(0x15e)]++;return{'value':_0x12647e[0x1],'done':![]};case 0x5:_0x2e03fd['label']++,_0x299abd=_0x12647e[0x1],_0x12647e=[0x0];continue;case 0x7:_0x12647e=_0x2e03fd[_0xa19b2(0x16f)]['pop'](),_0x2e03fd[_0xa19b2(0x173)][_0xa19b2(0x176)]();continue;default:if(!(_0x536b76=_0x2e03fd[_0xa19b2(0x173)],_0x536b76=_0x536b76['length']>0x0&&_0x536b76[_0x536b76[_0xa19b2(0x17f)]-0x1])&&(_0x12647e[0x0]===0x6||_0x12647e[0x0]===0x2)){_0x2e03fd=0x0;continue;}if(_0x12647e[0x0]===0x3&&(!_0x536b76||_0x12647e[0x1]>_0x536b76[0x0]&&_0x12647e[0x1]<_0x536b76[0x3])){_0x2e03fd[_0xa19b2(0x15e)]=_0x12647e[0x1];break;}if(_0x12647e[0x0]===0x6&&_0x2e03fd['label']<_0x536b76[0x1]){_0x2e03fd['label']=_0x536b76[0x1],_0x536b76=_0x12647e;break;}if(_0x536b76&&_0x2e03fd[_0xa19b2(0x15e)]<_0x536b76[0x2]){_0x2e03fd[_0xa19b2(0x15e)]=_0x536b76[0x2],_0x2e03fd[_0xa19b2(0x16f)][_0xa19b2(0x18c)](_0x12647e);break;}if(_0x536b76[0x2])_0x2e03fd['ops']['pop']();_0x2e03fd[_0xa19b2(0x173)]['pop']();continue;}_0x12647e=_0x150ede[_0xa19b2(0x17a)](_0x18d658,_0x2e03fd);}catch(_0x18b576){_0x12647e=[0x6,_0x18b576],_0x299abd=0x0;}finally{_0x4aaa4d=_0x536b76=0x0;}if(_0x12647e[0x0]&0x5)throw _0x12647e[0x1];return{'value':_0x12647e[0x0]?_0x12647e[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a34_0x148c06(0x171)]||function(_0x26bf56){var _0x4007b8=a34_0x148c06;return _0x26bf56&&_0x26bf56[_0x4007b8(0x166)]?_0x26bf56:{'default':_0x26bf56};};Object[a34_0x148c06(0x15c)](exports,'__esModule',{'value':!![]}),exports[a34_0x148c06(0x169)]=exports[a34_0x148c06(0x172)]=void 0x0;var path_1=__importDefault(require('path')),fs=__importStar(require(a34_0x148c06(0x184))),definition_1=require(a34_0x148c06(0x186));function resolveMountPoint(_0x17a090){var _0x2df24e=a34_0x148c06;return{'serverPath':_0x17a090[_0x2df24e(0x18a)],'mountSource':_0x17a090[_0x2df24e(0x167)],'mountDir':_0x17a090[_0x2df24e(0x187)]};}function a34_0x5603(_0x12b1a7,_0x3e0a7d){return a34_0x5603=function(_0x48971b,_0x5603ce){_0x48971b=_0x48971b-0x15a;var _0x49a661=a34_0x4897[_0x48971b];return _0x49a661;},a34_0x5603(_0x12b1a7,_0x3e0a7d);}exports[a34_0x148c06(0x172)]=resolveMountPoint;function convertNasConfigToNasMappings(_0x142710,_0x5ace0e,_0x21c67a){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4ce13a,_0x3c2aa6,_0x32fe30,_0x44532b;return __generator(this,function(_0xc2535b){var _0x1f54c2=a34_0x5603;switch(_0xc2535b[_0x1f54c2(0x15e)]){case 0x0:if(!_0x5ace0e)return[0x2,[]];_0x4ce13a=definition_1[_0x1f54c2(0x16e)](_0x5ace0e);if(!_0x4ce13a)return[0x3,0x4];_0x3c2aa6=path_1[_0x1f54c2(0x16d)]['join'](_0x142710,_0x1f54c2(0x17d)),_0x32fe30=path_1[_0x1f54c2(0x16d)][_0x1f54c2(0x178)](_0x3c2aa6,_0x21c67a);return[0x4,fs['pathExists'](_0x32fe30)];case 0x1:if(!!_0xc2535b[_0x1f54c2(0x15a)]())return[0x3,0x3];return[0x4,fs[_0x1f54c2(0x168)](_0x32fe30)];case 0x2:_0xc2535b['sent'](),_0xc2535b[_0x1f54c2(0x15e)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x32fe30,'remoteNasDir':'/mnt/auto'}]];case 0x4:if(typeof _0x5ace0e==='string')throw new Error(_0x1f54c2(0x188)+_0x5ace0e+'\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string');_0x44532b=_0x5ace0e[_0x1f54c2(0x163)];return[0x4,convertMountPointsToNasMappings(_0x142710,_0x44532b)];case 0x5:return[0x2,_0xc2535b[_0x1f54c2(0x15a)]()];}});});}exports[a34_0x148c06(0x169)]=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x43d19a,_0x8b78fd){return __awaiter(this,void 0x0,void 0x0,function(){var _0x259e5c,_0x5bdc5c,_0x3bf744,_0x126be3,_0x220d19;return __generator(this,function(_0x9f5838){var _0x2e27ee=a34_0x5603;switch(_0x9f5838[_0x2e27ee(0x15e)]){case 0x0:if(!_0x8b78fd)return[0x2,[]];_0x259e5c=[],(_0x5bdc5c=0x0,_0x3bf744=_0x8b78fd),_0x9f5838[_0x2e27ee(0x15e)]=0x1;case 0x1:if(!(_0x5bdc5c<_0x3bf744[_0x2e27ee(0x17f)]))return[0x3,0x4];_0x126be3=_0x3bf744[_0x5bdc5c];return[0x4,convertMountPointToNasMapping(_0x43d19a,_0x126be3)];case 0x2:_0x220d19=_0x9f5838[_0x2e27ee(0x15a)](),_0x259e5c[_0x2e27ee(0x18c)](_0x220d19),_0x9f5838['label']=0x3;case 0x3:_0x5bdc5c++;return[0x3,0x1];case 0x4:return[0x2,_0x259e5c];}});});}function convertMountPointToNasMapping(_0x5091ed,_0x17a685){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5e4487,_0x606dcd,_0x4952ec,_0x451f09,_0x16849c,_0x3cd277;return __generator(this,function(_0x2caab3){var _0x57b17d=a34_0x5603;switch(_0x2caab3[_0x57b17d(0x15e)]){case 0x0:_0x5e4487=resolveMountPoint(_0x17a685),_0x606dcd=_0x5e4487['mountSource'],_0x4952ec=_0x5e4487[_0x57b17d(0x181)],_0x451f09=_0x5e4487[_0x57b17d(0x16a)],_0x16849c=path_1[_0x57b17d(0x16d)][_0x57b17d(0x178)](_0x5091ed,_0x451f09);return[0x4,fs['pathExists'](_0x16849c)];case 0x1:if(!!_0x2caab3['sent']())return[0x3,0x3];return[0x4,fs[_0x57b17d(0x168)](_0x16849c)];case 0x2:_0x2caab3[_0x57b17d(0x15a)](),_0x2caab3[_0x57b17d(0x15e)]=0x3;case 0x3:_0x3cd277=path_1[_0x57b17d(0x16d)]['join'](_0x16849c,_0x606dcd);return[0x4,fs[_0x57b17d(0x162)](_0x3cd277)];case 0x4:if(!!_0x2caab3[_0x57b17d(0x15a)]())return[0x3,0x6];return[0x4,fs['ensureDir'](_0x3cd277)];case 0x5:_0x2caab3[_0x57b17d(0x15a)](),_0x2caab3[_0x57b17d(0x15e)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x3cd277,'remoteNasDir':_0x4952ec}];}});});}