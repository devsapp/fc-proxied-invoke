'use strict';var a34_0x1391=['ops','__setModuleDefault','done','label','1154449GnILvZ','throw','return','__importDefault','apply','next','pathExists','convertNasConfigToNasMappings','join','trys','/mnt/auto','call','185UcjpPZ','string','25mnmNCs','nasDir','908QKfYAt','mountDir','function','__esModule','2726vwSVYi','create','ensureDir','358lRfGQQ','sent','default','Unsupported\x20nasConfig:\x20','Generator\x20is\x20already\x20executing.','1dUeNPh','__generator','auto-default','547977sXknHP','value','73PHrvJF','fs-extra','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','isAutoConfig','8563MBxAhR','pop','32161hnbwFd','push','defineProperty','length','serverPath','resolveMountPoint','__createBinding','5393MheHmQ','../definition','hasOwnProperty'];var a34_0x2a3cc7=a34_0x306d;(function(_0x59219a,_0x5715c5){var _0x2385de=a34_0x306d;while(!![]){try{var _0x106a88=parseInt(_0x2385de(0x99))*parseInt(_0x2385de(0x92))+-parseInt(_0x2385de(0x8e))*parseInt(_0x2385de(0x96))+parseInt(_0x2385de(0xa9))+parseInt(_0x2385de(0x90))*parseInt(_0x2385de(0xa7))+-parseInt(_0x2385de(0xa3))*parseInt(_0x2385de(0xb0))+-parseInt(_0x2385de(0xa1))+parseInt(_0x2385de(0x9e))*parseInt(_0x2385de(0x82));if(_0x106a88===_0x5715c5)break;else _0x59219a['push'](_0x59219a['shift']());}catch(_0x21cf02){_0x59219a['push'](_0x59219a['shift']());}}}(a34_0x1391,0x444dd));var __createBinding=this&&this[a34_0x2a3cc7(0xaf)]||(Object['create']?function(_0x3b34b7,_0x15241b,_0x10c115,_0x365f8f){if(_0x365f8f===undefined)_0x365f8f=_0x10c115;Object['defineProperty'](_0x3b34b7,_0x365f8f,{'enumerable':!![],'get':function(){return _0x15241b[_0x10c115];}});}:function(_0x54f7c4,_0x2e6c93,_0xe403ea,_0x5c881a){if(_0x5c881a===undefined)_0x5c881a=_0xe403ea;_0x54f7c4[_0x5c881a]=_0x2e6c93[_0xe403ea];}),__setModuleDefault=this&&this[a34_0x2a3cc7(0xb4)]||(Object[a34_0x2a3cc7(0x97)]?function(_0x24478f,_0x55c27){Object['defineProperty'](_0x24478f,'default',{'enumerable':!![],'value':_0x55c27});}:function(_0xebe7a3,_0x4b0a11){_0xebe7a3['default']=_0x4b0a11;}),__importStar=this&&this['__importStar']||function(_0x3b1992){var _0x3de233=a34_0x2a3cc7;if(_0x3b1992&&_0x3b1992['__esModule'])return _0x3b1992;var _0x523c2b={};if(_0x3b1992!=null){for(var _0x23a212 in _0x3b1992)if(_0x23a212!==_0x3de233(0x9b)&&Object[_0x3de233(0xb2)][_0x3de233(0x8d)](_0x3b1992,_0x23a212))__createBinding(_0x523c2b,_0x3b1992,_0x23a212);}return __setModuleDefault(_0x523c2b,_0x3b1992),_0x523c2b;},__awaiter=this&&this['__awaiter']||function(_0x128783,_0x17f2c9,_0x5ee54e,_0x447a34){function _0x42728e(_0x4faa59){return _0x4faa59 instanceof _0x5ee54e?_0x4faa59:new _0x5ee54e(function(_0x1372c6){_0x1372c6(_0x4faa59);});}return new(_0x5ee54e||(_0x5ee54e=Promise))(function(_0x1dc149,_0x45bb42){var _0x5632af=a34_0x306d;function _0x55adda(_0x707a5a){var _0xabb314=a34_0x306d;try{_0x186380(_0x447a34[_0xabb314(0x87)](_0x707a5a));}catch(_0x555a79){_0x45bb42(_0x555a79);}}function _0x4f6a1f(_0x343557){var _0x1df8b4=a34_0x306d;try{_0x186380(_0x447a34[_0x1df8b4(0x83)](_0x343557));}catch(_0x538c25){_0x45bb42(_0x538c25);}}function _0x186380(_0x1b071f){var _0x4418a7=a34_0x306d;_0x1b071f[_0x4418a7(0xb5)]?_0x1dc149(_0x1b071f[_0x4418a7(0xa2)]):_0x42728e(_0x1b071f['value'])['then'](_0x55adda,_0x4f6a1f);}_0x186380((_0x447a34=_0x447a34[_0x5632af(0x86)](_0x128783,_0x17f2c9||[]))['next']());});},__generator=this&&this[a34_0x2a3cc7(0x9f)]||function(_0x3c54c3,_0x2354c5){var _0x217b0f=a34_0x2a3cc7,_0x340fa3={'label':0x0,'sent':function(){if(_0x2bfde1[0x0]&0x1)throw _0x2bfde1[0x1];return _0x2bfde1[0x1];},'trys':[],'ops':[]},_0x36f9aa,_0x5cf828,_0x2bfde1,_0x3c58e4;return _0x3c58e4={'next':_0x53d115(0x0),'throw':_0x53d115(0x1),'return':_0x53d115(0x2)},typeof Symbol===_0x217b0f(0x94)&&(_0x3c58e4[Symbol['iterator']]=function(){return this;}),_0x3c58e4;function _0x53d115(_0x282cdb){return function(_0x24982f){return _0x3388d6([_0x282cdb,_0x24982f]);};}function _0x3388d6(_0x4b82d3){var _0x4c0ffa=_0x217b0f;if(_0x36f9aa)throw new TypeError(_0x4c0ffa(0x9d));while(_0x340fa3)try{if(_0x36f9aa=0x1,_0x5cf828&&(_0x2bfde1=_0x4b82d3[0x0]&0x2?_0x5cf828[_0x4c0ffa(0x84)]:_0x4b82d3[0x0]?_0x5cf828['throw']||((_0x2bfde1=_0x5cf828[_0x4c0ffa(0x84)])&&_0x2bfde1[_0x4c0ffa(0x8d)](_0x5cf828),0x0):_0x5cf828['next'])&&!(_0x2bfde1=_0x2bfde1[_0x4c0ffa(0x8d)](_0x5cf828,_0x4b82d3[0x1]))[_0x4c0ffa(0xb5)])return _0x2bfde1;if(_0x5cf828=0x0,_0x2bfde1)_0x4b82d3=[_0x4b82d3[0x0]&0x2,_0x2bfde1[_0x4c0ffa(0xa2)]];switch(_0x4b82d3[0x0]){case 0x0:case 0x1:_0x2bfde1=_0x4b82d3;break;case 0x4:_0x340fa3[_0x4c0ffa(0x81)]++;return{'value':_0x4b82d3[0x1],'done':![]};case 0x5:_0x340fa3['label']++,_0x5cf828=_0x4b82d3[0x1],_0x4b82d3=[0x0];continue;case 0x7:_0x4b82d3=_0x340fa3['ops'][_0x4c0ffa(0xa8)](),_0x340fa3[_0x4c0ffa(0x8b)][_0x4c0ffa(0xa8)]();continue;default:if(!(_0x2bfde1=_0x340fa3[_0x4c0ffa(0x8b)],_0x2bfde1=_0x2bfde1[_0x4c0ffa(0xac)]>0x0&&_0x2bfde1[_0x2bfde1[_0x4c0ffa(0xac)]-0x1])&&(_0x4b82d3[0x0]===0x6||_0x4b82d3[0x0]===0x2)){_0x340fa3=0x0;continue;}if(_0x4b82d3[0x0]===0x3&&(!_0x2bfde1||_0x4b82d3[0x1]>_0x2bfde1[0x0]&&_0x4b82d3[0x1]<_0x2bfde1[0x3])){_0x340fa3[_0x4c0ffa(0x81)]=_0x4b82d3[0x1];break;}if(_0x4b82d3[0x0]===0x6&&_0x340fa3['label']<_0x2bfde1[0x1]){_0x340fa3[_0x4c0ffa(0x81)]=_0x2bfde1[0x1],_0x2bfde1=_0x4b82d3;break;}if(_0x2bfde1&&_0x340fa3['label']<_0x2bfde1[0x2]){_0x340fa3[_0x4c0ffa(0x81)]=_0x2bfde1[0x2],_0x340fa3[_0x4c0ffa(0xb3)][_0x4c0ffa(0xaa)](_0x4b82d3);break;}if(_0x2bfde1[0x2])_0x340fa3[_0x4c0ffa(0xb3)]['pop']();_0x340fa3[_0x4c0ffa(0x8b)][_0x4c0ffa(0xa8)]();continue;}_0x4b82d3=_0x2354c5[_0x4c0ffa(0x8d)](_0x3c54c3,_0x340fa3);}catch(_0x5d1fff){_0x4b82d3=[0x6,_0x5d1fff],_0x5cf828=0x0;}finally{_0x36f9aa=_0x2bfde1=0x0;}if(_0x4b82d3[0x0]&0x5)throw _0x4b82d3[0x1];return{'value':_0x4b82d3[0x0]?_0x4b82d3[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a34_0x2a3cc7(0x85)]||function(_0x6a3158){var _0x2e5d1d=a34_0x2a3cc7;return _0x6a3158&&_0x6a3158[_0x2e5d1d(0x95)]?_0x6a3158:{'default':_0x6a3158};};Object[a34_0x2a3cc7(0xab)](exports,a34_0x2a3cc7(0x95),{'value':!![]}),exports[a34_0x2a3cc7(0x89)]=exports[a34_0x2a3cc7(0xae)]=void 0x0;var path_1=__importDefault(require('path')),fs=__importStar(require(a34_0x2a3cc7(0xa4))),definition_1=require(a34_0x2a3cc7(0xb1));function resolveMountPoint(_0x30a287){var _0x5e708c=a34_0x2a3cc7;return{'serverPath':_0x30a287['serverAddr'],'mountSource':_0x30a287[_0x5e708c(0x91)],'mountDir':_0x30a287['fcDir']};}function a34_0x306d(_0x466077,_0x1685b3){return a34_0x306d=function(_0x13913c,_0x306dc4){_0x13913c=_0x13913c-0x81;var _0x75508f=a34_0x1391[_0x13913c];return _0x75508f;},a34_0x306d(_0x466077,_0x1685b3);}exports[a34_0x2a3cc7(0xae)]=resolveMountPoint;function convertNasConfigToNasMappings(_0xa2a17,_0x330c40,_0x12633b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x14b143,_0x80e08b,_0x54b13a,_0x2bb4cd;return __generator(this,function(_0x394028){var _0x420b2b=a34_0x306d;switch(_0x394028[_0x420b2b(0x81)]){case 0x0:if(!_0x330c40)return[0x2,[]];_0x14b143=definition_1[_0x420b2b(0xa6)](_0x330c40);if(!_0x14b143)return[0x3,0x4];_0x80e08b=path_1[_0x420b2b(0x9b)][_0x420b2b(0x8a)](_0xa2a17,_0x420b2b(0xa0)),_0x54b13a=path_1[_0x420b2b(0x9b)][_0x420b2b(0x8a)](_0x80e08b,_0x12633b);return[0x4,fs[_0x420b2b(0x88)](_0x54b13a)];case 0x1:if(!!_0x394028[_0x420b2b(0x9a)]())return[0x3,0x3];return[0x4,fs['ensureDir'](_0x54b13a)];case 0x2:_0x394028[_0x420b2b(0x9a)](),_0x394028['label']=0x3;case 0x3:return[0x2,[{'localNasDir':_0x54b13a,'remoteNasDir':_0x420b2b(0x8c)}]];case 0x4:if(typeof _0x330c40===_0x420b2b(0x8f))throw new Error(_0x420b2b(0x9c)+_0x330c40+_0x420b2b(0xa5));_0x2bb4cd=_0x330c40['mountPoints'];return[0x4,convertMountPointsToNasMappings(_0xa2a17,_0x2bb4cd)];case 0x5:return[0x2,_0x394028[_0x420b2b(0x9a)]()];}});});}exports[a34_0x2a3cc7(0x89)]=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x49d86b,_0x303e52){return __awaiter(this,void 0x0,void 0x0,function(){var _0x26ace9,_0x42a36f,_0x4e08a8,_0x190b12,_0x3768b3;return __generator(this,function(_0x2e798a){var _0x58c912=a34_0x306d;switch(_0x2e798a['label']){case 0x0:if(!_0x303e52)return[0x2,[]];_0x26ace9=[],(_0x42a36f=0x0,_0x4e08a8=_0x303e52),_0x2e798a[_0x58c912(0x81)]=0x1;case 0x1:if(!(_0x42a36f<_0x4e08a8['length']))return[0x3,0x4];_0x190b12=_0x4e08a8[_0x42a36f];return[0x4,convertMountPointToNasMapping(_0x49d86b,_0x190b12)];case 0x2:_0x3768b3=_0x2e798a[_0x58c912(0x9a)](),_0x26ace9[_0x58c912(0xaa)](_0x3768b3),_0x2e798a[_0x58c912(0x81)]=0x3;case 0x3:_0x42a36f++;return[0x3,0x1];case 0x4:return[0x2,_0x26ace9];}});});}function convertMountPointToNasMapping(_0x3e9038,_0x349950){return __awaiter(this,void 0x0,void 0x0,function(){var _0x31151e,_0x1e6e7d,_0x15fd66,_0x1c6d0e,_0x4e364c,_0x393f2a;return __generator(this,function(_0x26dc06){var _0x4d4c8f=a34_0x306d;switch(_0x26dc06['label']){case 0x0:_0x31151e=resolveMountPoint(_0x349950),_0x1e6e7d=_0x31151e['mountSource'],_0x15fd66=_0x31151e[_0x4d4c8f(0x93)],_0x1c6d0e=_0x31151e[_0x4d4c8f(0xad)],_0x4e364c=path_1[_0x4d4c8f(0x9b)]['join'](_0x3e9038,_0x1c6d0e);return[0x4,fs[_0x4d4c8f(0x88)](_0x4e364c)];case 0x1:if(!!_0x26dc06[_0x4d4c8f(0x9a)]())return[0x3,0x3];return[0x4,fs[_0x4d4c8f(0x98)](_0x4e364c)];case 0x2:_0x26dc06['sent'](),_0x26dc06[_0x4d4c8f(0x81)]=0x3;case 0x3:_0x393f2a=path_1[_0x4d4c8f(0x9b)][_0x4d4c8f(0x8a)](_0x4e364c,_0x1e6e7d);return[0x4,fs[_0x4d4c8f(0x88)](_0x393f2a)];case 0x4:if(!!_0x26dc06[_0x4d4c8f(0x9a)]())return[0x3,0x6];return[0x4,fs[_0x4d4c8f(0x98)](_0x393f2a)];case 0x5:_0x26dc06['sent'](),_0x26dc06[_0x4d4c8f(0x81)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x393f2a,'remoteNasDir':_0x15fd66}];}});});}