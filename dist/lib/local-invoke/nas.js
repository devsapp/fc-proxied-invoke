'use strict';var a33_0x22f1=['__awaiter','sent','/mnt/auto','serverPath','trys','join','245228OSZIaL','done','1sZnQfi','1XzKNsP','__generator','function','default','\x20which\x20should\x20be\x20\x27auto\x27\x20or\x20\x27Auto\x27\x20when\x20its\x20type\x20is\x20string','apply','1113976WxMIuj','Unsupported\x20nasConfig:\x20','length','pathExists','mountDir','push','next','auto-default','647566aXCRxy','__importStar','create','ops','620461aMEpUd','__setModuleDefault','call','mountPoints','__esModule','739JmhSbM','../definition','ensureDir','then','11HWTnYJ','1240149nhGaaX','nasDir','value','Generator\x20is\x20already\x20executing.','pop','mountSource','throw','return','955366YmNAwV','serverAddr','label','defineProperty','fs-extra'];var a33_0x46a12a=a33_0x522b;(function(_0x4d8a3c,_0x2842f4){var _0x2d7c23=a33_0x522b;while(!![]){try{var _0x2bc5d8=parseInt(_0x2d7c23(0x1ee))+parseInt(_0x2d7c23(0x1c6))+parseInt(_0x2d7c23(0x1ce))+-parseInt(_0x2d7c23(0x1ea))+-parseInt(_0x2d7c23(0x1e2))*parseInt(_0x2d7c23(0x1dc))+parseInt(_0x2d7c23(0x1d9))*-parseInt(_0x2d7c23(0x1db))+parseInt(_0x2d7c23(0x1c5))*parseInt(_0x2d7c23(0x1f3));if(_0x2bc5d8===_0x2842f4)break;else _0x4d8a3c['push'](_0x4d8a3c['shift']());}catch(_0x1d8d7f){_0x4d8a3c['push'](_0x4d8a3c['shift']());}}}(a33_0x22f1,0xc78b7));var __createBinding=this&&this['__createBinding']||(Object[a33_0x46a12a(0x1ec)]?function(_0x4d0f7c,_0x44f98c,_0x1fa6fe,_0xd972e0){if(_0xd972e0===undefined)_0xd972e0=_0x1fa6fe;Object['defineProperty'](_0x4d0f7c,_0xd972e0,{'enumerable':!![],'get':function(){return _0x44f98c[_0x1fa6fe];}});}:function(_0x28a674,_0x393ee7,_0x434f0c,_0x1d5a3a){if(_0x1d5a3a===undefined)_0x1d5a3a=_0x434f0c;_0x28a674[_0x1d5a3a]=_0x393ee7[_0x434f0c];}),__setModuleDefault=this&&this[a33_0x46a12a(0x1ef)]||(Object[a33_0x46a12a(0x1ec)]?function(_0x5cf2c3,_0xab0480){var _0xadb968=a33_0x46a12a;Object[_0xadb968(0x1d1)](_0x5cf2c3,_0xadb968(0x1df),{'enumerable':!![],'value':_0xab0480});}:function(_0x2d3180,_0x13a679){_0x2d3180['default']=_0x13a679;}),__importStar=this&&this[a33_0x46a12a(0x1eb)]||function(_0x166ca2){var _0x702470=a33_0x46a12a;if(_0x166ca2&&_0x166ca2[_0x702470(0x1f2)])return _0x166ca2;var _0x4539d5={};if(_0x166ca2!=null){for(var _0x31ff39 in _0x166ca2)if(_0x31ff39!==_0x702470(0x1df)&&Object['hasOwnProperty'][_0x702470(0x1f0)](_0x166ca2,_0x31ff39))__createBinding(_0x4539d5,_0x166ca2,_0x31ff39);}return __setModuleDefault(_0x4539d5,_0x166ca2),_0x4539d5;},__awaiter=this&&this[a33_0x46a12a(0x1d3)]||function(_0xdd63fa,_0x37aed7,_0x1f228a,_0x2091fa){function _0x182da7(_0x323963){return _0x323963 instanceof _0x1f228a?_0x323963:new _0x1f228a(function(_0x5a59b9){_0x5a59b9(_0x323963);});}return new(_0x1f228a||(_0x1f228a=Promise))(function(_0x590675,_0x23f32f){var _0x403169=a33_0x522b;function _0xcb64ae(_0x6be373){var _0x57ebaa=a33_0x522b;try{_0x3b8d84(_0x2091fa[_0x57ebaa(0x1e8)](_0x6be373));}catch(_0x2c98b6){_0x23f32f(_0x2c98b6);}}function _0x90f7ef(_0x5519e6){var _0x208255=a33_0x522b;try{_0x3b8d84(_0x2091fa[_0x208255(0x1cc)](_0x5519e6));}catch(_0x55bae1){_0x23f32f(_0x55bae1);}}function _0x3b8d84(_0x20abe4){var _0x3f1ccb=a33_0x522b;_0x20abe4['done']?_0x590675(_0x20abe4[_0x3f1ccb(0x1c8)]):_0x182da7(_0x20abe4['value'])[_0x3f1ccb(0x1c4)](_0xcb64ae,_0x90f7ef);}_0x3b8d84((_0x2091fa=_0x2091fa[_0x403169(0x1e1)](_0xdd63fa,_0x37aed7||[]))[_0x403169(0x1e8)]());});},__generator=this&&this[a33_0x46a12a(0x1dd)]||function(_0x165f61,_0x140db7){var _0x2ac9aa=a33_0x46a12a,_0x1ce018={'label':0x0,'sent':function(){if(_0x3a1c77[0x0]&0x1)throw _0x3a1c77[0x1];return _0x3a1c77[0x1];},'trys':[],'ops':[]},_0x5704ad,_0x540e47,_0x3a1c77,_0x257107;return _0x257107={'next':_0x20e137(0x0),'throw':_0x20e137(0x1),'return':_0x20e137(0x2)},typeof Symbol===_0x2ac9aa(0x1de)&&(_0x257107[Symbol['iterator']]=function(){return this;}),_0x257107;function _0x20e137(_0x1abc51){return function(_0x371190){return _0x3cc0da([_0x1abc51,_0x371190]);};}function _0x3cc0da(_0x1c7c1e){var _0x47f553=_0x2ac9aa;if(_0x5704ad)throw new TypeError(_0x47f553(0x1c9));while(_0x1ce018)try{if(_0x5704ad=0x1,_0x540e47&&(_0x3a1c77=_0x1c7c1e[0x0]&0x2?_0x540e47[_0x47f553(0x1cd)]:_0x1c7c1e[0x0]?_0x540e47['throw']||((_0x3a1c77=_0x540e47[_0x47f553(0x1cd)])&&_0x3a1c77[_0x47f553(0x1f0)](_0x540e47),0x0):_0x540e47[_0x47f553(0x1e8)])&&!(_0x3a1c77=_0x3a1c77[_0x47f553(0x1f0)](_0x540e47,_0x1c7c1e[0x1]))[_0x47f553(0x1da)])return _0x3a1c77;if(_0x540e47=0x0,_0x3a1c77)_0x1c7c1e=[_0x1c7c1e[0x0]&0x2,_0x3a1c77['value']];switch(_0x1c7c1e[0x0]){case 0x0:case 0x1:_0x3a1c77=_0x1c7c1e;break;case 0x4:_0x1ce018[_0x47f553(0x1d0)]++;return{'value':_0x1c7c1e[0x1],'done':![]};case 0x5:_0x1ce018[_0x47f553(0x1d0)]++,_0x540e47=_0x1c7c1e[0x1],_0x1c7c1e=[0x0];continue;case 0x7:_0x1c7c1e=_0x1ce018[_0x47f553(0x1ed)][_0x47f553(0x1ca)](),_0x1ce018[_0x47f553(0x1d7)][_0x47f553(0x1ca)]();continue;default:if(!(_0x3a1c77=_0x1ce018[_0x47f553(0x1d7)],_0x3a1c77=_0x3a1c77[_0x47f553(0x1e4)]>0x0&&_0x3a1c77[_0x3a1c77['length']-0x1])&&(_0x1c7c1e[0x0]===0x6||_0x1c7c1e[0x0]===0x2)){_0x1ce018=0x0;continue;}if(_0x1c7c1e[0x0]===0x3&&(!_0x3a1c77||_0x1c7c1e[0x1]>_0x3a1c77[0x0]&&_0x1c7c1e[0x1]<_0x3a1c77[0x3])){_0x1ce018[_0x47f553(0x1d0)]=_0x1c7c1e[0x1];break;}if(_0x1c7c1e[0x0]===0x6&&_0x1ce018[_0x47f553(0x1d0)]<_0x3a1c77[0x1]){_0x1ce018[_0x47f553(0x1d0)]=_0x3a1c77[0x1],_0x3a1c77=_0x1c7c1e;break;}if(_0x3a1c77&&_0x1ce018[_0x47f553(0x1d0)]<_0x3a1c77[0x2]){_0x1ce018[_0x47f553(0x1d0)]=_0x3a1c77[0x2],_0x1ce018[_0x47f553(0x1ed)][_0x47f553(0x1e7)](_0x1c7c1e);break;}if(_0x3a1c77[0x2])_0x1ce018['ops'][_0x47f553(0x1ca)]();_0x1ce018[_0x47f553(0x1d7)][_0x47f553(0x1ca)]();continue;}_0x1c7c1e=_0x140db7['call'](_0x165f61,_0x1ce018);}catch(_0x4bbea8){_0x1c7c1e=[0x6,_0x4bbea8],_0x540e47=0x0;}finally{_0x5704ad=_0x3a1c77=0x0;}if(_0x1c7c1e[0x0]&0x5)throw _0x1c7c1e[0x1];return{'value':_0x1c7c1e[0x0]?_0x1c7c1e[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0x196885){var _0x553a61=a33_0x46a12a;return _0x196885&&_0x196885[_0x553a61(0x1f2)]?_0x196885:{'default':_0x196885};};Object[a33_0x46a12a(0x1d1)](exports,'__esModule',{'value':!![]}),exports['convertNasConfigToNasMappings']=exports['resolveMountPoint']=void 0x0;var path_1=__importDefault(require('path')),fs=__importStar(require(a33_0x46a12a(0x1d2))),definition_1=require(a33_0x46a12a(0x1f4));function resolveMountPoint(_0x17ec87){var _0x36f177=a33_0x46a12a;return{'serverPath':_0x17ec87[_0x36f177(0x1cf)],'mountSource':_0x17ec87[_0x36f177(0x1c7)],'mountDir':_0x17ec87['fcDir']};}exports['resolveMountPoint']=resolveMountPoint;function a33_0x522b(_0x2abc7b,_0x2fbd0b){return a33_0x522b=function(_0x22f1bb,_0x522bc1){_0x22f1bb=_0x22f1bb-0x1c4;var _0x52fa91=a33_0x22f1[_0x22f1bb];return _0x52fa91;},a33_0x522b(_0x2abc7b,_0x2fbd0b);}function convertNasConfigToNasMappings(_0x2c2bf8,_0x3587be,_0x8a7f5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x502447,_0x5ba7b8,_0x2c64d6,_0xbf17f;return __generator(this,function(_0x45eec6){var _0x2bfc63=a33_0x522b;switch(_0x45eec6[_0x2bfc63(0x1d0)]){case 0x0:if(!_0x3587be)return[0x2,[]];_0x502447=definition_1['isAutoConfig'](_0x3587be);if(!_0x502447)return[0x3,0x4];_0x5ba7b8=path_1[_0x2bfc63(0x1df)][_0x2bfc63(0x1d8)](_0x2c2bf8,_0x2bfc63(0x1e9)),_0x2c64d6=path_1[_0x2bfc63(0x1df)][_0x2bfc63(0x1d8)](_0x5ba7b8,_0x8a7f5);return[0x4,fs[_0x2bfc63(0x1e5)](_0x2c64d6)];case 0x1:if(!!_0x45eec6[_0x2bfc63(0x1d4)]())return[0x3,0x3];return[0x4,fs[_0x2bfc63(0x1f5)](_0x2c64d6)];case 0x2:_0x45eec6['sent'](),_0x45eec6[_0x2bfc63(0x1d0)]=0x3;case 0x3:return[0x2,[{'localNasDir':_0x2c64d6,'remoteNasDir':_0x2bfc63(0x1d5)}]];case 0x4:if(typeof _0x3587be==='string')throw new Error(_0x2bfc63(0x1e3)+_0x3587be+_0x2bfc63(0x1e0));_0xbf17f=_0x3587be[_0x2bfc63(0x1f1)];return[0x4,convertMountPointsToNasMappings(_0x2c2bf8,_0xbf17f)];case 0x5:return[0x2,_0x45eec6[_0x2bfc63(0x1d4)]()];}});});}exports['convertNasConfigToNasMappings']=convertNasConfigToNasMappings;function convertMountPointsToNasMappings(_0x5be3ca,_0x268e7c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1e6d35,_0x5823cc,_0x201051,_0x12729f,_0xb6f625;return __generator(this,function(_0x1a5c70){var _0x4570fc=a33_0x522b;switch(_0x1a5c70[_0x4570fc(0x1d0)]){case 0x0:if(!_0x268e7c)return[0x2,[]];_0x1e6d35=[],(_0x5823cc=0x0,_0x201051=_0x268e7c),_0x1a5c70[_0x4570fc(0x1d0)]=0x1;case 0x1:if(!(_0x5823cc<_0x201051[_0x4570fc(0x1e4)]))return[0x3,0x4];_0x12729f=_0x201051[_0x5823cc];return[0x4,convertMountPointToNasMapping(_0x5be3ca,_0x12729f)];case 0x2:_0xb6f625=_0x1a5c70['sent'](),_0x1e6d35[_0x4570fc(0x1e7)](_0xb6f625),_0x1a5c70[_0x4570fc(0x1d0)]=0x3;case 0x3:_0x5823cc++;return[0x3,0x1];case 0x4:return[0x2,_0x1e6d35];}});});}function convertMountPointToNasMapping(_0xa04de,_0x5f46a3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4edb0d,_0x17ebb2,_0x31a738,_0xbc5e88,_0x19a55f,_0x1bdfb1;return __generator(this,function(_0x583c82){var _0x26e7d1=a33_0x522b;switch(_0x583c82[_0x26e7d1(0x1d0)]){case 0x0:_0x4edb0d=resolveMountPoint(_0x5f46a3),_0x17ebb2=_0x4edb0d[_0x26e7d1(0x1cb)],_0x31a738=_0x4edb0d[_0x26e7d1(0x1e6)],_0xbc5e88=_0x4edb0d[_0x26e7d1(0x1d6)],_0x19a55f=path_1[_0x26e7d1(0x1df)][_0x26e7d1(0x1d8)](_0xa04de,_0xbc5e88);return[0x4,fs[_0x26e7d1(0x1e5)](_0x19a55f)];case 0x1:if(!!_0x583c82['sent']())return[0x3,0x3];return[0x4,fs['ensureDir'](_0x19a55f)];case 0x2:_0x583c82[_0x26e7d1(0x1d4)](),_0x583c82['label']=0x3;case 0x3:_0x1bdfb1=path_1['default'][_0x26e7d1(0x1d8)](_0x19a55f,_0x17ebb2);return[0x4,fs[_0x26e7d1(0x1e5)](_0x1bdfb1)];case 0x4:if(!!_0x583c82['sent']())return[0x3,0x6];return[0x4,fs['ensureDir'](_0x1bdfb1)];case 0x5:_0x583c82[_0x26e7d1(0x1d4)](),_0x583c82[_0x26e7d1(0x1d0)]=0x6;case 0x6:return[0x2,{'localNasDir':_0x1bdfb1,'remoteNasDir':_0x31a738}];}});});}