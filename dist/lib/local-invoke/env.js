'use strict';var a28_0x1b4a=['isEmpty','/python','defineProperty','flatten','669309AIoLba','join','reduce','containerPath','/usr/local/bin','trys','mountDir','/root','ops','/usr/bin','__setModuleDefault','320387aAtBMX','/bin','push','forEach','../utils/file','sent','label','default','return','function','/usr/local/lib/node_modules','assign','/code/.s','pop','utf-8','fs-extra','/lib','done','lodash','call','filter','addInstallTargetEnv','readLines','Generator\x20is\x20already\x20executing.','.conf','/mnt/auto','431XSvkVR','753646QjAiwI','6iCiadg','throw','222041jGBGIl','addEnv','resolveMountPoint','resolve','1xJlQPk','map','lstat','__awaiter','/usr/lib64','/code/node_modules/.bin','/sbin','iterator','PATH','/usr/sbin','create','243jDIQDd','union','isAutoConfig','PYTHONPATH','isFile','NODE_PATH','/usr/lib/x86_64-linux-gnu','/node_modules/.bin','4Yrrvpq','value','next','__createBinding','all','/python/lib/python3.6/site-packages','startsWith','split','length','LD_LIBRARY_PATH','774048AeBCFa','PYTHONUSERBASE','42660lWqYUh','/usr/local/lib','2mXioVB','/python/lib/python2.7/site-packages','/code'];var a28_0x4423dd=a28_0x39a2;(function(_0x92e97a,_0x440ac3){var _0x2084ab=a28_0x39a2;while(!![]){try{var _0x1a82b4=parseInt(_0x2084ab(0xb4))*-parseInt(_0x2084ab(0xe4))+-parseInt(_0x2084ab(0xa8))*-parseInt(_0x2084ab(0xc8))+parseInt(_0x2084ab(0xe6))*parseInt(_0x2084ab(0xb6))+parseInt(_0x2084ab(0xea))*-parseInt(_0x2084ab(0xb2))+-parseInt(_0x2084ab(0xa0))*-parseInt(_0x2084ab(0xe2))+parseInt(_0x2084ab(0xbd))+-parseInt(_0x2084ab(0xe3));if(_0x1a82b4===_0x440ac3)break;else _0x92e97a['push'](_0x92e97a['shift']());}catch(_0x86bc72){_0x92e97a['push'](_0x92e97a['shift']());}}}(a28_0x1b4a,0xaecf2));var __createBinding=this&&this[a28_0x4423dd(0xab)]||(Object[a28_0x4423dd(0x9f)]?function(_0x46bf17,_0x247267,_0x59b15c,_0x51ea9b){if(_0x51ea9b===undefined)_0x51ea9b=_0x59b15c;Object['defineProperty'](_0x46bf17,_0x51ea9b,{'enumerable':!![],'get':function(){return _0x247267[_0x59b15c];}});}:function(_0x14bb9b,_0x2760bf,_0x1afa9e,_0x4659f4){if(_0x4659f4===undefined)_0x4659f4=_0x1afa9e;_0x14bb9b[_0x4659f4]=_0x2760bf[_0x1afa9e];}),__setModuleDefault=this&&this[a28_0x4423dd(0xc7)]||(Object[a28_0x4423dd(0x9f)]?function(_0x109526,_0xb7c06d){var _0x5c9560=a28_0x4423dd;Object['defineProperty'](_0x109526,_0x5c9560(0xcf),{'enumerable':!![],'value':_0xb7c06d});}:function(_0x4dc581,_0x2e2b50){var _0x4dd840=a28_0x4423dd;_0x4dc581[_0x4dd840(0xcf)]=_0x2e2b50;}),__importStar=this&&this['__importStar']||function(_0x3e9e03){var _0x2fa5c6=a28_0x4423dd;if(_0x3e9e03&&_0x3e9e03['__esModule'])return _0x3e9e03;var _0x5ad017={};if(_0x3e9e03!=null){for(var _0x48fa9e in _0x3e9e03)if(_0x48fa9e!==_0x2fa5c6(0xcf)&&Object['hasOwnProperty']['call'](_0x3e9e03,_0x48fa9e))__createBinding(_0x5ad017,_0x3e9e03,_0x48fa9e);}return __setModuleDefault(_0x5ad017,_0x3e9e03),_0x5ad017;},__awaiter=this&&this[a28_0x4423dd(0xed)]||function(_0x58ca1f,_0x402aaf,_0x539c3e,_0x27ea9c){function _0x1efd20(_0xf9b65e){return _0xf9b65e instanceof _0x539c3e?_0xf9b65e:new _0x539c3e(function(_0x3e0175){_0x3e0175(_0xf9b65e);});}return new(_0x539c3e||(_0x539c3e=Promise))(function(_0x21ec15,_0x540dc2){var _0x1fd3ea=a28_0x39a2;function _0x32e882(_0x408654){var _0x358692=a28_0x39a2;try{_0x26e808(_0x27ea9c[_0x358692(0xaa)](_0x408654));}catch(_0x2d76c2){_0x540dc2(_0x2d76c2);}}function _0x4062fc(_0x3c9a3f){var _0x1090a1=a28_0x39a2;try{_0x26e808(_0x27ea9c[_0x1090a1(0xe5)](_0x3c9a3f));}catch(_0x3987f4){_0x540dc2(_0x3987f4);}}function _0x26e808(_0xbb3878){var _0x55d820=a28_0x39a2;_0xbb3878['done']?_0x21ec15(_0xbb3878[_0x55d820(0xa9)]):_0x1efd20(_0xbb3878[_0x55d820(0xa9)])['then'](_0x32e882,_0x4062fc);}_0x26e808((_0x27ea9c=_0x27ea9c['apply'](_0x58ca1f,_0x402aaf||[]))[_0x1fd3ea(0xaa)]());});},__generator=this&&this['__generator']||function(_0x51213b,_0x23aa84){var _0x3a58ba=a28_0x4423dd,_0x5c8919={'label':0x0,'sent':function(){if(_0x5a51de[0x0]&0x1)throw _0x5a51de[0x1];return _0x5a51de[0x1];},'trys':[],'ops':[]},_0x474484,_0x36ea49,_0x5a51de,_0x4cf5cd;return _0x4cf5cd={'next':_0x1dda75(0x0),'throw':_0x1dda75(0x1),'return':_0x1dda75(0x2)},typeof Symbol===_0x3a58ba(0xd1)&&(_0x4cf5cd[Symbol[_0x3a58ba(0xf1)]]=function(){return this;}),_0x4cf5cd;function _0x1dda75(_0x3981b9){return function(_0x1e43f5){return _0x3dcdfc([_0x3981b9,_0x1e43f5]);};}function _0x3dcdfc(_0x5824fb){var _0x42ce78=_0x3a58ba;if(_0x474484)throw new TypeError(_0x42ce78(0xdf));while(_0x5c8919)try{if(_0x474484=0x1,_0x36ea49&&(_0x5a51de=_0x5824fb[0x0]&0x2?_0x36ea49[_0x42ce78(0xd0)]:_0x5824fb[0x0]?_0x36ea49['throw']||((_0x5a51de=_0x36ea49[_0x42ce78(0xd0)])&&_0x5a51de[_0x42ce78(0xdb)](_0x36ea49),0x0):_0x36ea49[_0x42ce78(0xaa)])&&!(_0x5a51de=_0x5a51de['call'](_0x36ea49,_0x5824fb[0x1]))[_0x42ce78(0xd9)])return _0x5a51de;if(_0x36ea49=0x0,_0x5a51de)_0x5824fb=[_0x5824fb[0x0]&0x2,_0x5a51de[_0x42ce78(0xa9)]];switch(_0x5824fb[0x0]){case 0x0:case 0x1:_0x5a51de=_0x5824fb;break;case 0x4:_0x5c8919[_0x42ce78(0xce)]++;return{'value':_0x5824fb[0x1],'done':![]};case 0x5:_0x5c8919['label']++,_0x36ea49=_0x5824fb[0x1],_0x5824fb=[0x0];continue;case 0x7:_0x5824fb=_0x5c8919['ops']['pop'](),_0x5c8919[_0x42ce78(0xc2)]['pop']();continue;default:if(!(_0x5a51de=_0x5c8919[_0x42ce78(0xc2)],_0x5a51de=_0x5a51de[_0x42ce78(0xb0)]>0x0&&_0x5a51de[_0x5a51de[_0x42ce78(0xb0)]-0x1])&&(_0x5824fb[0x0]===0x6||_0x5824fb[0x0]===0x2)){_0x5c8919=0x0;continue;}if(_0x5824fb[0x0]===0x3&&(!_0x5a51de||_0x5824fb[0x1]>_0x5a51de[0x0]&&_0x5824fb[0x1]<_0x5a51de[0x3])){_0x5c8919['label']=_0x5824fb[0x1];break;}if(_0x5824fb[0x0]===0x6&&_0x5c8919[_0x42ce78(0xce)]<_0x5a51de[0x1]){_0x5c8919[_0x42ce78(0xce)]=_0x5a51de[0x1],_0x5a51de=_0x5824fb;break;}if(_0x5a51de&&_0x5c8919[_0x42ce78(0xce)]<_0x5a51de[0x2]){_0x5c8919[_0x42ce78(0xce)]=_0x5a51de[0x2],_0x5c8919[_0x42ce78(0xc5)][_0x42ce78(0xca)](_0x5824fb);break;}if(_0x5a51de[0x2])_0x5c8919[_0x42ce78(0xc5)][_0x42ce78(0xd5)]();_0x5c8919[_0x42ce78(0xc2)]['pop']();continue;}_0x5824fb=_0x23aa84[_0x42ce78(0xdb)](_0x51213b,_0x5c8919);}catch(_0x5dd815){_0x5824fb=[0x6,_0x5dd815],_0x36ea49=0x0;}finally{_0x474484=_0x5a51de=0x0;}if(_0x5824fb[0x0]&0x5)throw _0x5824fb[0x1];return{'value':_0x5824fb[0x0]?_0x5824fb[0x1]:void 0x0,'done':!![]};}};Object[a28_0x4423dd(0xbb)](exports,'__esModule',{'value':!![]}),exports[a28_0x4423dd(0xe7)]=exports['resolveLibPathsFromLdConf']=exports[a28_0x4423dd(0xdd)]=void 0x0;var _=__importStar(require(a28_0x4423dd(0xda))),definition_1=require('../definition'),nas_1=require('./nas'),path=__importStar(require('path')),fs=__importStar(require(a28_0x4423dd(0xd7))),file_1=require(a28_0x4423dd(0xcc)),sysLibs=[a28_0x4423dd(0xb5),'/usr/lib',a28_0x4423dd(0xa6),a28_0x4423dd(0xee),a28_0x4423dd(0xd8),'/lib/x86_64-linux-gnu','/python/lib/python2.7/site-packages','/python/lib/python3.6/site-packages'],fcLibs=[a28_0x4423dd(0xb8),'/code/lib',a28_0x4423dd(0xb5)],sysPaths=[a28_0x4423dd(0xc1),'/usr/local/sbin',a28_0x4423dd(0xc6),a28_0x4423dd(0x9e),a28_0x4423dd(0xf0),a28_0x4423dd(0xc9)],fcPaths=[a28_0x4423dd(0xb8),a28_0x4423dd(0xef)],pythonPaths=[a28_0x4423dd(0xb7),a28_0x4423dd(0xad)],funPaths=['/python/bin',a28_0x4423dd(0xa7)];function addInstallTargetEnv(_0x490995,_0x131391){var _0xdcd273=a28_0x4423dd,_0x30d336=Object[_0xdcd273(0xd3)]({},_0x490995);if(!_0x131391)return _0x30d336;return _[_0xdcd273(0xcb)](_0x131391,function(_0x12fa07){var _0x289f1f=_0xdcd273,_0x1012c0=_0x12fa07[_0x289f1f(0xc0)],_0xba6cbe=_0x1012c0,_0x375693=pythonPaths[_0x289f1f(0xeb)](function(_0x140a68){return''+_0xba6cbe+_0x140a68;})['join'](':');_0x30d336['PYTHONPATH']?_0x30d336[_0x289f1f(0xa3)]=_0x30d336['PYTHONPATH']+':'+_0x375693:_0x30d336['PYTHONPATH']=_0x375693;}),_0x30d336;}exports[a28_0x4423dd(0xdd)]=addInstallTargetEnv;function resolveLibPathsFromLdConf(_0xe2ea2a,_0xebfe0f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d3642,_0xd7a348,_0x5b22d9,_0x33985f;return __generator(this,function(_0x1258bb){var _0x52b070=a28_0x39a2;switch(_0x1258bb[_0x52b070(0xce)]){case 0x0:_0x5d3642={};if(!_0xebfe0f)return[0x2,_0x5d3642];_0xd7a348=path[_0x52b070(0xe9)](_0xe2ea2a,_0xebfe0f,'.fun/root/etc/ld.so.conf.d');return[0x4,fs['pathExists'](_0xd7a348)];case 0x1:if(!_0x1258bb[_0x52b070(0xcd)]())return[0x2,_0x5d3642];return[0x4,fs[_0x52b070(0xec)](_0xd7a348)];case 0x2:_0x5b22d9=_0x1258bb[_0x52b070(0xcd)]();if(_0x5b22d9[_0x52b070(0xa4)]())return[0x2,_0x5d3642];return[0x4,resolveLibPaths(_0xd7a348)];case 0x3:_0x33985f=_0x1258bb[_0x52b070(0xcd)]();!_[_0x52b070(0xb9)](_0x33985f)&&(_0x5d3642['LD_LIBRARY_PATH']=_0x33985f['map'](function(_0x554c5a){return'/code/.fun/root'+_0x554c5a;})[_0x52b070(0xbe)](':'));return[0x2,_0x5d3642];}});});}exports['resolveLibPathsFromLdConf']=resolveLibPathsFromLdConf;function resolveLibPaths(_0x3463e4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x23d5c9,_0x436025=this;return __generator(this,function(_0x3025f9){var _0x1d5efa=a28_0x39a2;switch(_0x3025f9[_0x1d5efa(0xce)]){case 0x0:if(!fs['existsSync'](_0x3463e4))return[0x2,[]];return[0x4,Promise[_0x1d5efa(0xac)](fs['readdirSync'](_0x3463e4,_0x1d5efa(0xd6))[_0x1d5efa(0xdc)](function(_0x4518c7){var _0x1ee6bb=_0x1d5efa;return _0x4518c7['endsWith'](_0x1ee6bb(0xe0));})[_0x1d5efa(0xeb)](function(_0x2e091f){return __awaiter(_0x436025,void 0x0,void 0x0,function(){return __generator(this,function(_0x37c054){var _0xf06ec9=a28_0x39a2;switch(_0x37c054[_0xf06ec9(0xce)]){case 0x0:return[0x4,file_1[_0xf06ec9(0xde)](path['join'](_0x3463e4,_0x2e091f))];case 0x1:return[0x2,_0x37c054[_0xf06ec9(0xcd)]()];}});});}))];case 0x1:_0x23d5c9=_0x3025f9['sent']();return[0x2,_[_0x1d5efa(0xbc)](_0x23d5c9)[_0x1d5efa(0xbf)](function(_0x295297,_0x3d2d4f){var _0x521ea6=_0x1d5efa,_0x1428d4=_0x3d2d4f['match'](/^\s*(\/.*)\s*$/);return _0x1428d4&&_0x1428d4[0x1][_0x521ea6(0xae)]('/')&&_0x295297[_0x521ea6(0xca)](_0x1428d4[0x1]),_0x295297;},[])];}});});}function addEnv(_0x30a461,_0x164782){var _0x22aa7b=a28_0x4423dd,_0x1c1184=Object[_0x22aa7b(0xd3)]({},_0x30a461),_0x24d793=_0x22aa7b(0xd4);_0x1c1184['LD_LIBRARY_PATH']=generateLibPath(_0x1c1184,_0x24d793),_0x1c1184[_0x22aa7b(0x9d)]=generatePath(_0x1c1184,_0x24d793),_0x1c1184[_0x22aa7b(0xa5)]=generateNodePaths(_0x1c1184,'/code');var _0x51dff6=_0x24d793+_0x22aa7b(0xba);!_0x1c1184[_0x22aa7b(0xb3)]&&(_0x1c1184[_0x22aa7b(0xb3)]=_0x51dff6);if(_0x164782)return appendNasEnvs(_0x1c1184,_0x164782);return _0x1c1184;}exports[a28_0x4423dd(0xe7)]=addEnv;function appendNasEnvs(_0x901324,_0x43b636){var _0x1404a4=a28_0x4423dd,_0x1d10b1=definition_1[_0x1404a4(0xa2)](_0x43b636),_0x4c6418;if(_0x1d10b1){var _0x421471=_0x1404a4(0xe1);_0x4c6418=appendNasMountPointEnv(_0x901324,_0x421471);}else{if(typeof _0x43b636!=='string'){var _0x5a70e2=_0x43b636['mountPoints'];_[_0x1404a4(0xcb)](_0x5a70e2,function(_0x52b6bc){var _0x313c9a=_0x1404a4,_0x514f90=nas_1[_0x313c9a(0xe8)](_0x52b6bc)[_0x313c9a(0xc3)];_0x4c6418=appendNasMountPointEnv(_0x901324,_0x514f90);});}}return _0x4c6418;}function a28_0x39a2(_0x269af6,_0x4011d7){return a28_0x39a2=function(_0x1b4afa,_0x39a23a){_0x1b4afa=_0x1b4afa-0x9d;var _0x3d88f1=a28_0x1b4a[_0x1b4afa];return _0x3d88f1;},a28_0x39a2(_0x269af6,_0x4011d7);}function appendNasMountPointEnv(_0x412243,_0x41550b){var _0x1a4ccb=a28_0x4423dd;_0x412243['LD_LIBRARY_PATH']=generateLibPath(_0x412243,_0x41550b),_0x412243['PATH']=generatePath(_0x412243,_0x41550b),_0x412243[_0x1a4ccb(0xa5)]=generateNodePaths(_0x412243,_0x41550b);var _0x1efc2a=generatePythonPaths(_0x41550b);return _0x412243['PYTHONPATH']?_0x412243['PYTHONPATH']=_0x412243[_0x1a4ccb(0xa3)]+':'+_0x1efc2a:_0x412243[_0x1a4ccb(0xa3)]=_0x1efc2a,_0x412243;}function generatePythonPaths(_0xeb91ce){var _0xdc89e4=a28_0x4423dd;return pythonPaths['map'](function(_0x41310e){return''+_0xeb91ce+_0x41310e;})[_0xdc89e4(0xbe)](':');}function generateNodePaths(_0x4ef2c7,_0x111635){var _0x27217c=a28_0x4423dd,_0x499137=_0x27217c(0xd2),_0x2bbdd3=_0x111635+'/node_modules',_0x4d1793;return _0x4ef2c7[_0x27217c(0xa5)]?_0x4d1793=_0x4ef2c7[_0x27217c(0xa5)]+':'+_0x2bbdd3+':'+_0x499137:_0x4d1793=_0x2bbdd3+':'+_0x499137,duplicateRemoval(_0x4d1793);}function generateLibPath(_0x41d88c,_0x148bff){var _0x19cdaa=a28_0x4423dd,_0x3653fc=_[_0x19cdaa(0xa1)](sysLibs['map'](function(_0x5adc8b){var _0x4ca76e=_0x19cdaa;return _0x148bff+_0x4ca76e(0xc4)+_0x5adc8b;}),fcLibs)[_0x19cdaa(0xbe)](':');return _0x41d88c[_0x19cdaa(0xb1)]&&(_0x3653fc=_0x41d88c[_0x19cdaa(0xb1)]+':'+_0x3653fc),duplicateRemoval(_0x3653fc);}function generatePath(_0x1068d8,_0x236f13){var _0xffc50a=a28_0x4423dd,_0x4f9f42=_[_0xffc50a(0xa1)](sysPaths[_0xffc50a(0xeb)](function(_0x50c1ca){var _0x3e32e5=_0xffc50a;return _0x236f13+_0x3e32e5(0xc4)+_0x50c1ca;}),fcPaths,funPaths[_0xffc50a(0xeb)](function(_0x4f84c0){return''+_0x236f13+_0x4f84c0;}),sysPaths)[_0xffc50a(0xbe)](':');return _0x1068d8[_0xffc50a(0x9d)]&&(_0x4f9f42=_0x1068d8['PATH']+':'+_0x4f9f42),duplicateRemoval(_0x4f9f42);}function duplicateRemoval(_0x1441b5){var _0x42ec8b=a28_0x4423dd,_0x5cdba0=_0x1441b5[_0x42ec8b(0xaf)](':');return _[_0x42ec8b(0xa1)](_0x5cdba0)[_0x42ec8b(0xbe)](':');}