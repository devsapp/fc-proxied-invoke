'use strict';var a29_0x4a2b=['flatten','push','label','mountPoints','../utils/file','470456DGVCmg','/code/lib','forEach','/code/node_modules/.bin','ops','PATH','2377DsIrgp','__awaiter','resolveLibPathsFromLdConf','pop','next','string','/root','default','1WqEHfs','/usr/sbin','/sbin','pathExists','/usr/lib64','NODE_PATH','/python/lib/python3.6/site-packages','LD_LIBRARY_PATH','join','__esModule','.fun/root/etc/ld.so.conf.d','3523JLCsgK','/lib','trys','PYTHONUSERBASE','all','/usr/local/lib','readdirSync','filter','endsWith','addEnv','lodash','length','value','/usr/lib/x86_64-linux-gnu','function','114487LsOxUh','assign','path','throw','__generator','1904UXxHRk','110vdsJps','/usr/lib','match','/usr/bin','/mnt/auto','.conf','./nas','__importStar','fs-extra','/usr/local/lib/node_modules','readLines','524441SDOtHJ','/code','iterator','mountDir','split','203625OJhmzx','/python/lib/python2.7/site-packages','existsSync','isEmpty','addInstallTargetEnv','4oFXYLn','__createBinding','resolveMountPoint','call','map','done','sent','return','lstat','PYTHONPATH','/bin','/python/bin','utf-8','apply','97qbDkVR','__setModuleDefault','Generator\x20is\x20already\x20executing.','isFile','155EXSMob','/python','union','/lib/x86_64-linux-gnu','/node_modules/.bin','/code/.s','startsWith','then','defineProperty'];var a29_0x5b082f=a29_0xddd7;function a29_0xddd7(_0x308048,_0xc7f702){return a29_0xddd7=function(_0x4a2bd8,_0xddd7f9){_0x4a2bd8=_0x4a2bd8-0x1a3;var _0x16fd73=a29_0x4a2b[_0x4a2bd8];return _0x16fd73;},a29_0xddd7(_0x308048,_0xc7f702);}(function(_0x5347e2,_0x36bf02){var _0x3f9c03=a29_0xddd7;while(!![]){try{var _0x4bc498=-parseInt(_0x3f9c03(0x1cf))*parseInt(_0x3f9c03(0x1f3))+parseInt(_0x3f9c03(0x205))+parseInt(_0x3f9c03(0x1ca))*-parseInt(_0x3f9c03(0x1e5))+parseInt(_0x3f9c03(0x1e0))+-parseInt(_0x3f9c03(0x1a8))*-parseInt(_0x3f9c03(0x1f7))+-parseInt(_0x3f9c03(0x1bb))*parseInt(_0x3f9c03(0x1d0))+parseInt(_0x3f9c03(0x1db))*parseInt(_0x3f9c03(0x1b0));if(_0x4bc498===_0x36bf02)break;else _0x5347e2['push'](_0x5347e2['shift']());}catch(_0x349b82){_0x5347e2['push'](_0x5347e2['shift']());}}}(a29_0x4a2b,0x830d7));var __createBinding=this&&this[a29_0x5b082f(0x1e6)]||(Object['create']?function(_0x20b6cf,_0xb8d6b8,_0x146d58,_0x4a163c){var _0x47e761=a29_0x5b082f;if(_0x4a163c===undefined)_0x4a163c=_0x146d58;Object[_0x47e761(0x1ff)](_0x20b6cf,_0x4a163c,{'enumerable':!![],'get':function(){return _0xb8d6b8[_0x146d58];}});}:function(_0x4269f9,_0x583076,_0x534137,_0x1ae845){if(_0x1ae845===undefined)_0x1ae845=_0x534137;_0x4269f9[_0x1ae845]=_0x583076[_0x534137];}),__setModuleDefault=this&&this[a29_0x5b082f(0x1f4)]||(Object['create']?function(_0xd4eeee,_0xc691b4){var _0xf602c1=a29_0x5b082f;Object['defineProperty'](_0xd4eeee,_0xf602c1(0x1af),{'enumerable':!![],'value':_0xc691b4});}:function(_0x1a8270,_0x3ec404){var _0x5a3769=a29_0x5b082f;_0x1a8270[_0x5a3769(0x1af)]=_0x3ec404;}),__importStar=this&&this[a29_0x5b082f(0x1d7)]||function(_0x275ced){var _0x5e0b62=a29_0x5b082f;if(_0x275ced&&_0x275ced[_0x5e0b62(0x1b9)])return _0x275ced;var _0x2466d2={};if(_0x275ced!=null){for(var _0x51cfbf in _0x275ced)if(_0x51cfbf!==_0x5e0b62(0x1af)&&Object['hasOwnProperty'][_0x5e0b62(0x1e8)](_0x275ced,_0x51cfbf))__createBinding(_0x2466d2,_0x275ced,_0x51cfbf);}return __setModuleDefault(_0x2466d2,_0x275ced),_0x2466d2;},__awaiter=this&&this[a29_0x5b082f(0x1a9)]||function(_0x5e8da6,_0x9164ad,_0x13e51a,_0x333f40){function _0x34bbc8(_0x7d27c7){return _0x7d27c7 instanceof _0x13e51a?_0x7d27c7:new _0x13e51a(function(_0x314006){_0x314006(_0x7d27c7);});}return new(_0x13e51a||(_0x13e51a=Promise))(function(_0x10bf90,_0x13a4d8){var _0x390df1=a29_0xddd7;function _0x4bd2b4(_0x1c53b2){var _0x38bcb2=a29_0xddd7;try{_0x439b9b(_0x333f40[_0x38bcb2(0x1ac)](_0x1c53b2));}catch(_0xd97021){_0x13a4d8(_0xd97021);}}function _0x408838(_0x12ec66){var _0x2c52a0=a29_0xddd7;try{_0x439b9b(_0x333f40[_0x2c52a0(0x1cd)](_0x12ec66));}catch(_0x466247){_0x13a4d8(_0x466247);}}function _0x439b9b(_0x1bba41){var _0x275e78=a29_0xddd7;_0x1bba41['done']?_0x10bf90(_0x1bba41[_0x275e78(0x1c7)]):_0x34bbc8(_0x1bba41[_0x275e78(0x1c7)])[_0x275e78(0x1fe)](_0x4bd2b4,_0x408838);}_0x439b9b((_0x333f40=_0x333f40[_0x390df1(0x1f2)](_0x5e8da6,_0x9164ad||[]))['next']());});},__generator=this&&this[a29_0x5b082f(0x1ce)]||function(_0x7c2d5,_0x13a435){var _0xaf7943=a29_0x5b082f,_0x42dce2={'label':0x0,'sent':function(){if(_0x4a9622[0x0]&0x1)throw _0x4a9622[0x1];return _0x4a9622[0x1];},'trys':[],'ops':[]},_0x1b8237,_0x41192d,_0x4a9622,_0x1d2932;return _0x1d2932={'next':_0x2a5917(0x0),'throw':_0x2a5917(0x1),'return':_0x2a5917(0x2)},typeof Symbol===_0xaf7943(0x1c9)&&(_0x1d2932[Symbol[_0xaf7943(0x1dd)]]=function(){return this;}),_0x1d2932;function _0x2a5917(_0x7d093){return function(_0x165c85){return _0x1b009b([_0x7d093,_0x165c85]);};}function _0x1b009b(_0x3adb9a){var _0x5355d2=_0xaf7943;if(_0x1b8237)throw new TypeError(_0x5355d2(0x1f5));while(_0x42dce2)try{if(_0x1b8237=0x1,_0x41192d&&(_0x4a9622=_0x3adb9a[0x0]&0x2?_0x41192d[_0x5355d2(0x1ec)]:_0x3adb9a[0x0]?_0x41192d[_0x5355d2(0x1cd)]||((_0x4a9622=_0x41192d[_0x5355d2(0x1ec)])&&_0x4a9622[_0x5355d2(0x1e8)](_0x41192d),0x0):_0x41192d[_0x5355d2(0x1ac)])&&!(_0x4a9622=_0x4a9622['call'](_0x41192d,_0x3adb9a[0x1]))[_0x5355d2(0x1ea)])return _0x4a9622;if(_0x41192d=0x0,_0x4a9622)_0x3adb9a=[_0x3adb9a[0x0]&0x2,_0x4a9622[_0x5355d2(0x1c7)]];switch(_0x3adb9a[0x0]){case 0x0:case 0x1:_0x4a9622=_0x3adb9a;break;case 0x4:_0x42dce2['label']++;return{'value':_0x3adb9a[0x1],'done':![]};case 0x5:_0x42dce2['label']++,_0x41192d=_0x3adb9a[0x1],_0x3adb9a=[0x0];continue;case 0x7:_0x3adb9a=_0x42dce2['ops']['pop'](),_0x42dce2[_0x5355d2(0x1bd)][_0x5355d2(0x1ab)]();continue;default:if(!(_0x4a9622=_0x42dce2['trys'],_0x4a9622=_0x4a9622[_0x5355d2(0x1c6)]>0x0&&_0x4a9622[_0x4a9622[_0x5355d2(0x1c6)]-0x1])&&(_0x3adb9a[0x0]===0x6||_0x3adb9a[0x0]===0x2)){_0x42dce2=0x0;continue;}if(_0x3adb9a[0x0]===0x3&&(!_0x4a9622||_0x3adb9a[0x1]>_0x4a9622[0x0]&&_0x3adb9a[0x1]<_0x4a9622[0x3])){_0x42dce2['label']=_0x3adb9a[0x1];break;}if(_0x3adb9a[0x0]===0x6&&_0x42dce2[_0x5355d2(0x202)]<_0x4a9622[0x1]){_0x42dce2[_0x5355d2(0x202)]=_0x4a9622[0x1],_0x4a9622=_0x3adb9a;break;}if(_0x4a9622&&_0x42dce2[_0x5355d2(0x202)]<_0x4a9622[0x2]){_0x42dce2[_0x5355d2(0x202)]=_0x4a9622[0x2],_0x42dce2[_0x5355d2(0x1a6)][_0x5355d2(0x201)](_0x3adb9a);break;}if(_0x4a9622[0x2])_0x42dce2[_0x5355d2(0x1a6)]['pop']();_0x42dce2['trys']['pop']();continue;}_0x3adb9a=_0x13a435['call'](_0x7c2d5,_0x42dce2);}catch(_0x4f9770){_0x3adb9a=[0x6,_0x4f9770],_0x41192d=0x0;}finally{_0x1b8237=_0x4a9622=0x0;}if(_0x3adb9a[0x0]&0x5)throw _0x3adb9a[0x1];return{'value':_0x3adb9a[0x0]?_0x3adb9a[0x1]:void 0x0,'done':!![]};}};Object[a29_0x5b082f(0x1ff)](exports,'__esModule',{'value':!![]}),exports[a29_0x5b082f(0x1c4)]=exports[a29_0x5b082f(0x1aa)]=exports['addInstallTargetEnv']=void 0x0;var _=__importStar(require(a29_0x5b082f(0x1c5))),definition_1=require('../definition'),nas_1=require(a29_0x5b082f(0x1d6)),path=__importStar(require(a29_0x5b082f(0x1cc))),fs=__importStar(require(a29_0x5b082f(0x1d8))),file_1=require(a29_0x5b082f(0x204)),sysLibs=['/usr/local/lib',a29_0x5b082f(0x1d1),a29_0x5b082f(0x1c8),a29_0x5b082f(0x1b4),a29_0x5b082f(0x1bc),a29_0x5b082f(0x1fa),a29_0x5b082f(0x1e1),a29_0x5b082f(0x1b6)],fcLibs=[a29_0x5b082f(0x1dc),a29_0x5b082f(0x1a3),a29_0x5b082f(0x1c0)],sysPaths=['/usr/local/bin','/usr/local/sbin',a29_0x5b082f(0x1d3),a29_0x5b082f(0x1b1),a29_0x5b082f(0x1b2),a29_0x5b082f(0x1ef)],fcPaths=[a29_0x5b082f(0x1dc),a29_0x5b082f(0x1a5)],pythonPaths=['/python/lib/python2.7/site-packages',a29_0x5b082f(0x1b6)],funPaths=[a29_0x5b082f(0x1f0),a29_0x5b082f(0x1fb)];function addInstallTargetEnv(_0x3e8d51,_0x54cb9d){var _0x28cc49=a29_0x5b082f,_0x2a20c0=Object[_0x28cc49(0x1cb)]({},_0x3e8d51);if(!_0x54cb9d)return _0x2a20c0;return _[_0x28cc49(0x1a4)](_0x54cb9d,function(_0x41a108){var _0x6dd18a=_0x28cc49,_0x384ba2=_0x41a108['containerPath'],_0x30a011=_0x384ba2,_0x49834c=pythonPaths[_0x6dd18a(0x1e9)](function(_0x49cc1a){return''+_0x30a011+_0x49cc1a;})['join'](':');_0x2a20c0['PYTHONPATH']?_0x2a20c0[_0x6dd18a(0x1ee)]=_0x2a20c0[_0x6dd18a(0x1ee)]+':'+_0x49834c:_0x2a20c0[_0x6dd18a(0x1ee)]=_0x49834c;}),_0x2a20c0;}exports[a29_0x5b082f(0x1e4)]=addInstallTargetEnv;function resolveLibPathsFromLdConf(_0x30d4e0,_0x3ebced){return __awaiter(this,void 0x0,void 0x0,function(){var _0x363607,_0x357629,_0x8dc5af,_0x451e72;return __generator(this,function(_0x4c67eb){var _0x268143=a29_0xddd7;switch(_0x4c67eb[_0x268143(0x202)]){case 0x0:_0x363607={};if(!_0x3ebced)return[0x2,_0x363607];_0x357629=path['resolve'](_0x30d4e0,_0x3ebced,_0x268143(0x1ba));return[0x4,fs[_0x268143(0x1b3)](_0x357629)];case 0x1:if(!_0x4c67eb[_0x268143(0x1eb)]())return[0x2,_0x363607];return[0x4,fs[_0x268143(0x1ed)](_0x357629)];case 0x2:_0x8dc5af=_0x4c67eb[_0x268143(0x1eb)]();if(_0x8dc5af[_0x268143(0x1f6)]())return[0x2,_0x363607];return[0x4,resolveLibPaths(_0x357629)];case 0x3:_0x451e72=_0x4c67eb[_0x268143(0x1eb)]();!_[_0x268143(0x1e3)](_0x451e72)&&(_0x363607[_0x268143(0x1b7)]=_0x451e72[_0x268143(0x1e9)](function(_0x2dc35b){return'/code/.fun/root'+_0x2dc35b;})['join'](':'));return[0x2,_0x363607];}});});}exports[a29_0x5b082f(0x1aa)]=resolveLibPathsFromLdConf;function resolveLibPaths(_0x42dfbd){return __awaiter(this,void 0x0,void 0x0,function(){var _0x21b09e,_0x31fafc=this;return __generator(this,function(_0x32f529){var _0x2e12d9=a29_0xddd7;switch(_0x32f529[_0x2e12d9(0x202)]){case 0x0:if(!fs[_0x2e12d9(0x1e2)](_0x42dfbd))return[0x2,[]];return[0x4,Promise[_0x2e12d9(0x1bf)](fs[_0x2e12d9(0x1c1)](_0x42dfbd,_0x2e12d9(0x1f1))[_0x2e12d9(0x1c2)](function(_0x53c349){var _0x1ced04=_0x2e12d9;return _0x53c349[_0x1ced04(0x1c3)](_0x1ced04(0x1d5));})[_0x2e12d9(0x1e9)](function(_0x3cb79f){return __awaiter(_0x31fafc,void 0x0,void 0x0,function(){return __generator(this,function(_0x21d29f){var _0x49551e=a29_0xddd7;switch(_0x21d29f[_0x49551e(0x202)]){case 0x0:return[0x4,file_1[_0x49551e(0x1da)](path['join'](_0x42dfbd,_0x3cb79f))];case 0x1:return[0x2,_0x21d29f['sent']()];}});});}))];case 0x1:_0x21b09e=_0x32f529[_0x2e12d9(0x1eb)]();return[0x2,_[_0x2e12d9(0x200)](_0x21b09e)['reduce'](function(_0x55a6f2,_0x4d7018){var _0xbf7c48=_0x2e12d9,_0x3447ed=_0x4d7018[_0xbf7c48(0x1d2)](/^\s*(\/.*)\s*$/);return _0x3447ed&&_0x3447ed[0x1][_0xbf7c48(0x1fd)]('/')&&_0x55a6f2[_0xbf7c48(0x201)](_0x3447ed[0x1]),_0x55a6f2;},[])];}});});}function addEnv(_0x8b37ba,_0x4fb2d9){var _0x2a9915=a29_0x5b082f,_0x216fe2=Object[_0x2a9915(0x1cb)]({},_0x8b37ba),_0x42dc16=_0x2a9915(0x1fc);_0x216fe2[_0x2a9915(0x1b7)]=generateLibPath(_0x216fe2,_0x42dc16),_0x216fe2[_0x2a9915(0x1a7)]=generatePath(_0x216fe2,_0x42dc16),_0x216fe2[_0x2a9915(0x1b5)]=generateNodePaths(_0x216fe2,_0x2a9915(0x1dc));var _0x16afd2=_0x42dc16+_0x2a9915(0x1f8);!_0x216fe2['PYTHONUSERBASE']&&(_0x216fe2[_0x2a9915(0x1be)]=_0x16afd2);if(_0x4fb2d9)return appendNasEnvs(_0x216fe2,_0x4fb2d9);return _0x216fe2;}exports[a29_0x5b082f(0x1c4)]=addEnv;function appendNasEnvs(_0xce631e,_0x40b602){var _0x2f0f7e=a29_0x5b082f,_0x570b76=definition_1['isAutoConfig'](_0x40b602),_0x5b9b66;if(_0x570b76){var _0x7032cb=_0x2f0f7e(0x1d4);_0x5b9b66=appendNasMountPointEnv(_0xce631e,_0x7032cb);}else{if(typeof _0x40b602!==_0x2f0f7e(0x1ad)){var _0x300509=_0x40b602[_0x2f0f7e(0x203)];_['forEach'](_0x300509,function(_0xee6016){var _0xb73e46=_0x2f0f7e,_0x558831=nas_1[_0xb73e46(0x1e7)](_0xee6016)[_0xb73e46(0x1de)];_0x5b9b66=appendNasMountPointEnv(_0xce631e,_0x558831);});}}return _0x5b9b66;}function appendNasMountPointEnv(_0x547965,_0xab0e1a){var _0x36ed4c=a29_0x5b082f;_0x547965[_0x36ed4c(0x1b7)]=generateLibPath(_0x547965,_0xab0e1a),_0x547965[_0x36ed4c(0x1a7)]=generatePath(_0x547965,_0xab0e1a),_0x547965[_0x36ed4c(0x1b5)]=generateNodePaths(_0x547965,_0xab0e1a);var _0xd4609=generatePythonPaths(_0xab0e1a);return _0x547965[_0x36ed4c(0x1ee)]?_0x547965[_0x36ed4c(0x1ee)]=_0x547965['PYTHONPATH']+':'+_0xd4609:_0x547965['PYTHONPATH']=_0xd4609,_0x547965;}function generatePythonPaths(_0x33bcf1){var _0x22b572=a29_0x5b082f;return pythonPaths[_0x22b572(0x1e9)](function(_0x496429){return''+_0x33bcf1+_0x496429;})[_0x22b572(0x1b8)](':');}function generateNodePaths(_0x4d7449,_0x3e8a25){var _0x218523=a29_0x5b082f,_0x39e7de=_0x218523(0x1d9),_0x2024e3=_0x3e8a25+'/node_modules',_0x5a05f9;return _0x4d7449[_0x218523(0x1b5)]?_0x5a05f9=_0x4d7449['NODE_PATH']+':'+_0x2024e3+':'+_0x39e7de:_0x5a05f9=_0x2024e3+':'+_0x39e7de,duplicateRemoval(_0x5a05f9);}function generateLibPath(_0x2b2216,_0x5c12cc){var _0x4ff075=a29_0x5b082f,_0x4a8f29=_[_0x4ff075(0x1f9)](sysLibs[_0x4ff075(0x1e9)](function(_0x154d0f){var _0x1b1d78=_0x4ff075;return _0x5c12cc+_0x1b1d78(0x1ae)+_0x154d0f;}),fcLibs)['join'](':');return _0x2b2216[_0x4ff075(0x1b7)]&&(_0x4a8f29=_0x2b2216[_0x4ff075(0x1b7)]+':'+_0x4a8f29),duplicateRemoval(_0x4a8f29);}function generatePath(_0x4b4f4f,_0x239947){var _0x459896=a29_0x5b082f,_0x13095b=_[_0x459896(0x1f9)](sysPaths[_0x459896(0x1e9)](function(_0x5d2d95){return _0x239947+'/root'+_0x5d2d95;}),fcPaths,funPaths['map'](function(_0x400d0d){return''+_0x239947+_0x400d0d;}),sysPaths)['join'](':');return _0x4b4f4f[_0x459896(0x1a7)]&&(_0x13095b=_0x4b4f4f[_0x459896(0x1a7)]+':'+_0x13095b),duplicateRemoval(_0x13095b);}function duplicateRemoval(_0xdaa285){var _0x14760e=a29_0x5b082f,_0x5175b0=_0xdaa285[_0x14760e(0x1df)](':');return _[_0x14760e(0x1f9)](_0x5175b0)[_0x14760e(0x1b8)](':');}