'use strict';var a29_0xe68a=['split','resolveMountPoint','flatten','../utils/file','addInstallTargetEnv','all','/python/lib/python2.7/site-packages','readLines','trys','.fun/root/etc/ld.so.conf.d','PATH','assign','/usr/local/lib','push','function','__awaiter','join','/python/bin','NODE_PATH','pathExists','146vAFsVB','../definition','iterator','/code/.fun/root','__esModule','/usr/local/bin','call','465974cSuCzc','pop','defineProperty','/usr/lib64','default','mountDir','/usr/sbin','/python/lib/python3.6/site-packages','PYTHONUSERBASE','PYTHONPATH','5YppcuB','reduce','startsWith','/code/.s','length','__generator','isEmpty','path','forEach','248017pHIcSK','next','75836innUuk','/mnt/auto','create','done','mountPoints','/python','value','/node_modules','union','addEnv','lodash','fs-extra','sent','81217UNsDWn','/bin','29370swysyj','throw','apply','./nas','containerPath','1019794PzhqgP','__importStar','/usr/lib','isAutoConfig','match','/usr/local/sbin','__setModuleDefault','/lib/x86_64-linux-gnu','ops','/lib','endsWith','.conf','label','/root','/node_modules/.bin','resolveLibPathsFromLdConf','LD_LIBRARY_PATH','lstat','then','map','608XIgVzY','1BoWIDE','/usr/local/lib/node_modules'];var a29_0x426ce7=a29_0x488c;function a29_0x488c(_0x249df1,_0x27a023){return a29_0x488c=function(_0xe68ac0,_0x488c8c){_0xe68ac0=_0xe68ac0-0x108;var _0x2cf0b9=a29_0xe68a[_0xe68ac0];return _0x2cf0b9;},a29_0x488c(_0x249df1,_0x27a023);}(function(_0x359806,_0x1382dd){var _0x4b54fb=a29_0x488c;while(!![]){try{var _0x1a3f22=-parseInt(_0x4b54fb(0x13a))*parseInt(_0x4b54fb(0x14f))+-parseInt(_0x4b54fb(0x135))+-parseInt(_0x4b54fb(0x133))+parseInt(_0x4b54fb(0x10a))*-parseInt(_0x4b54fb(0x14e))+parseInt(_0x4b54fb(0x111))+parseInt(_0x4b54fb(0x126))+parseInt(_0x4b54fb(0x124))*parseInt(_0x4b54fb(0x11b));if(_0x1a3f22===_0x1382dd)break;else _0x359806['push'](_0x359806['shift']());}catch(_0x3af4bc){_0x359806['push'](_0x359806['shift']());}}}(a29_0xe68a,0x8963a));var __createBinding=this&&this['__createBinding']||(Object[a29_0x426ce7(0x128)]?function(_0x3356a6,_0x2c2971,_0x4e2eeb,_0x113104){var _0x48b0d0=a29_0x426ce7;if(_0x113104===undefined)_0x113104=_0x4e2eeb;Object[_0x48b0d0(0x113)](_0x3356a6,_0x113104,{'enumerable':!![],'get':function(){return _0x2c2971[_0x4e2eeb];}});}:function(_0x563ef5,_0x342d79,_0x4def09,_0x1278a0){if(_0x1278a0===undefined)_0x1278a0=_0x4def09;_0x563ef5[_0x1278a0]=_0x342d79[_0x4def09];}),__setModuleDefault=this&&this[a29_0x426ce7(0x140)]||(Object['create']?function(_0x3add92,_0x18e144){var _0x5ba59c=a29_0x426ce7;Object[_0x5ba59c(0x113)](_0x3add92,_0x5ba59c(0x115),{'enumerable':!![],'value':_0x18e144});}:function(_0x395b49,_0x35826e){var _0x165655=a29_0x426ce7;_0x395b49[_0x165655(0x115)]=_0x35826e;}),__importStar=this&&this[a29_0x426ce7(0x13b)]||function(_0x3b7a71){var _0x3037f8=a29_0x426ce7;if(_0x3b7a71&&_0x3b7a71[_0x3037f8(0x10e)])return _0x3b7a71;var _0x58edce={};if(_0x3b7a71!=null){for(var _0x1dc908 in _0x3b7a71)if(_0x1dc908!==_0x3037f8(0x115)&&Object['hasOwnProperty']['call'](_0x3b7a71,_0x1dc908))__createBinding(_0x58edce,_0x3b7a71,_0x1dc908);}return __setModuleDefault(_0x58edce,_0x3b7a71),_0x58edce;},__awaiter=this&&this[a29_0x426ce7(0x160)]||function(_0x2823fe,_0x54f73c,_0x27fb2f,_0x2a9024){function _0x2c2ad8(_0x4d9fb3){return _0x4d9fb3 instanceof _0x27fb2f?_0x4d9fb3:new _0x27fb2f(function(_0x38b443){_0x38b443(_0x4d9fb3);});}return new(_0x27fb2f||(_0x27fb2f=Promise))(function(_0x3be659,_0xc61435){var _0x16c099=a29_0x488c;function _0x4dcb2d(_0x237c47){try{_0x304e17(_0x2a9024['next'](_0x237c47));}catch(_0x4a9eac){_0xc61435(_0x4a9eac);}}function _0x5e5303(_0x58462d){var _0x4bcbad=a29_0x488c;try{_0x304e17(_0x2a9024[_0x4bcbad(0x136)](_0x58462d));}catch(_0x5bd834){_0xc61435(_0x5bd834);}}function _0x304e17(_0x4eb262){var _0x8a4f02=a29_0x488c;_0x4eb262[_0x8a4f02(0x129)]?_0x3be659(_0x4eb262[_0x8a4f02(0x12c)]):_0x2c2ad8(_0x4eb262[_0x8a4f02(0x12c)])[_0x8a4f02(0x14c)](_0x4dcb2d,_0x5e5303);}_0x304e17((_0x2a9024=_0x2a9024[_0x16c099(0x137)](_0x2823fe,_0x54f73c||[]))[_0x16c099(0x125)]());});},__generator=this&&this[a29_0x426ce7(0x120)]||function(_0x45c1ad,_0x1efcfb){var _0x34eaad=a29_0x426ce7,_0x324b53={'label':0x0,'sent':function(){if(_0x572d91[0x0]&0x1)throw _0x572d91[0x1];return _0x572d91[0x1];},'trys':[],'ops':[]},_0x1e23ba,_0x43ba16,_0x572d91,_0x3931e8;return _0x3931e8={'next':_0x3d30a5(0x0),'throw':_0x3d30a5(0x1),'return':_0x3d30a5(0x2)},typeof Symbol===_0x34eaad(0x15f)&&(_0x3931e8[Symbol[_0x34eaad(0x10c)]]=function(){return this;}),_0x3931e8;function _0x3d30a5(_0x11b4b3){return function(_0x499240){return _0x59b48e([_0x11b4b3,_0x499240]);};}function _0x59b48e(_0x11c41c){var _0x4e4495=_0x34eaad;if(_0x1e23ba)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x324b53)try{if(_0x1e23ba=0x1,_0x43ba16&&(_0x572d91=_0x11c41c[0x0]&0x2?_0x43ba16['return']:_0x11c41c[0x0]?_0x43ba16[_0x4e4495(0x136)]||((_0x572d91=_0x43ba16['return'])&&_0x572d91[_0x4e4495(0x110)](_0x43ba16),0x0):_0x43ba16[_0x4e4495(0x125)])&&!(_0x572d91=_0x572d91['call'](_0x43ba16,_0x11c41c[0x1]))[_0x4e4495(0x129)])return _0x572d91;if(_0x43ba16=0x0,_0x572d91)_0x11c41c=[_0x11c41c[0x0]&0x2,_0x572d91['value']];switch(_0x11c41c[0x0]){case 0x0:case 0x1:_0x572d91=_0x11c41c;break;case 0x4:_0x324b53[_0x4e4495(0x146)]++;return{'value':_0x11c41c[0x1],'done':![]};case 0x5:_0x324b53['label']++,_0x43ba16=_0x11c41c[0x1],_0x11c41c=[0x0];continue;case 0x7:_0x11c41c=_0x324b53['ops']['pop'](),_0x324b53[_0x4e4495(0x159)][_0x4e4495(0x112)]();continue;default:if(!(_0x572d91=_0x324b53['trys'],_0x572d91=_0x572d91[_0x4e4495(0x11f)]>0x0&&_0x572d91[_0x572d91[_0x4e4495(0x11f)]-0x1])&&(_0x11c41c[0x0]===0x6||_0x11c41c[0x0]===0x2)){_0x324b53=0x0;continue;}if(_0x11c41c[0x0]===0x3&&(!_0x572d91||_0x11c41c[0x1]>_0x572d91[0x0]&&_0x11c41c[0x1]<_0x572d91[0x3])){_0x324b53[_0x4e4495(0x146)]=_0x11c41c[0x1];break;}if(_0x11c41c[0x0]===0x6&&_0x324b53[_0x4e4495(0x146)]<_0x572d91[0x1]){_0x324b53[_0x4e4495(0x146)]=_0x572d91[0x1],_0x572d91=_0x11c41c;break;}if(_0x572d91&&_0x324b53[_0x4e4495(0x146)]<_0x572d91[0x2]){_0x324b53[_0x4e4495(0x146)]=_0x572d91[0x2],_0x324b53['ops']['push'](_0x11c41c);break;}if(_0x572d91[0x2])_0x324b53[_0x4e4495(0x142)][_0x4e4495(0x112)]();_0x324b53[_0x4e4495(0x159)]['pop']();continue;}_0x11c41c=_0x1efcfb['call'](_0x45c1ad,_0x324b53);}catch(_0x550679){_0x11c41c=[0x6,_0x550679],_0x43ba16=0x0;}finally{_0x1e23ba=_0x572d91=0x0;}if(_0x11c41c[0x0]&0x5)throw _0x11c41c[0x1];return{'value':_0x11c41c[0x0]?_0x11c41c[0x1]:void 0x0,'done':!![]};}};Object['defineProperty'](exports,a29_0x426ce7(0x10e),{'value':!![]}),exports[a29_0x426ce7(0x12f)]=exports[a29_0x426ce7(0x149)]=exports[a29_0x426ce7(0x155)]=void 0x0;var _=__importStar(require(a29_0x426ce7(0x130))),definition_1=require(a29_0x426ce7(0x10b)),nas_1=require(a29_0x426ce7(0x138)),path=__importStar(require(a29_0x426ce7(0x122))),fs=__importStar(require(a29_0x426ce7(0x131))),file_1=require(a29_0x426ce7(0x154)),sysLibs=[a29_0x426ce7(0x15d),a29_0x426ce7(0x13c),'/usr/lib/x86_64-linux-gnu',a29_0x426ce7(0x114),a29_0x426ce7(0x143),a29_0x426ce7(0x141),a29_0x426ce7(0x157),a29_0x426ce7(0x118)],fcLibs=['/code','/code/lib',a29_0x426ce7(0x15d)],sysPaths=[a29_0x426ce7(0x10f),a29_0x426ce7(0x13f),'/usr/bin',a29_0x426ce7(0x117),'/sbin',a29_0x426ce7(0x134)],fcPaths=['/code','/code/node_modules/.bin'],pythonPaths=['/python/lib/python2.7/site-packages',a29_0x426ce7(0x118)],funPaths=[a29_0x426ce7(0x162),a29_0x426ce7(0x148)];function addInstallTargetEnv(_0x516e65,_0x177997){var _0x391c33=a29_0x426ce7,_0x1ec6ea=Object['assign']({},_0x516e65);if(!_0x177997)return _0x1ec6ea;return _[_0x391c33(0x123)](_0x177997,function(_0x5c2b8c){var _0xa4deea=_0x391c33,_0x51444a=_0x5c2b8c[_0xa4deea(0x139)],_0x5e9513=_0x51444a,_0x8fa73c=pythonPaths['map'](function(_0x3bee03){return''+_0x5e9513+_0x3bee03;})[_0xa4deea(0x161)](':');_0x1ec6ea[_0xa4deea(0x11a)]?_0x1ec6ea['PYTHONPATH']=_0x1ec6ea[_0xa4deea(0x11a)]+':'+_0x8fa73c:_0x1ec6ea[_0xa4deea(0x11a)]=_0x8fa73c;}),_0x1ec6ea;}exports[a29_0x426ce7(0x155)]=addInstallTargetEnv;function resolveLibPathsFromLdConf(_0x6dad7f,_0x49a78e){return __awaiter(this,void 0x0,void 0x0,function(){var _0x32ad37,_0x1d8631,_0x39dbe8,_0x1e9d2b;return __generator(this,function(_0x5d0d82){var _0x1c3c3f=a29_0x488c;switch(_0x5d0d82[_0x1c3c3f(0x146)]){case 0x0:_0x32ad37={};if(!_0x49a78e)return[0x2,_0x32ad37];_0x1d8631=path['resolve'](_0x6dad7f,_0x49a78e,_0x1c3c3f(0x15a));return[0x4,fs[_0x1c3c3f(0x109)](_0x1d8631)];case 0x1:if(!_0x5d0d82[_0x1c3c3f(0x132)]())return[0x2,_0x32ad37];return[0x4,fs[_0x1c3c3f(0x14b)](_0x1d8631)];case 0x2:_0x39dbe8=_0x5d0d82['sent']();if(_0x39dbe8['isFile']())return[0x2,_0x32ad37];return[0x4,resolveLibPaths(_0x1d8631)];case 0x3:_0x1e9d2b=_0x5d0d82[_0x1c3c3f(0x132)]();!_[_0x1c3c3f(0x121)](_0x1e9d2b)&&(_0x32ad37[_0x1c3c3f(0x14a)]=_0x1e9d2b[_0x1c3c3f(0x14d)](function(_0x22449c){var _0xadc58=_0x1c3c3f;return _0xadc58(0x10d)+_0x22449c;})[_0x1c3c3f(0x161)](':'));return[0x2,_0x32ad37];}});});}exports[a29_0x426ce7(0x149)]=resolveLibPathsFromLdConf;function resolveLibPaths(_0x5801d8){return __awaiter(this,void 0x0,void 0x0,function(){var _0x495e30,_0x73dbe7=this;return __generator(this,function(_0x699564){var _0x4484ff=a29_0x488c;switch(_0x699564['label']){case 0x0:if(!fs['existsSync'](_0x5801d8))return[0x2,[]];return[0x4,Promise[_0x4484ff(0x156)](fs['readdirSync'](_0x5801d8,'utf-8')['filter'](function(_0xa9845d){var _0x7d7a12=_0x4484ff;return _0xa9845d[_0x7d7a12(0x144)](_0x7d7a12(0x145));})[_0x4484ff(0x14d)](function(_0x2e7c2e){return __awaiter(_0x73dbe7,void 0x0,void 0x0,function(){return __generator(this,function(_0x4903bb){var _0x404440=a29_0x488c;switch(_0x4903bb[_0x404440(0x146)]){case 0x0:return[0x4,file_1[_0x404440(0x158)](path[_0x404440(0x161)](_0x5801d8,_0x2e7c2e))];case 0x1:return[0x2,_0x4903bb[_0x404440(0x132)]()];}});});}))];case 0x1:_0x495e30=_0x699564[_0x4484ff(0x132)]();return[0x2,_[_0x4484ff(0x153)](_0x495e30)[_0x4484ff(0x11c)](function(_0x1d3970,_0x5362f4){var _0x27185d=_0x4484ff,_0x42218f=_0x5362f4[_0x27185d(0x13e)](/^\s*(\/.*)\s*$/);return _0x42218f&&_0x42218f[0x1][_0x27185d(0x11d)]('/')&&_0x1d3970[_0x27185d(0x15e)](_0x42218f[0x1]),_0x1d3970;},[])];}});});}function addEnv(_0x18c433,_0x32a1a6){var _0x5245a6=a29_0x426ce7,_0x1488b9=Object[_0x5245a6(0x15c)]({},_0x18c433),_0x5d5285=_0x5245a6(0x11e);_0x1488b9[_0x5245a6(0x14a)]=generateLibPath(_0x1488b9,_0x5d5285),_0x1488b9[_0x5245a6(0x15b)]=generatePath(_0x1488b9,_0x5d5285),_0x1488b9[_0x5245a6(0x108)]=generateNodePaths(_0x1488b9,'/code');var _0x2ffca1=_0x5d5285+_0x5245a6(0x12b);!_0x1488b9[_0x5245a6(0x119)]&&(_0x1488b9[_0x5245a6(0x119)]=_0x2ffca1);if(_0x32a1a6)return appendNasEnvs(_0x1488b9,_0x32a1a6);return _0x1488b9;}exports[a29_0x426ce7(0x12f)]=addEnv;function appendNasEnvs(_0x3f88c9,_0x3c0240){var _0x5429c4=a29_0x426ce7,_0x2524be=definition_1[_0x5429c4(0x13d)](_0x3c0240),_0x5e6743;if(_0x2524be){var _0x3da29a=_0x5429c4(0x127);_0x5e6743=appendNasMountPointEnv(_0x3f88c9,_0x3da29a);}else{if(typeof _0x3c0240!=='string'){var _0x3c1e2c=_0x3c0240[_0x5429c4(0x12a)];_[_0x5429c4(0x123)](_0x3c1e2c,function(_0x339568){var _0x224697=_0x5429c4,_0x79baa1=nas_1[_0x224697(0x152)](_0x339568)[_0x224697(0x116)];_0x5e6743=appendNasMountPointEnv(_0x3f88c9,_0x79baa1);});}}return _0x5e6743;}function appendNasMountPointEnv(_0x7ec089,_0x58691b){var _0x5c16cd=a29_0x426ce7;_0x7ec089['LD_LIBRARY_PATH']=generateLibPath(_0x7ec089,_0x58691b),_0x7ec089['PATH']=generatePath(_0x7ec089,_0x58691b),_0x7ec089[_0x5c16cd(0x108)]=generateNodePaths(_0x7ec089,_0x58691b);var _0x48d9dd=generatePythonPaths(_0x58691b);return _0x7ec089[_0x5c16cd(0x11a)]?_0x7ec089['PYTHONPATH']=_0x7ec089[_0x5c16cd(0x11a)]+':'+_0x48d9dd:_0x7ec089['PYTHONPATH']=_0x48d9dd,_0x7ec089;}function generatePythonPaths(_0xa0d3d9){var _0x592b15=a29_0x426ce7;return pythonPaths[_0x592b15(0x14d)](function(_0x5c93f9){return''+_0xa0d3d9+_0x5c93f9;})['join'](':');}function generateNodePaths(_0x18fa3d,_0x505300){var _0x8accc0=a29_0x426ce7,_0x3bde17=_0x8accc0(0x150),_0x552164=_0x505300+_0x8accc0(0x12d),_0x4bb2eb;return _0x18fa3d[_0x8accc0(0x108)]?_0x4bb2eb=_0x18fa3d[_0x8accc0(0x108)]+':'+_0x552164+':'+_0x3bde17:_0x4bb2eb=_0x552164+':'+_0x3bde17,duplicateRemoval(_0x4bb2eb);}function generateLibPath(_0x16d4d0,_0x278af4){var _0x30ec21=a29_0x426ce7,_0x49f15b=_['union'](sysLibs[_0x30ec21(0x14d)](function(_0xf835e7){var _0x37a5a3=_0x30ec21;return _0x278af4+_0x37a5a3(0x147)+_0xf835e7;}),fcLibs)[_0x30ec21(0x161)](':');return _0x16d4d0['LD_LIBRARY_PATH']&&(_0x49f15b=_0x16d4d0[_0x30ec21(0x14a)]+':'+_0x49f15b),duplicateRemoval(_0x49f15b);}function generatePath(_0x43bdcd,_0x25e0f7){var _0x4bb9c0=a29_0x426ce7,_0x4a2628=_[_0x4bb9c0(0x12e)](sysPaths['map'](function(_0x522d9b){var _0x41e185=_0x4bb9c0;return _0x25e0f7+_0x41e185(0x147)+_0x522d9b;}),fcPaths,funPaths[_0x4bb9c0(0x14d)](function(_0x46ef23){return''+_0x25e0f7+_0x46ef23;}),sysPaths)[_0x4bb9c0(0x161)](':');return _0x43bdcd[_0x4bb9c0(0x15b)]&&(_0x4a2628=_0x43bdcd[_0x4bb9c0(0x15b)]+':'+_0x4a2628),duplicateRemoval(_0x4a2628);}function duplicateRemoval(_0x133337){var _0x25b716=a29_0x426ce7,_0x4f27b0=_0x133337[_0x25b716(0x151)](':');return _[_0x25b716(0x12e)](_0x4f27b0)['join'](':');}