'use strict';var a31_0x1c5b=['./invoke','unzippedCodeDir','Detecting\x20code\x20changes\x20and\x20Restarting\x20funtion\x20container...','__proto__','AccountID','dockerUser','1QFvfwH','exec','Reloading\x20success,\x20stopping\x20old\x20function\x20container...','Restart\x20function\x20container\x20timeout\x20after\x20300s!Please\x20check\x20if\x20docker\x20runs\x20normally,\x20then\x20runs\x20\x27clean\x27\x20method\x20and\x20try\x20\x27setup\x27\x20again.','Function\x20container\x20starts\x20failed\x20because\x20proxy\x20container\x20is\x20not\x20running','default','../../../common/logger','succeed','8957nLepox','stop','generateRamdomContainerName','Kill\x20function\x20container\x20successfully','debugPort','Kill\x20old\x20container\x20successfully','initWatch','dockerode','info','15cooLbb','../../utils/devs','label','Kill\x20function\x20container\x20failed,\x20error:\x20','serviceConfig','2cpwrom','curl','sync','Server\x20in\x20function\x20container\x20is\x20up!','containerId','sent','../../utils/runtime','create','throw','startContainer','stderr','getInvokeContainerIdFromState','creds','region','is\x20up','error','__setModuleDefault','stdout','209927GxgWTx','Stop\x20function\x20container\x20failed.','isCustomContainerRuntime','function','message','sessionId','../../retry','../../utils/state','\x0aFunction\x20container\x20starts\x20failed.Start\x20cleaning\x20now.','Kill\x20old\x20container\x20failed,\x20please\x20kill\x20it\x20manually.','generateDockerCmd','pop','length',',\x20auto\x20reloading...','value','check','baseDir','../../component/stdout-formatter','server\x20in\x20function\x20container','functionName','initAndStartRunner','__esModule','unsetInvokeContainerId','generateDockerEnvs','functionConfig','Stop\x20function\x20container\x20failed,\x20please\x20stop\x20it\x20manually.','promiseRetry','Stop\x20function\x20container\x20error:\x20','isIgnored','Stop\x20function\x20container\x20failed,\x20error:\x20','runtime','defineProperty','../../docker/docker-opts','constructor','stopContainer','@serverless-devs/core','__importDefault','__extends','retry','2345668YGxDzX','genStateId','runner','return','imageName','caPort','checking\x20server\x20in\x20function\x20container','init','592630EmLTNX','clean','temp_params','__generator','__createBinding','trys','127.0.0.1:9000','dev-null','Stop\x20old\x20function\x20container\x20successfully','getContainer','codeUri','../../utils/process','__importStar','\x20successfully.\x0a','cleanUnzippedCodeDir','_disableRunner','env','210096QtpstO','Killing\x20old\x20container...','serviceName','push','debug','containerName','watcher','detect\x20code\x20changes,\x20but\x20no\x20runner\x20found,\x20starting....','node-watch','function\x20container','call','Received\x20canncel\x20request,\x20stopping\x20running\x20function\x20container...','ops','Restart\x20function\x20container\x20failed!','tunnelService','_startRunner','fail','mounts','spinner','kill','rimraf','apply','prototype','hasOwnProperty','generateLocalStartOpts','is\x20up.','saveInvokeContainerId','sleep',',\x20event\x20is\x20','includes','1028370NvHoIz','then','stdoutFormatter','Generator\x20is\x20already\x20executing.','log','Function\x20container\x20starts\x20failed\x20because\x20proxy\x20container\x20is\x20not\x20running,\x20please\x20retry\x20\x27setup\x27\x20method.','../../docker/docker','Detect\x20code\x20changes,\x20file\x20is\x20','setDebugIdeConfig','Checking\x20server\x20in\x20function\x20container\x20failed,\x20error:\x20','setKVInState','693191DZIpEO','next','--debug'];var a31_0x29cd58=a31_0x5929;(function(_0x2e2fe9,_0x1a1234){var _0x474de7=a31_0x5929;while(!![]){try{var _0x2ab8de=-parseInt(_0x474de7(0x13f))*parseInt(_0x474de7(0xed))+-parseInt(_0x474de7(0xe8))*-parseInt(_0x474de7(0xdf))+-parseInt(_0x474de7(0xce))+-parseInt(_0x474de7(0x12e))*-parseInt(_0x474de7(0xd7))+-parseInt(_0x474de7(0xff))+-parseInt(_0x474de7(0xc3))+parseInt(_0x474de7(0x126));if(_0x2ab8de===_0x1a1234)break;else _0x2e2fe9['push'](_0x2e2fe9['shift']());}catch(_0x380665){_0x2e2fe9['push'](_0x2e2fe9['shift']());}}}(a31_0x1c5b,0xb004d));function a31_0x5929(_0x39c752,_0xee2fa5){return a31_0x5929=function(_0x1c5bf9,_0x592912){_0x1c5bf9=_0x1c5bf9-0xb3;var _0x2712a5=a31_0x1c5b[_0x1c5bf9];return _0x2712a5;},a31_0x5929(_0x39c752,_0xee2fa5);}var __extends=this&&this[a31_0x29cd58(0x124)]||function(){var _0x489337=function(_0x49092f,_0x59231c){return _0x489337=Object['setPrototypeOf']||{'__proto__':[]}instanceof Array&&function(_0x2b25aa,_0x5cc44b){var _0x55a0e7=a31_0x5929;_0x2b25aa[_0x55a0e7(0xd4)]=_0x5cc44b;}||function(_0xe62762,_0x272c65){var _0x35d3f5=a31_0x5929;for(var _0x6a635a in _0x272c65)if(_0x272c65[_0x35d3f5(0xbc)](_0x6a635a))_0xe62762[_0x6a635a]=_0x272c65[_0x6a635a];},_0x489337(_0x49092f,_0x59231c);};return function(_0x379f58,_0x422d60){var _0x195af4=a31_0x5929;_0x489337(_0x379f58,_0x422d60);function _0x303b89(){var _0x3109c6=a31_0x5929;this[_0x3109c6(0x120)]=_0x379f58;}_0x379f58[_0x195af4(0xbb)]=_0x422d60===null?Object[_0x195af4(0xf4)](_0x422d60):(_0x303b89[_0x195af4(0xbb)]=_0x422d60[_0x195af4(0xbb)],new _0x303b89());};}(),__createBinding=this&&this[a31_0x29cd58(0x132)]||(Object['create']?function(_0x3001be,_0x58cc75,_0x498058,_0x41e0f7){var _0x57e574=a31_0x29cd58;if(_0x41e0f7===undefined)_0x41e0f7=_0x498058;Object[_0x57e574(0x11e)](_0x3001be,_0x41e0f7,{'enumerable':!![],'get':function(){return _0x58cc75[_0x498058];}});}:function(_0x1892ae,_0x163751,_0x4d7056,_0x3e4e5c){if(_0x3e4e5c===undefined)_0x3e4e5c=_0x4d7056;_0x1892ae[_0x3e4e5c]=_0x163751[_0x4d7056];}),__setModuleDefault=this&&this[a31_0x29cd58(0xfd)]||(Object[a31_0x29cd58(0xf4)]?function(_0xd139a2,_0xa4b191){var _0x2ef3c3=a31_0x29cd58;Object[_0x2ef3c3(0x11e)](_0xd139a2,_0x2ef3c3(0xdc),{'enumerable':!![],'value':_0xa4b191});}:function(_0x30ae1b,_0x85c3db){var _0xbac5d4=a31_0x29cd58;_0x30ae1b[_0xbac5d4(0xdc)]=_0x85c3db;}),__importStar=this&&this[a31_0x29cd58(0x13a)]||function(_0x171d83){var _0x41ce8c=a31_0x29cd58;if(_0x171d83&&_0x171d83[_0x41ce8c(0x114)])return _0x171d83;var _0x3ffcba={};if(_0x171d83!=null){for(var _0x11b04b in _0x171d83)if(_0x11b04b!==_0x41ce8c(0xdc)&&Object['hasOwnProperty'][_0x41ce8c(0x149)](_0x171d83,_0x11b04b))__createBinding(_0x3ffcba,_0x171d83,_0x11b04b);}return __setModuleDefault(_0x3ffcba,_0x171d83),_0x3ffcba;},__awaiter=this&&this['__awaiter']||function(_0x59c7f1,_0x489e9a,_0xcccf6e,_0x4f9791){function _0x2a8351(_0x4789a9){return _0x4789a9 instanceof _0xcccf6e?_0x4789a9:new _0xcccf6e(function(_0xf8c233){_0xf8c233(_0x4789a9);});}return new(_0xcccf6e||(_0xcccf6e=Promise))(function(_0x5988de,_0x1b203b){var _0x38b4ca=a31_0x5929;function _0x159032(_0x2f761b){var _0x1cdad3=a31_0x5929;try{_0x3595bb(_0x4f9791[_0x1cdad3(0xcf)](_0x2f761b));}catch(_0x328c7b){_0x1b203b(_0x328c7b);}}function _0x11ceda(_0x489dde){var _0x4fa9b6=a31_0x5929;try{_0x3595bb(_0x4f9791[_0x4fa9b6(0xf5)](_0x489dde));}catch(_0x172d86){_0x1b203b(_0x172d86);}}function _0x3595bb(_0x2da8f8){var _0x33250f=a31_0x5929;_0x2da8f8['done']?_0x5988de(_0x2da8f8['value']):_0x2a8351(_0x2da8f8[_0x33250f(0x10d)])[_0x33250f(0xc4)](_0x159032,_0x11ceda);}_0x3595bb((_0x4f9791=_0x4f9791[_0x38b4ca(0xba)](_0x59c7f1,_0x489e9a||[]))[_0x38b4ca(0xcf)]());});},__generator=this&&this[a31_0x29cd58(0x131)]||function(_0x3f2ed3,_0x91c30b){var _0x44227e=a31_0x29cd58,_0x4e3b5a={'label':0x0,'sent':function(){if(_0x4bc6b2[0x0]&0x1)throw _0x4bc6b2[0x1];return _0x4bc6b2[0x1];},'trys':[],'ops':[]},_0x3d0acd,_0x461d6e,_0x4bc6b2,_0x1acf83;return _0x1acf83={'next':_0x4104fd(0x0),'throw':_0x4104fd(0x1),'return':_0x4104fd(0x2)},typeof Symbol===_0x44227e(0x102)&&(_0x1acf83[Symbol['iterator']]=function(){return this;}),_0x1acf83;function _0x4104fd(_0x2d6066){return function(_0xbe2f2b){return _0x5e6219([_0x2d6066,_0xbe2f2b]);};}function _0x5e6219(_0x4ba582){var _0x5bccc5=_0x44227e;if(_0x3d0acd)throw new TypeError(_0x5bccc5(0xc6));while(_0x4e3b5a)try{if(_0x3d0acd=0x1,_0x461d6e&&(_0x4bc6b2=_0x4ba582[0x0]&0x2?_0x461d6e[_0x5bccc5(0x129)]:_0x4ba582[0x0]?_0x461d6e['throw']||((_0x4bc6b2=_0x461d6e[_0x5bccc5(0x129)])&&_0x4bc6b2[_0x5bccc5(0x149)](_0x461d6e),0x0):_0x461d6e[_0x5bccc5(0xcf)])&&!(_0x4bc6b2=_0x4bc6b2['call'](_0x461d6e,_0x4ba582[0x1]))['done'])return _0x4bc6b2;if(_0x461d6e=0x0,_0x4bc6b2)_0x4ba582=[_0x4ba582[0x0]&0x2,_0x4bc6b2[_0x5bccc5(0x10d)]];switch(_0x4ba582[0x0]){case 0x0:case 0x1:_0x4bc6b2=_0x4ba582;break;case 0x4:_0x4e3b5a[_0x5bccc5(0xea)]++;return{'value':_0x4ba582[0x1],'done':![]};case 0x5:_0x4e3b5a[_0x5bccc5(0xea)]++,_0x461d6e=_0x4ba582[0x1],_0x4ba582=[0x0];continue;case 0x7:_0x4ba582=_0x4e3b5a[_0x5bccc5(0x14b)][_0x5bccc5(0x10a)](),_0x4e3b5a[_0x5bccc5(0x133)][_0x5bccc5(0x10a)]();continue;default:if(!(_0x4bc6b2=_0x4e3b5a[_0x5bccc5(0x133)],_0x4bc6b2=_0x4bc6b2[_0x5bccc5(0x10b)]>0x0&&_0x4bc6b2[_0x4bc6b2[_0x5bccc5(0x10b)]-0x1])&&(_0x4ba582[0x0]===0x6||_0x4ba582[0x0]===0x2)){_0x4e3b5a=0x0;continue;}if(_0x4ba582[0x0]===0x3&&(!_0x4bc6b2||_0x4ba582[0x1]>_0x4bc6b2[0x0]&&_0x4ba582[0x1]<_0x4bc6b2[0x3])){_0x4e3b5a[_0x5bccc5(0xea)]=_0x4ba582[0x1];break;}if(_0x4ba582[0x0]===0x6&&_0x4e3b5a['label']<_0x4bc6b2[0x1]){_0x4e3b5a['label']=_0x4bc6b2[0x1],_0x4bc6b2=_0x4ba582;break;}if(_0x4bc6b2&&_0x4e3b5a[_0x5bccc5(0xea)]<_0x4bc6b2[0x2]){_0x4e3b5a[_0x5bccc5(0xea)]=_0x4bc6b2[0x2],_0x4e3b5a['ops'][_0x5bccc5(0x142)](_0x4ba582);break;}if(_0x4bc6b2[0x2])_0x4e3b5a['ops'][_0x5bccc5(0x10a)]();_0x4e3b5a[_0x5bccc5(0x133)][_0x5bccc5(0x10a)]();continue;}_0x4ba582=_0x91c30b[_0x5bccc5(0x149)](_0x3f2ed3,_0x4e3b5a);}catch(_0x45606c){_0x4ba582=[0x6,_0x45606c],_0x461d6e=0x0;}finally{_0x3d0acd=_0x4bc6b2=0x0;}if(_0x4ba582[0x0]&0x5)throw _0x4ba582[0x1];return{'value':_0x4ba582[0x0]?_0x4ba582[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a31_0x29cd58(0x123)]||function(_0x1a4595){return _0x1a4595&&_0x1a4595['__esModule']?_0x1a4595:{'default':_0x1a4595};};Object['defineProperty'](exports,a31_0x29cd58(0x114),{'value':!![]});var node_watch_1=__importDefault(require(a31_0x29cd58(0x147))),rimraf=__importStar(require(a31_0x29cd58(0xb9))),ignore_1=require('../ignore'),invoke_1=__importDefault(require(a31_0x29cd58(0xd1))),docker=__importStar(require(a31_0x29cd58(0xc9))),dockerOpts=__importStar(require(a31_0x29cd58(0x11f))),dockerode_1=__importDefault(require(a31_0x29cd58(0xe6))),runtime_1=require(a31_0x29cd58(0xf3)),logger_1=__importDefault(require(a31_0x29cd58(0xdd))),definition_1=require('../../definition'),time_1=require('../../utils/time'),process_1=require(a31_0x29cd58(0x139)),devs_1=require(a31_0x29cd58(0xe9)),retry_1=require(a31_0x29cd58(0x105)),core=__importStar(require(a31_0x29cd58(0x122))),stdout_formatter_1=__importDefault(require(a31_0x29cd58(0x110))),state_1=require(a31_0x29cd58(0x106)),dev_null_1=__importDefault(require(a31_0x29cd58(0x135))),dockerClient=new dockerode_1[(a31_0x29cd58(0xdc))](),HttpInvoke=function(_0x5cf56e){var _0x201a8f=a31_0x29cd58;__extends(_0x350a95,_0x5cf56e);function _0x350a95(_0x36786d,_0x21c536,_0xc6d904,_0x346ee0,_0x13709d,_0x25a422,_0x162768,_0x15bd15,_0x4bcd14,_0x5440b5,_0x229cf3,_0x147a09,_0x3b8138,_0x1c2f3b){var _0x32ce17=a31_0x5929,_0x2662d4=_0x5cf56e[_0x32ce17(0x149)](this,_0x36786d,_0x21c536,_0xc6d904,_0x346ee0,_0x13709d,_0x25a422,_0x162768,_0x15bd15,_0x4bcd14,_0x5440b5,_0x229cf3,_0x147a09,_0x3b8138,_0x1c2f3b)||this;return process_1['setSigint'](),process['on']('SIGINT',function(){return __awaiter(_0x2662d4,void 0x0,void 0x0,function(){var _0x1ae089,_0x2ad7c7,_0x1a6d76,_0x53fb1c,_0x2dbd40;return __generator(this,function(_0x1028f0){var _0x17246e=a31_0x5929;switch(_0x1028f0['label']){case 0x0:this[_0x17246e(0x145)]&&this[_0x17246e(0x145)]['close']();this[_0x17246e(0x13c)]();if(!this[_0x17246e(0x128)])return[0x3,0xa];_0x1ae089=core[_0x17246e(0xb7)](_0x17246e(0x14a)),_0x1028f0['label']=0x1;case 0x1:_0x1028f0[_0x17246e(0x133)][_0x17246e(0x142)]([0x1,0x3,,0x8]);return[0x4,this[_0x17246e(0x128)][_0x17246e(0xe0)]()];case 0x2:_0x1028f0[_0x17246e(0xf2)](),_0x1ae089[_0x17246e(0xde)]('Stop\x20function\x20container\x20successfully');return[0x3,0x8];case 0x3:_0x2ad7c7=_0x1028f0['sent'](),_0x1ae089['fail'](_0x17246e(0x100)),logger_1[_0x17246e(0xdc)][_0x17246e(0x143)]('Stop\x20function\x20container\x20failed,\x20error:\x20'+_0x2ad7c7),_0x1a6d76=core[_0x17246e(0xb7)](_0x17246e(0x140)),_0x1028f0['label']=0x4;case 0x4:_0x1028f0[_0x17246e(0x133)]['push']([0x4,0x6,,0x7]);return[0x4,this[_0x17246e(0x128)][_0x17246e(0xb8)]()];case 0x5:_0x1028f0['sent'](),_0x1a6d76[_0x17246e(0xde)](_0x17246e(0xe2));return[0x3,0x7];case 0x6:_0x53fb1c=_0x1028f0['sent'](),_0x1a6d76['fail']('Kill\x20old\x20container\x20failed,\x20please\x20kill\x20it\x20manually.'),logger_1[_0x17246e(0xdc)][_0x17246e(0x143)](_0x17246e(0xeb)+_0x53fb1c);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x4,state_1[_0x17246e(0x115)]((_0x2dbd40=this[_0x17246e(0xf9)])===null||_0x2dbd40===void 0x0?void 0x0:_0x2dbd40[_0x17246e(0xd5)],this['region'],this[_0x17246e(0x141)],this[_0x17246e(0x112)])];case 0x9:_0x1028f0[_0x17246e(0xf2)](),_0x1028f0[_0x17246e(0xea)]=0xa;case 0xa:if(!this['tunnelService'])return[0x3,0xc];return[0x4,this['tunnelService'][_0x17246e(0x12f)]()];case 0xb:_0x1028f0['sent'](),_0x1028f0[_0x17246e(0xea)]=0xc;case 0xc:return[0x2];}});});}),_0x2662d4;}return _0x350a95[_0x201a8f(0xbb)]['_disableRunner']=function(_0x32fe03,_0x45c6d3){var _0x2cd60a;return __awaiter(this,void 0x0,void 0x0,function(){var _0x145512,_0x22715f,_0x103c19,_0x18c092,_0x4a6adf,_0x3c399b;return __generator(this,function(_0x2effb0){var _0x202ac6=a31_0x5929;switch(_0x2effb0['label']){case 0x0:if(!this[_0x202ac6(0x128)])return[0x2];logger_1[_0x202ac6(0xdc)]['info'](_0x202ac6(0xca)+_0x45c6d3+_0x202ac6(0xc1)+_0x32fe03+_0x202ac6(0x10c)),_0x145512=this[_0x202ac6(0x128)],_0x22715f=this[_0x202ac6(0xd2)],this[_0x202ac6(0x128)]=null;return[0x4,this[_0x202ac6(0x12d)]()];case 0x1:_0x2effb0['sent']();return[0x4,time_1[_0x202ac6(0xc0)](0x1f4)];case 0x2:_0x2effb0[_0x202ac6(0xf2)](),_0x103c19=core[_0x202ac6(0xb7)](_0x202ac6(0xd9)),_0x2effb0['label']=0x3;case 0x3:_0x2effb0[_0x202ac6(0x133)]['push']([0x3,0x5,,0xa]);return[0x4,_0x145512[_0x202ac6(0xe0)]()];case 0x4:_0x2effb0[_0x202ac6(0xf2)](),_0x103c19[_0x202ac6(0xde)](_0x202ac6(0x136));return[0x3,0xa];case 0x5:_0x18c092=_0x2effb0[_0x202ac6(0xf2)](),_0x103c19[_0x202ac6(0xb5)](_0x202ac6(0x100)),logger_1[_0x202ac6(0xdc)][_0x202ac6(0x143)](_0x202ac6(0x11c)+_0x18c092),_0x4a6adf=core[_0x202ac6(0xb7)](_0x202ac6(0x140)),_0x2effb0['label']=0x6;case 0x6:_0x2effb0[_0x202ac6(0x133)][_0x202ac6(0x142)]([0x6,0x8,,0x9]);return[0x4,_0x145512[_0x202ac6(0xb8)]()];case 0x7:_0x2effb0[_0x202ac6(0xf2)](),_0x4a6adf[_0x202ac6(0xde)](_0x202ac6(0xe4));return[0x3,0x9];case 0x8:_0x3c399b=_0x2effb0[_0x202ac6(0xf2)](),_0x4a6adf[_0x202ac6(0xb5)](_0x202ac6(0x108)),logger_1[_0x202ac6(0xdc)][_0x202ac6(0x143)](_0x202ac6(0xeb)+_0x3c399b);return[0x3,0x9];case 0x9:return[0x3,0xa];case 0xa:return[0x4,state_1[_0x202ac6(0x115)]((_0x2cd60a=this['creds'])===null||_0x2cd60a===void 0x0?void 0x0:_0x2cd60a[_0x202ac6(0xd5)],this[_0x202ac6(0xfa)],this[_0x202ac6(0x141)],this[_0x202ac6(0x112)])];case 0xb:_0x2effb0[_0x202ac6(0xf2)]();_0x22715f&&(rimraf[_0x202ac6(0xef)](_0x22715f),logger_1[_0x202ac6(0xdc)][_0x202ac6(0xe7)]('Clean\x20tmp\x20code\x20dir\x20'+_0x22715f+_0x202ac6(0x13b)));return[0x2];}});});},_0x350a95[_0x201a8f(0xbb)]['_startRunner']=function(){var _0x5cbeab,_0x5e599a;return __awaiter(this,void 0x0,void 0x0,function(){var _0x460aae,_0x2d462a,_0x225530,_0x52a933,_0x3bdebf,_0xcf163b,_0x40a0b2,_0x2c7cea=this;return __generator(this,function(_0x33e651){var _0x2df151=a31_0x5929;switch(_0x33e651['label']){case 0x0:_0x460aae=this[_0x2df151(0xb3)];if(!_0x460aae)return[0x3,0x2];return[0x4,this[_0x2df151(0xb3)]['checkIfProxyContainerRunning']()];case 0x1:_0x460aae=!_0x33e651[_0x2df151(0xf2)](),_0x33e651[_0x2df151(0xea)]=0x2;case 0x2:if(!_0x460aae)return[0x3,0x5];console[_0x2df151(0xc7)](),logger_1['default'][_0x2df151(0xfc)](_0x2df151(0x107));if(!this['tunnelService'])return[0x3,0x4];return[0x4,this[_0x2df151(0xb3)]['clean']()];case 0x3:_0x33e651[_0x2df151(0xf2)](),_0x33e651[_0x2df151(0xea)]=0x4;case 0x4:throw new Error(_0x2df151(0xc8));case 0x5:return[0x4,docker[_0x2df151(0x116)](this[_0x2df151(0xf9)],this['region'],this['baseDir'],this[_0x2df151(0x141)],this[_0x2df151(0xec)],this[_0x2df151(0x112)],this[_0x2df151(0x117)],this[_0x2df151(0xe3)],null,this['nasConfig'],this['debugIde'],this['debugArgs'])];case 0x6:_0x2d462a=_0x33e651[_0x2df151(0xf2)](),_0x225530=docker[_0x2df151(0x109)](this[_0x2df151(0x11d)],!![],this[_0x2df151(0x117)]),_0x52a933=definition_1['genProxyContainerName'](this[_0x2df151(0x104)]),this[_0x2df151(0x144)]=docker[_0x2df151(0xe1)]();return[0x4,dockerOpts[_0x2df151(0xbd)](_0x52a933,this['runtime'],this[_0x2df151(0x144)],this[_0x2df151(0xb6)],_0x225530,_0x2d462a,{'debugPort':this[_0x2df151(0xe3)],'dockerUser':this[_0x2df151(0xd6)],'imageName':this[_0x2df151(0x12a)],'caPort':this[_0x2df151(0x117)][_0x2df151(0x12b)]})];case 0x7:_0x3bdebf=_0x33e651[_0x2df151(0xf2)](),_0xcf163b=this;return[0x4,docker[_0x2df151(0xf6)](_0x3bdebf,process[_0x2df151(0xfe)],process[_0x2df151(0xf7)],{'serviceName':this[_0x2df151(0x141)],'functionName':this[_0x2df151(0x112)]})];case 0x8:_0xcf163b[_0x2df151(0x128)]=_0x33e651['sent']();return[0x4,this[_0x2df151(0xbf)]()];case 0x9:_0x33e651['sent'](),_0x40a0b2=(_0x5e599a=(_0x5cbeab=process[_0x2df151(0x13e)])===null||_0x5cbeab===void 0x0?void 0x0:_0x5cbeab[_0x2df151(0x130)])===null||_0x5e599a===void 0x0?void 0x0:_0x5e599a[_0x2df151(0xc2)](_0x2df151(0xd0)),logger_1['default']['info'](stdout_formatter_1[_0x2df151(0xdc)]['stdoutFormatter'][_0x2df151(0x10e)](_0x2df151(0x111),_0x2df151(0xbe)));return[0x4,retry_1['promiseRetry'](function(_0x3866fd,_0x1327fb){return __awaiter(_0x2c7cea,void 0x0,void 0x0,function(){var _0x510e0a,_0x357f2c;return __generator(this,function(_0x196167){var _0x396bba=a31_0x5929;switch(_0x196167['label']){case 0x0:_0x196167[_0x396bba(0x133)][_0x396bba(0x142)]([0x0,0x3,,0x4]);return[0x4,time_1['sleep'](0x3e8)];case 0x1:_0x196167[_0x396bba(0xf2)]();return[0x4,this[_0x396bba(0x128)][_0x396bba(0xd8)]([_0x396bba(0xee),_0x396bba(0x134)],{'outputStream':_0x40a0b2?process['stdout']:dev_null_1[_0x396bba(0xdc)](),'errorStream':_0x40a0b2?process['stderr']:dev_null_1[_0x396bba(0xdc)]()})];case 0x2:_0x510e0a=_0x196167[_0x396bba(0xf2)]();if(_0x510e0a===0x0)return logger_1['default'][_0x396bba(0xe7)](_0x396bba(0xf0)),[0x2];logger_1[_0x396bba(0xdc)]['debug']('Server\x20is\x20not\x20up.\x20Result\x20is\x20:'+_0x510e0a),logger_1[_0x396bba(0xdc)][_0x396bba(0xe7)](stdout_formatter_1[_0x396bba(0xdc)][_0x396bba(0xc5)]['retry'](_0x396bba(0x12c),_0x396bba(0xfb),'',_0x1327fb)),_0x3866fd(_0x510e0a);return[0x3,0x4];case 0x3:_0x357f2c=_0x196167[_0x396bba(0xf2)](),logger_1['default'][_0x396bba(0x143)](_0x396bba(0xcc)+_0x357f2c),logger_1[_0x396bba(0xdc)][_0x396bba(0xe7)](stdout_formatter_1['default'][_0x396bba(0xc5)][_0x396bba(0x125)](_0x396bba(0x12c),'is\x20up','',_0x1327fb)),_0x3866fd(_0x357f2c);return[0x3,0x4];case 0x4:return[0x2];}});});},0x14)];case 0xa:_0x33e651[_0x2df151(0xf2)]();return[0x2];}});});},_0x350a95[_0x201a8f(0xbb)][_0x201a8f(0xbf)]=function(){var _0x329a39,_0x519c1a;return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0xa8e84d){var _0x5f0f4c=a31_0x5929;switch(_0xa8e84d[_0x5f0f4c(0xea)]){case 0x0:return[0x4,devs_1[_0x5f0f4c(0xcd)]('invokeContainerId',(_0x329a39=this[_0x5f0f4c(0x128)])===null||_0x329a39===void 0x0?void 0x0:_0x329a39[_0x5f0f4c(0xf1)],state_1[_0x5f0f4c(0x127)]((_0x519c1a=this[_0x5f0f4c(0xf9)])===null||_0x519c1a===void 0x0?void 0x0:_0x519c1a['AccountID'],this[_0x5f0f4c(0xfa)],this[_0x5f0f4c(0x141)],this['functionName']))];case 0x1:_0xa8e84d['sent']();return[0x2];}});});},_0x350a95[_0x201a8f(0xbb)][_0x201a8f(0xe5)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0xd94ae7,_0x5005ea,_0x36be64,_0x1fff8b=this;return __generator(this,function(_0x354a5d){var _0x14385f=a31_0x5929;switch(_0x354a5d[_0x14385f(0xea)]){case 0x0:if(!(!this['watcher']&&!runtime_1[_0x14385f(0x101)](this[_0x14385f(0x11d)])))return[0x3,0x2];return[0x4,ignore_1[_0x14385f(0x11b)](this[_0x14385f(0x10f)])];case 0x1:_0xd94ae7=_0x354a5d[_0x14385f(0xf2)](),_0x5005ea=![],_0x36be64=![],this[_0x14385f(0x145)]=node_watch_1[_0x14385f(0xdc)](this[_0x14385f(0x138)],{'recursive':!![],'persistent':![],'filter':function(_0x3fe5fc){return _0xd94ae7&&!_0xd94ae7(_0x3fe5fc);}},function(_0x1cff0f,_0x88f105){return __awaiter(_0x1fff8b,void 0x0,void 0x0,function(){var _0x2527bf,_0x409eb5,_0x532b6b,_0x559a6d=this;return __generator(this,function(_0x1128bd){var _0x4eb315=a31_0x5929;switch(_0x1128bd['label']){case 0x0:if(_0x5005ea)return[0x2];_0x2527bf=0x12c,_0x409eb5=0x0;if(!_0x36be64)return[0x3,0x7];_0x1128bd[_0x4eb315(0xea)]=0x1;case 0x1:if(!_0x36be64)return[0x3,0x7];if(_0x5005ea)return[0x2];return[0x4,time_1[_0x4eb315(0xc0)](0xbb8)];case 0x2:_0x1128bd[_0x4eb315(0xf2)](),_0x409eb5=_0x409eb5+0x3;if(!(_0x409eb5>_0x2527bf))return[0x3,0x6];return[0x4,this[_0x4eb315(0x12f)]()];case 0x3:_0x1128bd[_0x4eb315(0xf2)]();if(!this[_0x4eb315(0xb3)])return[0x3,0x5];return[0x4,this[_0x4eb315(0xb3)][_0x4eb315(0x12f)]()];case 0x4:_0x1128bd['sent'](),_0x1128bd[_0x4eb315(0xea)]=0x5;case 0x5:throw new Error(_0x4eb315(0xda));case 0x6:return[0x3,0x1];case 0x7:_0x5005ea=!![],_0x1128bd[_0x4eb315(0xea)]=0x8;case 0x8:_0x1128bd[_0x4eb315(0x133)][_0x4eb315(0x142)]([0x8,0xc,,0xd]);if(!this[_0x4eb315(0x128)])return[0x3,0xa];return[0x4,this[_0x4eb315(0x13d)](_0x1cff0f,_0x88f105)];case 0x9:_0x1128bd['sent']();return[0x3,0xb];case 0xa:logger_1[_0x4eb315(0xdc)][_0x4eb315(0x143)](_0x4eb315(0x146)),_0x1128bd[_0x4eb315(0xea)]=0xb;case 0xb:return[0x3,0xd];case 0xc:_0x532b6b=_0x1128bd['sent'](),logger_1[_0x4eb315(0xdc)]['warning'](_0x4eb315(0x118)),logger_1[_0x4eb315(0xdc)][_0x4eb315(0x143)](_0x4eb315(0x11a)+_0x532b6b);return[0x3,0xd];case 0xd:_0x36be64=!![],_0x5005ea=![],logger_1[_0x4eb315(0xdc)][_0x4eb315(0xe7)](_0x4eb315(0xd3));return[0x4,retry_1[_0x4eb315(0x119)](function(_0x21f39a,_0x2e6a82){return __awaiter(_0x559a6d,void 0x0,void 0x0,function(){var _0x18e631;return __generator(this,function(_0x525101){var _0x37d0e3=a31_0x5929;switch(_0x525101[_0x37d0e3(0xea)]){case 0x0:_0x525101[_0x37d0e3(0x133)]['push']([0x0,0x2,,0x4]);return[0x4,this[_0x37d0e3(0xb4)]()];case 0x1:_0x525101[_0x37d0e3(0xf2)](),logger_1[_0x37d0e3(0xdc)][_0x37d0e3(0xe7)]('Restart\x20function\x20container\x20succeed!\x20Please\x20try\x20\x27invoke\x27\x20again.');return[0x2];case 0x2:_0x18e631=_0x525101['sent'](),logger_1[_0x37d0e3(0xdc)][_0x37d0e3(0xfc)](_0x37d0e3(0x14c));if(_0x18e631===null||_0x18e631===void 0x0?void 0x0:_0x18e631[_0x37d0e3(0x103)]['includes'](_0x37d0e3(0xdb)))throw _0x18e631;logger_1[_0x37d0e3(0xdc)][_0x37d0e3(0x143)]('Restart\x20function\x20container\x20failed,\x20error\x20is:\x20\x0a'+_0x18e631),logger_1[_0x37d0e3(0xdc)]['info'](stdout_formatter_1[_0x37d0e3(0xdc)][_0x37d0e3(0xc5)][_0x37d0e3(0x125)](_0x37d0e3(0x148),'restart','',_0x2e6a82));return[0x4,time_1[_0x37d0e3(0xc0)](0x64)];case 0x3:_0x525101[_0x37d0e3(0xf2)](),_0x21f39a(_0x18e631);return[0x3,0x4];case 0x4:return[0x2];}});});})];case 0xe:_0x1128bd[_0x4eb315(0xf2)](),_0x36be64=![];return[0x2];}});});}),this[_0x14385f(0x145)]['on'](_0x14385f(0xfc),function(_0x943753){throw _0x943753;}),_0x354a5d[_0x14385f(0xea)]=0x2;case 0x2:return[0x2];}});});},_0x350a95[_0x201a8f(0xbb)][_0x201a8f(0x113)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x4a4b66){var _0x504ba2=a31_0x5929;switch(_0x4a4b66[_0x504ba2(0xea)]){case 0x0:return[0x4,this[_0x504ba2(0x12d)]()];case 0x1:_0x4a4b66[_0x504ba2(0xf2)]();return[0x4,this['_startRunner']()];case 0x2:_0x4a4b66[_0x504ba2(0xf2)]();return[0x4,this[_0x504ba2(0xe5)]()];case 0x3:_0x4a4b66['sent']();return[0x4,this[_0x504ba2(0xcb)]()];case 0x4:_0x4a4b66[_0x504ba2(0xf2)]();return[0x2];}});});},_0x350a95[_0x201a8f(0xbb)][_0x201a8f(0x12f)]=function(){var _0x497284,_0x28a938;return __awaiter(this,void 0x0,void 0x0,function(){var _0x143547,_0x48e3d4;return __generator(this,function(_0x287204){var _0xed7f25=a31_0x5929;switch(_0x287204[_0xed7f25(0xea)]){case 0x0:return[0x4,state_1[_0xed7f25(0xf8)]((_0x497284=this[_0xed7f25(0xf9)])===null||_0x497284===void 0x0?void 0x0:_0x497284['AccountID'],this['region'],this['serviceName'],this['functionName'])];case 0x1:_0x143547=_0x287204[_0xed7f25(0xf2)]();return[0x4,dockerClient[_0xed7f25(0x137)](_0x143547)];case 0x2:_0x48e3d4=_0x287204[_0xed7f25(0xf2)]();return[0x4,docker[_0xed7f25(0x121)](_0x48e3d4)];case 0x3:_0x287204[_0xed7f25(0xf2)]();return[0x4,state_1[_0xed7f25(0x115)]((_0x28a938=this[_0xed7f25(0xf9)])===null||_0x28a938===void 0x0?void 0x0:_0x28a938['AccountID'],this[_0xed7f25(0xfa)],this[_0xed7f25(0x141)],this[_0xed7f25(0x112)])];case 0x4:_0x287204[_0xed7f25(0xf2)]();return[0x2];}});});},_0x350a95;}(invoke_1[a31_0x29cd58(0xdc)]);exports[a31_0x29cd58(0xdc)]=HttpInvoke;