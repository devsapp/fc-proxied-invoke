'use strict';var a31_0x4369=['Stop\x20function\x20container\x20failed.','succeed','dockerode','../../docker/docker-opts','__generator','isCustomContainerRuntime','AccountID','702515DNXRwQ','isIgnored','containerName','close','apply','../ignore','sent','setPrototypeOf','node-watch','done','stop','prototype','constructor','genStateId','sleep','functionConfig','ops','1810358PBbdWR','Restart\x20function\x20container\x20succeed!Please\x20try\x20\x27invoke\x27\x20after\x20the\x20change\x20of\x20your\x20fc\x20function\x20completes.','../../utils/time','length','initWatch','Function\x20container\x20starts\x20failed\x20because\x20proxy\x20container\x20is\x20not\x20running','pop','Clean\x20tmp\x20code\x20dir\x20','message','Stop\x20function\x20container\x20failed,\x20please\x20stop\x20it\x20manually.','serviceConfig','unsetInvokeContainerId','setKVInState','1072786dxHdYS','imageName','cleanUnzippedCodeDir','Killing\x20old\x20container...','serviceName','../../utils/runtime','saveInvokeContainerId','Detecting\x20code\x20changes\x20and\x20Restarting\x20funtion\x20container...','Stop\x20function\x20container\x20failed,\x20error:\x20','__esModule','getInvokeContainerIdFromState','startContainer','_disableRunner','1123509vYLOPs','invokeContainerId','../../definition','value','../../retry','includes','info','1zMMTlw','setSigint','Kill\x20function\x20container\x20failed,\x20error:\x20','__createBinding','rimraf','Restart\x20function\x20container\x20timeout\x20after\x20300s!Please\x20check\x20if\x20docker\x20runs\x20normally,\x20then\x20runs\x20\x27clean\x27\x20method\x20and\x20try\x20\x27setup\x27\x20again.','../../docker/docker','Reloading\x20success,\x20stopping\x20old\x20function\x20container...','dockerUser','sessionId','trys','1nKiRTa','watcher','init','debugArgs','Stop\x20function\x20container\x20error:\x20','../../../common/logger','debugPort','nasConfig','creds','../../utils/state','getContainer','baseDir','label','Stop\x20function\x20container\x20successfully','restart','unzippedCodeDir','../../utils/process','setDebugIdeConfig','return','call','Restart\x20function\x20container\x20failed,\x20error\x20is:\x20\x0a','containerId','debug','function','\x0aFunction\x20container\x20starts\x20failed.Start\x20cleaning\x20now.','kill','Restart\x20function\x20container\x20failed!','spinner','stdoutFormatter','generateLocalStartOpts','stderr','functionName','generateDockerEnvs','__extends','codeUri','SIGINT','hasOwnProperty','Kill\x20function\x20container\x20successfully','next','initAndStartRunner','generateDockerCmd','then','function\x20container','../../utils/devs','generateRamdomContainerName','retry','__setModuleDefault','tunnelService','336109vablau','create','Function\x20container\x20starts\x20failed\x20because\x20proxy\x20container\x20is\x20not\x20running,\x20please\x20retry\x20\x27setup\x27\x20method.','1034200xKXTMP','iterator','Kill\x20old\x20container\x20failed,\x20please\x20kill\x20it\x20manually.','_startRunner','clean','Received\x20canncel\x20request,\x20stopping\x20running\x20function\x20container...','defineProperty','error','region','stdout','Stop\x20old\x20function\x20container\x20successfully','./invoke','runner','throw','__importDefault','runtime','fail','push','189109lxnPsL','3tOWCbI','default'];var a31_0x134205=a31_0x3330;(function(_0x739bca,_0x459d6e){var _0x55ff6d=a31_0x3330;while(!![]){try{var _0x4ec3d0=parseInt(_0x55ff6d(0xe1))+parseInt(_0x55ff6d(0xd8))*-parseInt(_0x55ff6d(0xd7))+parseInt(_0x55ff6d(0x80))*parseInt(_0x55ff6d(0x87))+-parseInt(_0x55ff6d(0x73))+-parseInt(_0x55ff6d(0xc5))+parseInt(_0x55ff6d(0xc2))*-parseInt(_0x55ff6d(0x92))+parseInt(_0x55ff6d(0xf2));if(_0x4ec3d0===_0x459d6e)break;else _0x739bca['push'](_0x739bca['shift']());}catch(_0xce80e2){_0x739bca['push'](_0x739bca['shift']());}}}(a31_0x4369,0x98d28));var __extends=this&&this[a31_0x134205(0xb3)]||function(){var _0x9e176d=function(_0x4f1071,_0x144364){var _0x192fcc=a31_0x3330;return _0x9e176d=Object[_0x192fcc(0xe8)]||{'__proto__':[]}instanceof Array&&function(_0xf37733,_0x3b4477){_0xf37733['__proto__']=_0x3b4477;}||function(_0x96bfe6,_0x97c63f){var _0x29fed1=_0x192fcc;for(var _0x1bed0f in _0x97c63f)if(_0x97c63f[_0x29fed1(0xb6)](_0x1bed0f))_0x96bfe6[_0x1bed0f]=_0x97c63f[_0x1bed0f];},_0x9e176d(_0x4f1071,_0x144364);};return function(_0x377fe3,_0x3ea9bd){var _0x2a7b9c=a31_0x3330;_0x9e176d(_0x377fe3,_0x3ea9bd);function _0x3ff599(){var _0x275631=a31_0x3330;this[_0x275631(0xed)]=_0x377fe3;}_0x377fe3[_0x2a7b9c(0xec)]=_0x3ea9bd===null?Object[_0x2a7b9c(0xc3)](_0x3ea9bd):(_0x3ff599[_0x2a7b9c(0xec)]=_0x3ea9bd[_0x2a7b9c(0xec)],new _0x3ff599());};}(),__createBinding=this&&this[a31_0x134205(0x8a)]||(Object[a31_0x134205(0xc3)]?function(_0x297b99,_0x22ede6,_0x4c0ed9,_0x16efcf){var _0x3488de=a31_0x134205;if(_0x16efcf===undefined)_0x16efcf=_0x4c0ed9;Object[_0x3488de(0xcb)](_0x297b99,_0x16efcf,{'enumerable':!![],'get':function(){return _0x22ede6[_0x4c0ed9];}});}:function(_0x15e08e,_0x57fa38,_0x31fe0a,_0x428590){if(_0x428590===undefined)_0x428590=_0x31fe0a;_0x15e08e[_0x428590]=_0x57fa38[_0x31fe0a];}),__setModuleDefault=this&&this[a31_0x134205(0xc0)]||(Object[a31_0x134205(0xc3)]?function(_0x45cf0a,_0x23a33b){var _0x39be7a=a31_0x134205;Object[_0x39be7a(0xcb)](_0x45cf0a,_0x39be7a(0xd9),{'enumerable':!![],'value':_0x23a33b});}:function(_0x3738bc,_0x1b5709){var _0x11472f=a31_0x134205;_0x3738bc[_0x11472f(0xd9)]=_0x1b5709;}),__importStar=this&&this['__importStar']||function(_0x133338){var _0x2d1e1b=a31_0x134205;if(_0x133338&&_0x133338[_0x2d1e1b(0x7c)])return _0x133338;var _0x2d8505={};if(_0x133338!=null){for(var _0x59c1da in _0x133338)if(_0x59c1da!==_0x2d1e1b(0xd9)&&Object['hasOwnProperty'][_0x2d1e1b(0xa5)](_0x133338,_0x59c1da))__createBinding(_0x2d8505,_0x133338,_0x59c1da);}return __setModuleDefault(_0x2d8505,_0x133338),_0x2d8505;},__awaiter=this&&this['__awaiter']||function(_0x585fab,_0x5c1d4d,_0x2db4c8,_0x119d2d){function _0x50059a(_0x28545f){return _0x28545f instanceof _0x2db4c8?_0x28545f:new _0x2db4c8(function(_0x53ba7d){_0x53ba7d(_0x28545f);});}return new(_0x2db4c8||(_0x2db4c8=Promise))(function(_0x1ea613,_0x35e091){var _0x1bf5fb=a31_0x3330;function _0xac2b69(_0x577706){var _0x3b2ef9=a31_0x3330;try{_0x4690b7(_0x119d2d[_0x3b2ef9(0xb8)](_0x577706));}catch(_0x432ed1){_0x35e091(_0x432ed1);}}function _0x314c50(_0x8ac232){var _0x489e00=a31_0x3330;try{_0x4690b7(_0x119d2d[_0x489e00(0xd2)](_0x8ac232));}catch(_0x16e9de){_0x35e091(_0x16e9de);}}function _0x4690b7(_0x32f42f){var _0x4c08db=a31_0x3330;_0x32f42f[_0x4c08db(0xea)]?_0x1ea613(_0x32f42f[_0x4c08db(0x83)]):_0x50059a(_0x32f42f[_0x4c08db(0x83)])[_0x4c08db(0xbb)](_0xac2b69,_0x314c50);}_0x4690b7((_0x119d2d=_0x119d2d[_0x1bf5fb(0xe5)](_0x585fab,_0x5c1d4d||[]))[_0x1bf5fb(0xb8)]());});},__generator=this&&this[a31_0x134205(0xde)]||function(_0x2cea8c,_0x5a4470){var _0x36b4dc=a31_0x134205,_0x589f77={'label':0x0,'sent':function(){if(_0x3e5c61[0x0]&0x1)throw _0x3e5c61[0x1];return _0x3e5c61[0x1];},'trys':[],'ops':[]},_0x2595d9,_0xe805ed,_0x3e5c61,_0x139737;return _0x139737={'next':_0x4641ba(0x0),'throw':_0x4641ba(0x1),'return':_0x4641ba(0x2)},typeof Symbol===_0x36b4dc(0xa9)&&(_0x139737[Symbol[_0x36b4dc(0xc6)]]=function(){return this;}),_0x139737;function _0x4641ba(_0x42e1e8){return function(_0x4c1c5d){return _0x58fdd5([_0x42e1e8,_0x4c1c5d]);};}function _0x58fdd5(_0xf31b1){var _0x45eac3=_0x36b4dc;if(_0x2595d9)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x589f77)try{if(_0x2595d9=0x1,_0xe805ed&&(_0x3e5c61=_0xf31b1[0x0]&0x2?_0xe805ed[_0x45eac3(0xa4)]:_0xf31b1[0x0]?_0xe805ed[_0x45eac3(0xd2)]||((_0x3e5c61=_0xe805ed[_0x45eac3(0xa4)])&&_0x3e5c61['call'](_0xe805ed),0x0):_0xe805ed[_0x45eac3(0xb8)])&&!(_0x3e5c61=_0x3e5c61[_0x45eac3(0xa5)](_0xe805ed,_0xf31b1[0x1]))['done'])return _0x3e5c61;if(_0xe805ed=0x0,_0x3e5c61)_0xf31b1=[_0xf31b1[0x0]&0x2,_0x3e5c61['value']];switch(_0xf31b1[0x0]){case 0x0:case 0x1:_0x3e5c61=_0xf31b1;break;case 0x4:_0x589f77[_0x45eac3(0x9e)]++;return{'value':_0xf31b1[0x1],'done':![]};case 0x5:_0x589f77[_0x45eac3(0x9e)]++,_0xe805ed=_0xf31b1[0x1],_0xf31b1=[0x0];continue;case 0x7:_0xf31b1=_0x589f77[_0x45eac3(0xf1)][_0x45eac3(0x6c)](),_0x589f77['trys'][_0x45eac3(0x6c)]();continue;default:if(!(_0x3e5c61=_0x589f77[_0x45eac3(0x91)],_0x3e5c61=_0x3e5c61[_0x45eac3(0xf5)]>0x0&&_0x3e5c61[_0x3e5c61[_0x45eac3(0xf5)]-0x1])&&(_0xf31b1[0x0]===0x6||_0xf31b1[0x0]===0x2)){_0x589f77=0x0;continue;}if(_0xf31b1[0x0]===0x3&&(!_0x3e5c61||_0xf31b1[0x1]>_0x3e5c61[0x0]&&_0xf31b1[0x1]<_0x3e5c61[0x3])){_0x589f77[_0x45eac3(0x9e)]=_0xf31b1[0x1];break;}if(_0xf31b1[0x0]===0x6&&_0x589f77[_0x45eac3(0x9e)]<_0x3e5c61[0x1]){_0x589f77['label']=_0x3e5c61[0x1],_0x3e5c61=_0xf31b1;break;}if(_0x3e5c61&&_0x589f77['label']<_0x3e5c61[0x2]){_0x589f77[_0x45eac3(0x9e)]=_0x3e5c61[0x2],_0x589f77[_0x45eac3(0xf1)][_0x45eac3(0xd6)](_0xf31b1);break;}if(_0x3e5c61[0x2])_0x589f77[_0x45eac3(0xf1)][_0x45eac3(0x6c)]();_0x589f77[_0x45eac3(0x91)]['pop']();continue;}_0xf31b1=_0x5a4470[_0x45eac3(0xa5)](_0x2cea8c,_0x589f77);}catch(_0x159825){_0xf31b1=[0x6,_0x159825],_0xe805ed=0x0;}finally{_0x2595d9=_0x3e5c61=0x0;}if(_0xf31b1[0x0]&0x5)throw _0xf31b1[0x1];return{'value':_0xf31b1[0x0]?_0xf31b1[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a31_0x134205(0xd3)]||function(_0x556a4b){return _0x556a4b&&_0x556a4b['__esModule']?_0x556a4b:{'default':_0x556a4b};};function a31_0x3330(_0x421268,_0x4e0144){return a31_0x3330=function(_0x43690,_0x3330ea){_0x43690=_0x43690-0x6b;var _0x3af328=a31_0x4369[_0x43690];return _0x3af328;},a31_0x3330(_0x421268,_0x4e0144);}Object[a31_0x134205(0xcb)](exports,'__esModule',{'value':!![]});var node_watch_1=__importDefault(require(a31_0x134205(0xe9))),rimraf=__importStar(require(a31_0x134205(0x8b))),ignore_1=require(a31_0x134205(0xe6)),invoke_1=__importDefault(require(a31_0x134205(0xd0))),docker=__importStar(require(a31_0x134205(0x8d))),dockerOpts=__importStar(require(a31_0x134205(0xdd))),dockerode_1=__importDefault(require(a31_0x134205(0xdc))),runtime_1=require(a31_0x134205(0x78)),logger_1=__importDefault(require(a31_0x134205(0x97))),definition_1=require(a31_0x134205(0x82)),time_1=require(a31_0x134205(0xf4)),process_1=require(a31_0x134205(0xa2)),devs_1=require(a31_0x134205(0xbd)),retry_1=require(a31_0x134205(0x84)),core=__importStar(require('@serverless-devs/core')),stdout_formatter_1=__importDefault(require('../../component/stdout-formatter')),state_1=require(a31_0x134205(0x9b)),dockerClient=new dockerode_1[(a31_0x134205(0xd9))](),HttpInvoke=function(_0x4d2791){var _0x4241ff=a31_0x134205;__extends(_0x1b99ff,_0x4d2791);function _0x1b99ff(_0x103b6b,_0x39f295,_0x2423e5,_0x40c103,_0xc41b2,_0x21cac6,_0x2fdde2,_0x499994,_0x569e97,_0x4e6af3,_0x5738b5,_0x238bcd,_0x163cde,_0x34bc5a){var _0x17b543=a31_0x3330,_0x411785=_0x4d2791[_0x17b543(0xa5)](this,_0x103b6b,_0x39f295,_0x2423e5,_0x40c103,_0xc41b2,_0x21cac6,_0x2fdde2,_0x499994,_0x569e97,_0x4e6af3,_0x5738b5,_0x238bcd,_0x163cde,_0x34bc5a)||this;return process_1[_0x17b543(0x88)](),process['on'](_0x17b543(0xb5),function(){return __awaiter(_0x411785,void 0x0,void 0x0,function(){var _0x532ce0,_0x4ba85e,_0x4d041e,_0x5a4440,_0x5abea8;return __generator(this,function(_0x38722d){var _0x5ed484=a31_0x3330;switch(_0x38722d[_0x5ed484(0x9e)]){case 0x0:this[_0x5ed484(0x93)]&&this[_0x5ed484(0x93)][_0x5ed484(0xe4)]();this[_0x5ed484(0x75)]();if(!this['runner'])return[0x3,0xa];_0x532ce0=core[_0x5ed484(0xad)](_0x5ed484(0xca)),_0x38722d[_0x5ed484(0x9e)]=0x1;case 0x1:_0x38722d[_0x5ed484(0x91)][_0x5ed484(0xd6)]([0x1,0x3,,0x8]);return[0x4,this[_0x5ed484(0xd1)][_0x5ed484(0xeb)]()];case 0x2:_0x38722d[_0x5ed484(0xe7)](),_0x532ce0[_0x5ed484(0xdb)](_0x5ed484(0x9f));return[0x3,0x8];case 0x3:_0x4ba85e=_0x38722d['sent'](),_0x532ce0[_0x5ed484(0xd5)](_0x5ed484(0xda)),logger_1[_0x5ed484(0xd9)][_0x5ed484(0xa8)](_0x5ed484(0x7b)+_0x4ba85e),_0x4d041e=core[_0x5ed484(0xad)](_0x5ed484(0x76)),_0x38722d[_0x5ed484(0x9e)]=0x4;case 0x4:_0x38722d[_0x5ed484(0x91)][_0x5ed484(0xd6)]([0x4,0x6,,0x7]);return[0x4,this[_0x5ed484(0xd1)][_0x5ed484(0xab)]()];case 0x5:_0x38722d[_0x5ed484(0xe7)](),_0x4d041e[_0x5ed484(0xdb)](_0x5ed484(0xb7));return[0x3,0x7];case 0x6:_0x5a4440=_0x38722d[_0x5ed484(0xe7)](),_0x4d041e[_0x5ed484(0xd5)](_0x5ed484(0xc7)),logger_1['default']['debug'](_0x5ed484(0x89)+_0x5a4440);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x4,state_1[_0x5ed484(0x71)]((_0x5abea8=this[_0x5ed484(0x9a)])===null||_0x5abea8===void 0x0?void 0x0:_0x5abea8['AccountID'],this[_0x5ed484(0xcd)],this[_0x5ed484(0x77)],this[_0x5ed484(0xb1)])];case 0x9:_0x38722d[_0x5ed484(0xe7)](),_0x38722d['label']=0xa;case 0xa:if(!this[_0x5ed484(0xc1)])return[0x3,0xc];return[0x4,this['tunnelService'][_0x5ed484(0xc9)]()];case 0xb:_0x38722d[_0x5ed484(0xe7)](),_0x38722d[_0x5ed484(0x9e)]=0xc;case 0xc:return[0x2];}});});}),_0x411785;}return _0x1b99ff[_0x4241ff(0xec)][_0x4241ff(0x7f)]=function(_0x2f8f43,_0x237c36){var _0x3229ed;return __awaiter(this,void 0x0,void 0x0,function(){var _0x391b29,_0x2b4f1e,_0x45d473,_0x42a3f9,_0x88f153,_0x395a8c;return __generator(this,function(_0x4e49be){var _0x4ca3cf=a31_0x3330;switch(_0x4e49be['label']){case 0x0:if(!this[_0x4ca3cf(0xd1)])return[0x2];logger_1[_0x4ca3cf(0xd9)][_0x4ca3cf(0x86)]('Detect\x20code\x20changes,\x20file\x20is\x20'+_0x237c36+',\x20event\x20is\x20'+_0x2f8f43+',\x20auto\x20reloading...'),_0x391b29=this[_0x4ca3cf(0xd1)],_0x2b4f1e=this[_0x4ca3cf(0xa1)],this[_0x4ca3cf(0xd1)]=null;return[0x4,this[_0x4ca3cf(0x94)]()];case 0x1:_0x4e49be[_0x4ca3cf(0xe7)]();return[0x4,time_1[_0x4ca3cf(0xef)](0x1f4)];case 0x2:_0x4e49be[_0x4ca3cf(0xe7)](),_0x45d473=core[_0x4ca3cf(0xad)](_0x4ca3cf(0x8e)),_0x4e49be[_0x4ca3cf(0x9e)]=0x3;case 0x3:_0x4e49be['trys'][_0x4ca3cf(0xd6)]([0x3,0x5,,0xa]);return[0x4,_0x391b29[_0x4ca3cf(0xeb)]()];case 0x4:_0x4e49be['sent'](),_0x45d473[_0x4ca3cf(0xdb)](_0x4ca3cf(0xcf));return[0x3,0xa];case 0x5:_0x42a3f9=_0x4e49be[_0x4ca3cf(0xe7)](),_0x45d473[_0x4ca3cf(0xd5)]('Stop\x20function\x20container\x20failed.'),logger_1[_0x4ca3cf(0xd9)][_0x4ca3cf(0xa8)](_0x4ca3cf(0x7b)+_0x42a3f9),_0x88f153=core[_0x4ca3cf(0xad)](_0x4ca3cf(0x76)),_0x4e49be[_0x4ca3cf(0x9e)]=0x6;case 0x6:_0x4e49be[_0x4ca3cf(0x91)]['push']([0x6,0x8,,0x9]);return[0x4,_0x391b29[_0x4ca3cf(0xab)]()];case 0x7:_0x4e49be[_0x4ca3cf(0xe7)](),_0x88f153[_0x4ca3cf(0xdb)]('Kill\x20old\x20container\x20successfully');return[0x3,0x9];case 0x8:_0x395a8c=_0x4e49be[_0x4ca3cf(0xe7)](),_0x88f153[_0x4ca3cf(0xd5)](_0x4ca3cf(0xc7)),logger_1[_0x4ca3cf(0xd9)][_0x4ca3cf(0xa8)]('Kill\x20function\x20container\x20failed,\x20error:\x20'+_0x395a8c);return[0x3,0x9];case 0x9:return[0x3,0xa];case 0xa:return[0x4,state_1[_0x4ca3cf(0x71)]((_0x3229ed=this[_0x4ca3cf(0x9a)])===null||_0x3229ed===void 0x0?void 0x0:_0x3229ed['AccountID'],this[_0x4ca3cf(0xcd)],this['serviceName'],this['functionName'])];case 0xb:_0x4e49be['sent']();_0x2b4f1e&&(rimraf['sync'](_0x2b4f1e),logger_1['default'][_0x4ca3cf(0x86)](_0x4ca3cf(0x6d)+_0x2b4f1e+'\x20successfully.\x0a'));return[0x2];}});});},_0x1b99ff['prototype'][_0x4241ff(0xc8)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x244741,_0x5bbec4,_0x17be3e,_0x10ce36,_0x28194f,_0x58a949;return __generator(this,function(_0x3c2d8b){var _0x28093b=a31_0x3330;switch(_0x3c2d8b['label']){case 0x0:_0x244741=this[_0x28093b(0xc1)];if(!_0x244741)return[0x3,0x2];return[0x4,this[_0x28093b(0xc1)]['checkIfProxyContainerRunning']()];case 0x1:_0x244741=!_0x3c2d8b['sent'](),_0x3c2d8b[_0x28093b(0x9e)]=0x2;case 0x2:if(!_0x244741)return[0x3,0x5];console['log'](),logger_1['default'][_0x28093b(0xcc)](_0x28093b(0xaa));if(!this['tunnelService'])return[0x3,0x4];return[0x4,this['tunnelService']['clean']()];case 0x3:_0x3c2d8b['sent'](),_0x3c2d8b[_0x28093b(0x9e)]=0x4;case 0x4:throw new Error(_0x28093b(0xc4));case 0x5:return[0x4,docker[_0x28093b(0xb2)](this['creds'],this[_0x28093b(0xcd)],this[_0x28093b(0x9d)],this[_0x28093b(0x77)],this[_0x28093b(0x70)],this[_0x28093b(0xb1)],this[_0x28093b(0xf0)],this[_0x28093b(0x98)],null,this[_0x28093b(0x99)],this['debugIde'],this[_0x28093b(0x95)])];case 0x6:_0x5bbec4=_0x3c2d8b[_0x28093b(0xe7)](),_0x17be3e=docker[_0x28093b(0xba)](this[_0x28093b(0xd4)],!![],this['functionConfig']),_0x10ce36=definition_1['genProxyContainerName'](this[_0x28093b(0x90)]),this[_0x28093b(0xe3)]=docker[_0x28093b(0xbe)]();return[0x4,dockerOpts[_0x28093b(0xaf)](_0x10ce36,this[_0x28093b(0xd4)],this['containerName'],this['mounts'],_0x17be3e,_0x5bbec4,{'debugPort':this['debugPort'],'dockerUser':this[_0x28093b(0x8f)],'imageName':this[_0x28093b(0x74)],'caPort':this[_0x28093b(0xf0)]['caPort']})];case 0x7:_0x28194f=_0x3c2d8b['sent'](),_0x58a949=this;return[0x4,docker[_0x28093b(0x7e)](_0x28194f,process[_0x28093b(0xce)],process[_0x28093b(0xb0)],{'serviceName':this[_0x28093b(0x77)],'functionName':this['functionName']})];case 0x8:_0x58a949[_0x28093b(0xd1)]=_0x3c2d8b['sent']();return[0x4,this[_0x28093b(0x79)]()];case 0x9:_0x3c2d8b['sent']();return[0x2];}});});},_0x1b99ff['prototype'][_0x4241ff(0x79)]=function(){var _0x22a9a1,_0x74d342;return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x10cdba){var _0x2f59b8=a31_0x3330;switch(_0x10cdba[_0x2f59b8(0x9e)]){case 0x0:return[0x4,devs_1[_0x2f59b8(0x72)](_0x2f59b8(0x81),(_0x22a9a1=this[_0x2f59b8(0xd1)])===null||_0x22a9a1===void 0x0?void 0x0:_0x22a9a1[_0x2f59b8(0xa7)],state_1[_0x2f59b8(0xee)]((_0x74d342=this[_0x2f59b8(0x9a)])===null||_0x74d342===void 0x0?void 0x0:_0x74d342[_0x2f59b8(0xe0)],this[_0x2f59b8(0xcd)],this[_0x2f59b8(0x77)],this[_0x2f59b8(0xb1)]))];case 0x1:_0x10cdba['sent']();return[0x2];}});});},_0x1b99ff['prototype'][_0x4241ff(0xf6)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x49b320,_0x27fc06,_0x569a1a,_0x3e081e=this;return __generator(this,function(_0x1abf09){var _0x1eda57=a31_0x3330;switch(_0x1abf09[_0x1eda57(0x9e)]){case 0x0:if(!(!this['watcher']&&!runtime_1[_0x1eda57(0xdf)](this[_0x1eda57(0xd4)])))return[0x3,0x2];return[0x4,ignore_1[_0x1eda57(0xe2)](this[_0x1eda57(0x9d)])];case 0x1:_0x49b320=_0x1abf09[_0x1eda57(0xe7)](),_0x27fc06=![],_0x569a1a=![],this['watcher']=node_watch_1[_0x1eda57(0xd9)](this[_0x1eda57(0xb4)],{'recursive':!![],'persistent':![],'filter':function(_0x44851d){return _0x49b320&&!_0x49b320(_0x44851d);}},function(_0xe84285,_0x58e959){return __awaiter(_0x3e081e,void 0x0,void 0x0,function(){var _0x367cae,_0x3a7d64,_0x48d7e5,_0x313c4e=this;return __generator(this,function(_0xe5742a){var _0xc41099=a31_0x3330;switch(_0xe5742a['label']){case 0x0:if(_0x27fc06)return[0x2];_0x367cae=0x12c,_0x3a7d64=0x0;if(!_0x569a1a)return[0x3,0x7];_0xe5742a[_0xc41099(0x9e)]=0x1;case 0x1:if(!_0x569a1a)return[0x3,0x7];if(_0x27fc06)return[0x2];return[0x4,time_1[_0xc41099(0xef)](0xbb8)];case 0x2:_0xe5742a['sent'](),_0x3a7d64=_0x3a7d64+0x3;if(!(_0x3a7d64>_0x367cae))return[0x3,0x6];return[0x4,this['clean']()];case 0x3:_0xe5742a[_0xc41099(0xe7)]();if(!this[_0xc41099(0xc1)])return[0x3,0x5];return[0x4,this[_0xc41099(0xc1)][_0xc41099(0xc9)]()];case 0x4:_0xe5742a[_0xc41099(0xe7)](),_0xe5742a[_0xc41099(0x9e)]=0x5;case 0x5:throw new Error(_0xc41099(0x8c));case 0x6:return[0x3,0x1];case 0x7:_0x27fc06=!![],_0xe5742a[_0xc41099(0x9e)]=0x8;case 0x8:_0xe5742a[_0xc41099(0x91)][_0xc41099(0xd6)]([0x8,0xc,,0xd]);if(!this[_0xc41099(0xd1)])return[0x3,0xa];return[0x4,this[_0xc41099(0x7f)](_0xe84285,_0x58e959)];case 0x9:_0xe5742a[_0xc41099(0xe7)]();return[0x3,0xb];case 0xa:logger_1[_0xc41099(0xd9)][_0xc41099(0xa8)]('detect\x20code\x20changes,\x20but\x20no\x20runner\x20found,\x20starting....'),_0xe5742a['label']=0xb;case 0xb:return[0x3,0xd];case 0xc:_0x48d7e5=_0xe5742a[_0xc41099(0xe7)](),logger_1['default']['warning'](_0xc41099(0x6f)),logger_1['default'][_0xc41099(0xa8)](_0xc41099(0x96)+_0x48d7e5);return[0x3,0xd];case 0xd:_0x569a1a=!![],_0x27fc06=![],logger_1[_0xc41099(0xd9)][_0xc41099(0x86)](_0xc41099(0x7a));return[0x4,retry_1['promiseRetry'](function(_0x2f02a2,_0x15daeb){return __awaiter(_0x313c4e,void 0x0,void 0x0,function(){var _0xa34d0e;return __generator(this,function(_0x369ada){var _0x4c3e3a=a31_0x3330;switch(_0x369ada[_0x4c3e3a(0x9e)]){case 0x0:_0x369ada[_0x4c3e3a(0x91)][_0x4c3e3a(0xd6)]([0x0,0x2,,0x4]);return[0x4,this['_startRunner']()];case 0x1:_0x369ada[_0x4c3e3a(0xe7)](),logger_1['default'][_0x4c3e3a(0x86)](_0x4c3e3a(0xf3));return[0x2];case 0x2:_0xa34d0e=_0x369ada[_0x4c3e3a(0xe7)](),logger_1[_0x4c3e3a(0xd9)][_0x4c3e3a(0xcc)](_0x4c3e3a(0xac));if(_0xa34d0e===null||_0xa34d0e===void 0x0?void 0x0:_0xa34d0e[_0x4c3e3a(0x6e)][_0x4c3e3a(0x85)](_0x4c3e3a(0x6b)))throw _0xa34d0e;logger_1[_0x4c3e3a(0xd9)][_0x4c3e3a(0xa8)](_0x4c3e3a(0xa6)+_0xa34d0e),logger_1[_0x4c3e3a(0xd9)][_0x4c3e3a(0x86)](stdout_formatter_1[_0x4c3e3a(0xd9)][_0x4c3e3a(0xae)][_0x4c3e3a(0xbf)](_0x4c3e3a(0xbc),_0x4c3e3a(0xa0),'',_0x15daeb));return[0x4,time_1[_0x4c3e3a(0xef)](0x64)];case 0x3:_0x369ada[_0x4c3e3a(0xe7)](),_0x2f02a2(_0xa34d0e);return[0x3,0x4];case 0x4:return[0x2];}});});})];case 0xe:_0xe5742a[_0xc41099(0xe7)](),_0x569a1a=![];return[0x2];}});});}),this['watcher']['on'](_0x1eda57(0xcc),function(_0x258904){throw _0x258904;}),_0x1abf09[_0x1eda57(0x9e)]=0x2;case 0x2:return[0x2];}});});},_0x1b99ff[_0x4241ff(0xec)][_0x4241ff(0xb9)]=function(){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1340b4){var _0x58a4f2=a31_0x3330;switch(_0x1340b4['label']){case 0x0:return[0x4,this[_0x58a4f2(0x94)]()];case 0x1:_0x1340b4[_0x58a4f2(0xe7)]();return[0x4,this['_startRunner']()];case 0x2:_0x1340b4[_0x58a4f2(0xe7)]();return[0x4,this['initWatch']()];case 0x3:_0x1340b4['sent']();return[0x4,this[_0x58a4f2(0xa3)]()];case 0x4:_0x1340b4[_0x58a4f2(0xe7)]();return[0x2];}});});},_0x1b99ff[_0x4241ff(0xec)][_0x4241ff(0xc9)]=function(){var _0x1d2a78,_0x53018e;return __awaiter(this,void 0x0,void 0x0,function(){var _0x45a109,_0x14af74;return __generator(this,function(_0x62cfbd){var _0x423409=a31_0x3330;switch(_0x62cfbd[_0x423409(0x9e)]){case 0x0:return[0x4,state_1[_0x423409(0x7d)]((_0x1d2a78=this['creds'])===null||_0x1d2a78===void 0x0?void 0x0:_0x1d2a78[_0x423409(0xe0)],this[_0x423409(0xcd)],this[_0x423409(0x77)],this[_0x423409(0xb1)])];case 0x1:_0x45a109=_0x62cfbd[_0x423409(0xe7)]();return[0x4,dockerClient[_0x423409(0x9c)](_0x45a109)];case 0x2:_0x14af74=_0x62cfbd[_0x423409(0xe7)]();return[0x4,docker['stopContainer'](_0x14af74)];case 0x3:_0x62cfbd['sent']();return[0x4,state_1['unsetInvokeContainerId']((_0x53018e=this['creds'])===null||_0x53018e===void 0x0?void 0x0:_0x53018e['AccountID'],this[_0x423409(0xcd)],this[_0x423409(0x77)],this[_0x423409(0xb1)])];case 0x4:_0x62cfbd[_0x423409(0xe7)]();return[0x2];}});});},_0x1b99ff;}(invoke_1[a31_0x134205(0xd9)]);exports['default']=HttpInvoke;