'use strict';var a12_0x5933=['envs','1473596tWlvuf','FC_DOCKER_VERSION','cloneDeep','replace','cmd','label','docker\x20options\x20for\x20custom\x20container:\x20','190598nRLZOC','1AkXnqu','iterator','-inited\x22]}','value','mark','resolveDockerRegistry','../utils/runtime','push','join','For\x20linux\x20platform,\x20Fc\x20will\x20use\x20host\x20userId\x20and\x20groupId\x20to\x20build\x20or\x20run\x20your\x20functions','mounts','Source','throw','pop','startsWith','fc-docker\x20docker\x20options:\x20',':build-','nested-object-assign','create','resolveRuntimeToDockerImage','1096255BsOlPP','stage','sent','transformMountsForToolbox','apply','dockerUser','/var/fc/runtime/','stringify','Cmd','FC_ACCESS_KEY_SECRET','Env','aliyunfc/runtime-','trys','586677dwCmVz','generateContainerName','race','562196SeOxul','isArray','imageName','AGENT_SCRIPT','1.9.18','debugIde','debug','Generator\x20is\x20already\x20executing.','nodejs10','addEnv','__importStar','1NcMHbM','1789477mMMbno','isTty','-run','imageName:\x20','DOCKER_REGISTRIES','{\x22name\x22:\x20[\x22','python2.7','docker\x20options:\x20','custom','linux','platform','next','../../common/logger','generateLocalInvokeOpts','defineProperty','registry.hub.docker.com','HostConfig','getuid','call','../local-invoke/debug','length','request','php7.2','groupId','warn','1514345rTKrGD','registry.cn-beijing.aliyuncs.com','resolveImageNameForPull','return','then','split','ops','../local-invoke/env','generateContainerNameFilter','java11','map','/mock','default','resolveDockerEnv','-debug','isEmpty','sbox','caPort','../utils/utils','resolveMockScript','generateSboxOpts','../definition','dotnetcore2.1','__esModule','__setModuleDefault','debugPort','2bGtEAr','assign','userId','/v2/aliyunfc/runtime-nodejs8/tags/list','We\x20detected\x20that\x20you\x20are\x20using\x20docker\x20toolbox.\x20For\x20a\x20better\x20experience,\x20please\x20upgrade\x20\x27docker\x20for\x20windows\x27.\x0aYou\x20can\x20refer\x20to\x20Chinese\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation-zh.md#windows-%E5%AE%89%E8%A3%85-docker\x20or\x20English\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation.md.\x0a','FC_ACCESS_KEY_ID','NetworkMode','/tcp','transformPathForVirtualBox','FC_ACCOUNT_ID','isCustomContainerRuntime','resolveDockerUser','\x22]}','generateLocalStartOpts','https://','hostname'];var a12_0x241f67=a12_0x384b;(function(_0x5d1b0a,_0x5f17d7){var _0x52a30b=a12_0x384b;while(!![]){try{var _0x3b0193=-parseInt(_0x52a30b(0x1b4))+-parseInt(_0x52a30b(0x1ce))*-parseInt(_0x52a30b(0x16a))+parseInt(_0x52a30b(0x18f))+-parseInt(_0x52a30b(0x1df))*-parseInt(_0x52a30b(0x16b))+parseInt(_0x52a30b(0x17f))*parseInt(_0x52a30b(0x19a))+parseInt(_0x52a30b(0x18c))+-parseInt(_0x52a30b(0x19b));if(_0x3b0193===_0x5f17d7)break;else _0x5d1b0a['push'](_0x5d1b0a['shift']());}catch(_0x44d2d4){_0x5d1b0a['push'](_0x5d1b0a['shift']());}}}(a12_0x5933,0xc25c2));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x22bce4,_0x56c53d,_0x4a0c6a,_0x3e043a){var _0x1f0638=a12_0x384b;if(_0x3e043a===undefined)_0x3e043a=_0x4a0c6a;Object[_0x1f0638(0x1a9)](_0x22bce4,_0x3e043a,{'enumerable':!![],'get':function(){return _0x56c53d[_0x4a0c6a];}});}:function(_0x290e86,_0x48d960,_0x2e2d29,_0x4e529d){if(_0x4e529d===undefined)_0x4e529d=_0x2e2d29;_0x290e86[_0x4e529d]=_0x48d960[_0x2e2d29];}),__setModuleDefault=this&&this[a12_0x241f67(0x1cc)]||(Object[a12_0x241f67(0x17d)]?function(_0x38b930,_0x32a83c){var _0x39042d=a12_0x241f67;Object[_0x39042d(0x1a9)](_0x38b930,'default',{'enumerable':!![],'value':_0x32a83c});}:function(_0x2da57c,_0x544fcc){var _0x1dca4c=a12_0x241f67;_0x2da57c[_0x1dca4c(0x1c0)]=_0x544fcc;}),__importStar=this&&this[a12_0x241f67(0x199)]||function(_0x4e3f3c){var _0x4dd8e4=a12_0x241f67;if(_0x4e3f3c&&_0x4e3f3c[_0x4dd8e4(0x1cb)])return _0x4e3f3c;var _0x185d88={};if(_0x4e3f3c!=null){for(var _0x18ed69 in _0x4e3f3c)if(_0x18ed69!==_0x4dd8e4(0x1c0)&&Object['hasOwnProperty']['call'](_0x4e3f3c,_0x18ed69))__createBinding(_0x185d88,_0x4e3f3c,_0x18ed69);}return __setModuleDefault(_0x185d88,_0x4e3f3c),_0x185d88;},__awaiter=this&&this['__awaiter']||function(_0x3beb46,_0x3bb03b,_0x3cea5e,_0x394416){function _0x4db920(_0x56ded8){return _0x56ded8 instanceof _0x3cea5e?_0x56ded8:new _0x3cea5e(function(_0xce0344){_0xce0344(_0x56ded8);});}return new(_0x3cea5e||(_0x3cea5e=Promise))(function(_0xdbdac5,_0x178c24){var _0x108b8a=a12_0x384b;function _0x193f6d(_0x17545b){var _0xa16be3=a12_0x384b;try{_0x8e0c51(_0x394416[_0xa16be3(0x1a6)](_0x17545b));}catch(_0x572461){_0x178c24(_0x572461);}}function _0x12ef9c(_0x44edc5){var _0x1fc72b=a12_0x384b;try{_0x8e0c51(_0x394416[_0x1fc72b(0x177)](_0x44edc5));}catch(_0x3a6820){_0x178c24(_0x3a6820);}}function _0x8e0c51(_0x348ffc){var _0xf37589=a12_0x384b;_0x348ffc['done']?_0xdbdac5(_0x348ffc[_0xf37589(0x16e)]):_0x4db920(_0x348ffc[_0xf37589(0x16e)])[_0xf37589(0x1b8)](_0x193f6d,_0x12ef9c);}_0x8e0c51((_0x394416=_0x394416[_0x108b8a(0x183)](_0x3beb46,_0x3bb03b||[]))[_0x108b8a(0x1a6)]());});},__generator=this&&this['__generator']||function(_0x4545cd,_0x5e1feb){var _0x423df7=a12_0x241f67,_0x194e7a={'label':0x0,'sent':function(){if(_0x524b75[0x0]&0x1)throw _0x524b75[0x1];return _0x524b75[0x1];},'trys':[],'ops':[]},_0x49975b,_0x46f751,_0x524b75,_0xb8b8f5;return _0xb8b8f5={'next':_0x105ec2(0x0),'throw':_0x105ec2(0x1),'return':_0x105ec2(0x2)},typeof Symbol==='function'&&(_0xb8b8f5[Symbol[_0x423df7(0x16c)]]=function(){return this;}),_0xb8b8f5;function _0x105ec2(_0x5e1301){return function(_0x59a3c9){return _0x37cffe([_0x5e1301,_0x59a3c9]);};}function _0x37cffe(_0x38e85c){var _0x104115=_0x423df7;if(_0x49975b)throw new TypeError(_0x104115(0x196));while(_0x194e7a)try{if(_0x49975b=0x1,_0x46f751&&(_0x524b75=_0x38e85c[0x0]&0x2?_0x46f751[_0x104115(0x1b7)]:_0x38e85c[0x0]?_0x46f751[_0x104115(0x177)]||((_0x524b75=_0x46f751[_0x104115(0x1b7)])&&_0x524b75[_0x104115(0x1ad)](_0x46f751),0x0):_0x46f751['next'])&&!(_0x524b75=_0x524b75[_0x104115(0x1ad)](_0x46f751,_0x38e85c[0x1]))['done'])return _0x524b75;if(_0x46f751=0x0,_0x524b75)_0x38e85c=[_0x38e85c[0x0]&0x2,_0x524b75[_0x104115(0x16e)]];switch(_0x38e85c[0x0]){case 0x0:case 0x1:_0x524b75=_0x38e85c;break;case 0x4:_0x194e7a[_0x104115(0x168)]++;return{'value':_0x38e85c[0x1],'done':![]};case 0x5:_0x194e7a[_0x104115(0x168)]++,_0x46f751=_0x38e85c[0x1],_0x38e85c=[0x0];continue;case 0x7:_0x38e85c=_0x194e7a['ops']['pop'](),_0x194e7a[_0x104115(0x18b)]['pop']();continue;default:if(!(_0x524b75=_0x194e7a['trys'],_0x524b75=_0x524b75['length']>0x0&&_0x524b75[_0x524b75['length']-0x1])&&(_0x38e85c[0x0]===0x6||_0x38e85c[0x0]===0x2)){_0x194e7a=0x0;continue;}if(_0x38e85c[0x0]===0x3&&(!_0x524b75||_0x38e85c[0x1]>_0x524b75[0x0]&&_0x38e85c[0x1]<_0x524b75[0x3])){_0x194e7a[_0x104115(0x168)]=_0x38e85c[0x1];break;}if(_0x38e85c[0x0]===0x6&&_0x194e7a[_0x104115(0x168)]<_0x524b75[0x1]){_0x194e7a['label']=_0x524b75[0x1],_0x524b75=_0x38e85c;break;}if(_0x524b75&&_0x194e7a[_0x104115(0x168)]<_0x524b75[0x2]){_0x194e7a[_0x104115(0x168)]=_0x524b75[0x2],_0x194e7a[_0x104115(0x1ba)][_0x104115(0x172)](_0x38e85c);break;}if(_0x524b75[0x2])_0x194e7a[_0x104115(0x1ba)][_0x104115(0x178)]();_0x194e7a[_0x104115(0x18b)][_0x104115(0x178)]();continue;}_0x38e85c=_0x5e1feb[_0x104115(0x1ad)](_0x4545cd,_0x194e7a);}catch(_0x3ad5b8){_0x38e85c=[0x6,_0x3ad5b8],_0x46f751=0x0;}finally{_0x49975b=_0x524b75=0x0;}if(_0x38e85c[0x0]&0x5)throw _0x38e85c[0x1];return{'value':_0x38e85c[0x0]?_0x38e85c[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this['__importDefault']||function(_0x4a6ae6){var _0x4abe5c=a12_0x241f67;return _0x4a6ae6&&_0x4a6ae6[_0x4abe5c(0x1cb)]?_0x4a6ae6:{'default':_0x4a6ae6};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['resolveRuntimeToDockerImage']=exports[a12_0x241f67(0x1c1)]=exports[a12_0x241f67(0x170)]=exports[a12_0x241f67(0x1c7)]=exports[a12_0x241f67(0x1db)]=exports[a12_0x241f67(0x18d)]=exports['generateContainerNameFilter']=exports[a12_0x241f67(0x1a8)]=exports[a12_0x241f67(0x1d6)]=exports[a12_0x241f67(0x182)]=exports['generateInstallOpts']=exports[a12_0x241f67(0x1d9)]=exports[a12_0x241f67(0x1c8)]=exports[a12_0x241f67(0x1b6)]=exports[a12_0x241f67(0x19f)]=void 0x0;var httpx=__importStar(require('httpx')),_=__importStar(require('lodash')),env_1=require(a12_0x241f67(0x1bb)),logger_1=__importDefault(require(a12_0x241f67(0x1a7))),definition_1=require(a12_0x241f67(0x1c9)),nested_object_assign_1=__importDefault(require(a12_0x241f67(0x17c))),debug_1=require(a12_0x241f67(0x1ae)),runtime_1=require(a12_0x241f67(0x171)),utils_1=require(a12_0x241f67(0x1c6)),REGISTRY_DEFAULT=a12_0x241f67(0x1b5),DEFAULT_REGISTRY=REGISTRY_DEFAULT||a12_0x241f67(0x1aa);exports[a12_0x241f67(0x19f)]=[a12_0x241f67(0x1b5),a12_0x241f67(0x1aa)];var IMAGE_VERSION=process['env'][a12_0x241f67(0x1e0)]||a12_0x241f67(0x193),DOCKER_REGISTRY_CACHE,NAS_UID=0x2713,NAS_GID=0x2713,runtimeImageMap={'nodejs6':'nodejs6','nodejs8':'nodejs8','nodejs10':a12_0x241f67(0x197),'nodejs12':'nodejs12','python2.7':a12_0x241f67(0x1a1),'python3':'python3.6','java8':'java8','java11':a12_0x241f67(0x1bd),'php7.2':a12_0x241f67(0x1b1),'dotnetcore2.1':a12_0x241f67(0x1ca),'custom':'custom'};function resolveImageNameForPull(_0x79483d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x52b895;return __generator(this,function(_0x289ea8){var _0x5c27c0=a12_0x384b;switch(_0x289ea8[_0x5c27c0(0x168)]){case 0x0:return[0x4,resolveDockerRegistry()];case 0x1:_0x52b895=_0x289ea8[_0x5c27c0(0x181)]();_0x52b895&&(_0x79483d=_0x52b895+'/'+_0x79483d);return[0x2,_0x79483d];}});});}exports['resolveImageNameForPull']=resolveImageNameForPull;function generateSboxOpts(_0x3de94a){var _0x3640b6=a12_0x241f67,_0xd9ca7=_0x3de94a[_0x3640b6(0x191)],_0x3838d9=_0x3de94a[_0x3640b6(0x1dd)],_0x62abe3=_0x3de94a[_0x3640b6(0x175)],_0x447e75=_0x3de94a[_0x3640b6(0x1de)],_0xefff1c=_0x3de94a[_0x3640b6(0x167)],_0x51d858=_0xefff1c===void 0x0?[]:_0xefff1c,_0x5c2c87=_0x3de94a[_0x3640b6(0x19c)],_0x440382=_0x3de94a['isInteractive'];return{'Image':_0xd9ca7,'Hostname':_0x3838d9,'AttachStdin':_0x440382,'AttachStdout':!![],'AttachStderr':!![],'User':resolveDockerUser({'stage':_0x3640b6(0x1c4)}),'Tty':_0x5c2c87,'OpenStdin':_0x440382,'StdinOnce':!![],'Env':resolveDockerEnv(_0x447e75),'Cmd':_0x51d858[_0x3640b6(0x1af)]?_0x51d858:['/bin/bash'],'HostConfig':{'AutoRemove':!![],'Mounts':_0x62abe3}};}exports[a12_0x241f67(0x1c8)]=generateSboxOpts;function resolveDockerUser(_0x33c7f4){var _0x2741bd=a12_0x241f67,_0x1107b4=_0x33c7f4['nasConfig'],_0x596698=_0x33c7f4[_0x2741bd(0x180)],_0x594ac0=_0x596698===void 0x0?'run':_0x596698,_0x47c88c=definition_1['getUserIdAndGroupId'](_0x1107b4),_0x4a01d0=_0x47c88c[_0x2741bd(0x1d0)],_0x53328a=_0x47c88c[_0x2741bd(0x1b2)];return process[_0x2741bd(0x1a5)]===_0x2741bd(0x1a4)?(logger_1[_0x2741bd(0x1c0)][_0x2741bd(0x195)](_0x2741bd(0x174)),_0x4a01d0=process[_0x2741bd(0x1ac)](),_0x53328a=process['getgid']()):_0x594ac0==='run'?((_0x4a01d0===-0x1||_0x4a01d0===undefined)&&(_0x4a01d0=NAS_UID),(_0x53328a===-0x1||_0x53328a===undefined)&&(_0x53328a=NAS_GID)):(_0x4a01d0=0x0,_0x53328a=0x0),_0x4a01d0+':'+_0x53328a;}exports[a12_0x241f67(0x1d9)]=resolveDockerUser;function generateInstallOpts(_0x111fee,_0x1456fd,_0x451239){return{'Image':_0x111fee,'Tty':!![],'Env':resolveDockerEnv(_0x451239),'Cmd':['/bin/bash'],'HostConfig':{'AutoRemove':!![],'Mounts':_0x1456fd}};}exports['generateInstallOpts']=generateInstallOpts;function a12_0x384b(_0x15b49d,_0x4d8804){return a12_0x384b=function(_0x593317,_0x384b1b){_0x593317=_0x593317-0x166;var _0x1566f4=a12_0x5933[_0x593317];return _0x1566f4;},a12_0x384b(_0x15b49d,_0x4d8804);}function transformMountsForToolbox(_0x4f0062){var _0x9b064=a12_0x241f67;console[_0x9b064(0x1b3)](_0x9b064(0x1d2));if(Array[_0x9b064(0x190)](_0x4f0062))return _0x4f0062[_0x9b064(0x1be)](function(_0x4bcd51){return transformSourcePathOfMount(_0x4bcd51);});return transformSourcePathOfMount(_0x4f0062);}exports[a12_0x241f67(0x182)]=transformMountsForToolbox;function transformSourcePathOfMount(_0x1f935e){var _0x48a02f=a12_0x241f67;if(!_[_0x48a02f(0x1c3)](_0x1f935e)){var _0x553f8e=Object[_0x48a02f(0x1cf)]({},_0x1f935e);return _0x553f8e[_0x48a02f(0x176)]=transformPathForVirtualBox(_0x1f935e[_0x48a02f(0x176)]),_0x553f8e;}return{};}function transformPathForVirtualBox(_0x1e5f95){var _0x2a8bc0=a12_0x241f67,_0x5eb32f=_0x1e5f95['split'](':')['join'](''),_0xde3fb3=_['lowerFirst'](_0x5eb32f[_0x2a8bc0(0x1b9)]('\x5c')[_0x2a8bc0(0x173)]('/'));return'/'+_0xde3fb3;}exports[a12_0x241f67(0x1d6)]=transformPathForVirtualBox;function generateLocalInvokeOpts(_0x4b9d74,_0x4bd906,_0x1c06dc,_0x4b751e,_0x2a36e2,_0x350268,_0x1edef2,_0x19884f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x9ef7f,_0x5a7cfc,_0xc5032a,_0xb39528,_0x3f4687,_0xab543d,_0x4a8f1d;return __generator(this,function(_0x4661ff){var _0x33eb74=a12_0x384b;switch(_0x4661ff[_0x33eb74(0x168)]){case 0x0:_0x9ef7f={'HostConfig':{'AutoRemove':!![],'Mounts':_0x1c06dc}},_0x5a7cfc={};_0x2a36e2&&(_0x5a7cfc=debug_1['generateDockerDebugOpts'](_0x4b9d74,_0x2a36e2,_0x19884f));_0xc5032a={'OpenStdin':!![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]};return[0x4,resolveRuntimeToDockerImage(_0x4b9d74)];case 0x1:_0xb39528=_0x4661ff[_0x33eb74(0x181)](),supportCustomBootstrapFile(_0x4b9d74,_0x350268),_0x3f4687=nested_object_assign_1[_0x33eb74(0x1c0)]({'Env':resolveDockerEnv(_0x350268),'Image':_0xb39528,'name':_0x4bd906,'Cmd':_0x4b751e,'User':_0x1edef2},_0xc5032a,_0x9ef7f,_0x5a7cfc),_0xab543d=_[_0x33eb74(0x1e1)](_0x3f4687);(_0xab543d===null||_0xab543d===void 0x0?void 0x0:_0xab543d[_0x33eb74(0x189)])&&(_0x4a8f1d=_0xab543d[_0x33eb74(0x189)][_0x33eb74(0x1be)](function(_0xcbbfde){var _0x48acfd=_0x33eb74;if(_0xcbbfde['startsWith'](_0x48acfd(0x1d3))||_0xcbbfde['startsWith']('FC_ACCESS_KEY_SECRET')||_0xcbbfde[_0x48acfd(0x179)](_0x48acfd(0x1d7))){var _0x46c442=_0xcbbfde[_0x48acfd(0x1b9)]('='),_0x5a31f5=utils_1[_0x48acfd(0x16f)](_0x46c442[0x1]);return _0x46c442[0x0]+'='+_0x5a31f5;}else return _0xcbbfde;}),_0xab543d['Env']=_0x4a8f1d);logger_1[_0x33eb74(0x1c0)][_0x33eb74(0x195)](_0x33eb74(0x17a)+JSON['stringify'](_0xab543d,null,'\x20\x20'));return[0x2,_0x3f4687];}});});}exports['generateLocalInvokeOpts']=generateLocalInvokeOpts;function generateContainerNameFilter(_0x51239e,_0x4175d6){var _0x2cccf7=a12_0x241f67;if(_0x4175d6)return _0x2cccf7(0x1a0)+_0x51239e+_0x2cccf7(0x16d);return _0x2cccf7(0x1a0)+_0x51239e+_0x2cccf7(0x1da);}exports[a12_0x241f67(0x1bc)]=generateContainerNameFilter;function generateContainerName(_0x30c91b,_0xbefc6d,_0x36d36e){var _0x34e14f=a12_0x241f67;return('fc-local-'+_0x30c91b+'-'+_0xbefc6d)[_0x34e14f(0x166)](/ /g,'')+(_0x36d36e?_0x34e14f(0x1c2):_0x34e14f(0x19d));}exports[a12_0x241f67(0x18d)]=generateContainerName;function generateLocalStartOpts(_0x57691b,_0xbb2fa1,_0x4613ba,_0x11b246,_0x56cd87,_0x512d93,_0x909969){var _0x4f09f2=a12_0x241f67,_0x462f86=_0x909969[_0x4f09f2(0x1cd)],_0x236c1d=_0x909969[_0x4f09f2(0x184)],_0x1d3b14=_0x909969[_0x4f09f2(0x194)],_0x480ee0=_0x1d3b14===void 0x0?null:_0x1d3b14,_0x57a464=_0x909969[_0x4f09f2(0x191)],_0x55f90f=_0x909969[_0x4f09f2(0x1c5)],_0x192517=_0x55f90f===void 0x0?0x2328:_0x55f90f;return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1af3ec){var _0x262d9a=a12_0x384b;switch(_0x1af3ec['label']){case 0x0:if(runtime_1[_0x262d9a(0x1d8)](_0xbb2fa1))return[0x2,genCustomContainerLocalStartOpts(_0x57691b,_0x4613ba,_0x11b246,_0x56cd87,_0x512d93,_0x57a464,_0x192517)];return[0x4,genNonCustomContainerLocalStartOpts(_0x57691b,_0xbb2fa1,_0x4613ba,_0x11b246,_0x56cd87,_0x462f86,_0x512d93,_0x236c1d,_0x480ee0)];case 0x1:return[0x2,_0x1af3ec['sent']()];}});});}exports[a12_0x241f67(0x1db)]=generateLocalStartOpts;function genNonCustomContainerLocalStartOpts(_0x306779,_0xb41f3f,_0x51d8a0,_0x587c20,_0x2655f8,_0x43eb15,_0x50b34d,_0x1f0533,_0x1c1024){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5ccda3,_0x3c6e78,_0x3e0514,_0x1e7693,_0x199ad3;return __generator(this,function(_0x448e47){var _0x435f75=a12_0x384b;switch(_0x448e47[_0x435f75(0x168)]){case 0x0:_0x5ccda3={'HostConfig':{'AutoRemove':!![],'Mounts':_0x587c20}};!_[_0x435f75(0x1c3)](_0x306779)&&(_0x5ccda3['HostConfig'][_0x435f75(0x1d4)]='container:'+_0x306779);return[0x4,resolveRuntimeToDockerImage(_0xb41f3f)];case 0x1:_0x3c6e78=_0x448e47[_0x435f75(0x181)](),supportCustomBootstrapFile(_0xb41f3f,_0x50b34d),_0x3e0514=nested_object_assign_1[_0x435f75(0x1c0)]({'Env':resolveDockerEnv(_0x50b34d),'Image':_0x3c6e78,'name':_0x51d8a0,'Cmd':_0x2655f8,'User':_0x1f0533,'Entrypoint':[resolveMockScript(_0xb41f3f)]},_0x5ccda3),_0x1e7693=_[_0x435f75(0x1e1)](_0x3e0514);(_0x1e7693===null||_0x1e7693===void 0x0?void 0x0:_0x1e7693[_0x435f75(0x189)])&&(_0x199ad3=_0x1e7693['Env'][_0x435f75(0x1be)](function(_0x4d79c9){var _0x3e49d1=_0x435f75;if(_0x4d79c9[_0x3e49d1(0x179)]('FC_ACCESS_KEY_ID')||_0x4d79c9[_0x3e49d1(0x179)](_0x3e49d1(0x188))||_0x4d79c9[_0x3e49d1(0x179)](_0x3e49d1(0x1d7))){var _0x3a98c4=_0x4d79c9['split']('='),_0xd55292=utils_1[_0x3e49d1(0x16f)](_0x3a98c4[0x1]);return _0x3a98c4[0x0]+'='+_0xd55292;}else return _0x4d79c9;}),_0x1e7693[_0x435f75(0x189)]=_0x199ad3);logger_1[_0x435f75(0x1c0)][_0x435f75(0x195)](_0x435f75(0x1a2)+JSON[_0x435f75(0x186)](_0x1e7693,null,'\x20\x20'));return[0x2,_0x3e0514];}});});}function supportCustomBootstrapFile(_0x2c10fc,_0x18dfbe){var _0x3c2678=a12_0x241f67;_0x2c10fc===_0x3c2678(0x1a3)&&(_0x18dfbe['BOOTSTRAP_FILE']&&(_0x18dfbe[_0x3c2678(0x192)]=_0x18dfbe['BOOTSTRAP_FILE']));}function resolveMockScript(_0x121e7d){var _0x2c7f3b=a12_0x241f67;return _0x2c7f3b(0x185)+_0x121e7d+_0x2c7f3b(0x1bf);}exports[a12_0x241f67(0x1c7)]=resolveMockScript;function genCustomContainerLocalStartOpts(_0x21906c,_0x4ed73b,_0x49e9ac,_0x42915e,_0x592f82,_0xa78552,_0x6e4f27){var _0x2b597e=a12_0x241f67,_0x5d5359,_0x39326e;_0x6e4f27===void 0x0&&(_0x6e4f27=0x2328);var _0x35384e=_0x6e4f27+_0x2b597e(0x1d5),_0x3e62d0={'ExposedPorts':(_0x5d5359={},_0x5d5359[_0x35384e]={},_0x5d5359),'HostConfig':{'AutoRemove':!![],'Mounts':_0x49e9ac,'PortBindings':(_0x39326e={},_0x39326e[_0x35384e]=[{'HostIp':'','HostPort':''+_0x6e4f27}],_0x39326e)}};!_[_0x2b597e(0x1c3)](_0x21906c)&&(_0x3e62d0[_0x2b597e(0x1ab)][_0x2b597e(0x1d4)]='container:'+_0x21906c);var _0x25c65f={'Env':resolveDockerEnv(_0x592f82,!![]),'Image':_0xa78552,'name':_0x4ed73b};_0x42915e!==[]&&(_0x25c65f[_0x2b597e(0x187)]=_0x42915e);var _0x17cd79={'OpenStdin':!![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x1366e6=nested_object_assign_1[_0x2b597e(0x1c0)](_0x25c65f,_0x3e62d0,_0x17cd79),_0x32fe6d=_[_0x2b597e(0x1e1)](_0x1366e6);if(_0x32fe6d===null||_0x32fe6d===void 0x0?void 0x0:_0x32fe6d['Env']){var _0x5959b6=_0x32fe6d['Env'][_0x2b597e(0x1be)](function(_0x3d9381){var _0x3a46f1=_0x2b597e;if(_0x3d9381[_0x3a46f1(0x179)]('FC_ACCESS_KEY_ID')||_0x3d9381[_0x3a46f1(0x179)](_0x3a46f1(0x188))||_0x3d9381[_0x3a46f1(0x179)](_0x3a46f1(0x1d7))){var _0x2afe68=_0x3d9381[_0x3a46f1(0x1b9)]('='),_0xbc4afa=utils_1[_0x3a46f1(0x16f)](_0x2afe68[0x1]);return _0x2afe68[0x0]+'='+_0xbc4afa;}else return _0x3d9381;});_0x32fe6d[_0x2b597e(0x189)]=_0x5959b6;}return logger_1[_0x2b597e(0x1c0)]['debug'](_0x2b597e(0x169)+JSON[_0x2b597e(0x186)](_0x32fe6d,null,'\x20\x20')),_0x1366e6;}function resolveDockerRegistry(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x206314,_0x48a675;return __generator(this,function(_0x1cb662){var _0x3cea43=a12_0x384b;switch(_0x1cb662[_0x3cea43(0x168)]){case 0x0:if(DOCKER_REGISTRY_CACHE)return[0x2,DOCKER_REGISTRY_CACHE];_0x206314=exports[_0x3cea43(0x19f)][_0x3cea43(0x1be)](function(_0x4c173a){var _0x138ec4=_0x3cea43;return httpx[_0x138ec4(0x1b0)](_0x138ec4(0x1dc)+_0x4c173a+_0x138ec4(0x1d1),{'timeout':0xbb8})[_0x138ec4(0x1b8)](function(){return _0x4c173a;});}),_0x1cb662[_0x3cea43(0x168)]=0x1;case 0x1:_0x1cb662[_0x3cea43(0x18b)][_0x3cea43(0x172)]([0x1,0x3,,0x4]);return[0x4,Promise[_0x3cea43(0x18e)](_0x206314)];case 0x2:DOCKER_REGISTRY_CACHE=_0x1cb662[_0x3cea43(0x181)]();return[0x3,0x4];case 0x3:_0x48a675=_0x1cb662[_0x3cea43(0x181)](),DOCKER_REGISTRY_CACHE=DEFAULT_REGISTRY;return[0x3,0x4];case 0x4:return[0x2,DOCKER_REGISTRY_CACHE];}});});}exports[a12_0x241f67(0x170)]=resolveDockerRegistry;function resolveDockerEnv(_0x3d45f5,_0x31e199){var _0x36696b=a12_0x241f67;_0x3d45f5===void 0x0&&(_0x3d45f5={});_0x31e199===void 0x0&&(_0x31e199=![]);if(_0x31e199)return _[_0x36696b(0x1be)](_0x3d45f5||{},function(_0x3e8e77,_0xaf8b10){return _0xaf8b10+'='+_0x3e8e77;});return _[_0x36696b(0x1be)](env_1[_0x36696b(0x198)](_0x3d45f5||{}),function(_0x5cbef1,_0x44117d){return _0x44117d+'='+_0x5cbef1;});}exports[a12_0x241f67(0x1c1)]=resolveDockerEnv;function resolveRuntimeToDockerImage(_0x48c760,_0x36b4fc){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5848c5,_0x2c7842;return __generator(this,function(_0x58da47){var _0x4d1028=a12_0x384b;if(runtimeImageMap[_0x48c760])return _0x5848c5=runtimeImageMap[_0x48c760],_0x36b4fc?_0x2c7842=_0x4d1028(0x18a)+_0x5848c5+_0x4d1028(0x17b)+IMAGE_VERSION:_0x2c7842='aliyunfc/runtime-'+_0x5848c5+':'+IMAGE_VERSION,logger_1[_0x4d1028(0x1c0)]['debug'](_0x4d1028(0x19e)+_0x2c7842),[0x2,_0x2c7842];throw new Error('invalid\x20runtime\x20name\x20'+_0x48c760);});});}exports[a12_0x241f67(0x17e)]=resolveRuntimeToDockerImage;