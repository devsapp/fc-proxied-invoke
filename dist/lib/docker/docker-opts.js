'use strict';var a12_0x6c82=['length','277445CniLvu','generateContainerName','transformPathForVirtualBox','nodejs12','905947hPKGLV','imageName:\x20','default','docker\x20options\x20for\x20custom\x20container:\x20','isEmpty','nested-object-assign','3POVEdB','request','mounts','getuid','label','362rUxZZG','cmd','httpx','userId','aliyunfc/runtime-','Source','envs','hasOwnProperty','Cmd','/bin/bash','generateSboxOpts','isArray','../utils/utils','isTty','addEnv','create','defineProperty','isInteractive','ops','push','resolveImageNameForPull','startsWith','resolveMockScript','warn','dotnetcore2.1','HostConfig','java11','imageName','For\x20linux\x20platform,\x20Fc\x20will\x20use\x20host\x20userId\x20and\x20groupId\x20to\x20build\x20or\x20run\x20your\x20functions','throw','replace','1357515IbnQsN','next','sent','call','Env','FC_DOCKER_VERSION','php7.2','done','__importStar','Generator\x20is\x20already\x20executing.','generateLocalStartOpts','{\x22name\x22:\x20[\x22','return','java8','resolveRuntimeToDockerImage','generateContainerNameFilter','../definition','FC_ACCOUNT_ID','../local-invoke/env','stringify','resolveDockerUser','resolveDockerEnv','join','generateInstallOpts','debug','BOOTSTRAP_FILE','../utils/runtime','stage','env','race','platform','__importDefault','__generator','function','NetworkMode','__setModuleDefault','4073tIGcIS','nasConfig','custom','then','lowerFirst','183989WgUvEm','transformMountsForToolbox','groupId','value','mark','resolveDockerRegistry','registry.hub.docker.com','debugIde','__esModule','pop','1.9.18','trys','1136FceGms','4BNmVbn','docker\x20options:\x20','/var/fc/runtime/','1218882TycXNt','invalid\x20runtime\x20name\x20','DOCKER_REGISTRIES','run','python2.7','/v2/aliyunfc/runtime-nodejs8/tags/list','AGENT_SCRIPT','fc-local-','\x22]}','getgid','__createBinding','container:','split','map','__awaiter','hostname','../../common/logger','764FcrLEj','nodejs10'];var a12_0x223f27=a12_0x575c;(function(_0x5a215c,_0x31ec54){var _0x11d419=a12_0x575c;while(!![]){try{var _0x453c74=parseInt(_0x11d419(0xe3))*-parseInt(_0x11d419(0xcc))+parseInt(_0x11d419(0xcb))*-parseInt(_0x11d419(0xe0))+-parseInt(_0x11d419(0x111))+parseInt(_0x11d419(0xcf))+-parseInt(_0x11d419(0xbf))*-parseInt(_0x11d419(0xed))+parseInt(_0x11d419(0xf2))*parseInt(_0x11d419(0xba))+parseInt(_0x11d419(0xe7));if(_0x453c74===_0x31ec54)break;else _0x5a215c['push'](_0x5a215c['shift']());}catch(_0x575990){_0x5a215c['push'](_0x5a215c['shift']());}}}(a12_0x6c82,0xc7397));var __createBinding=this&&this[a12_0x223f27(0xd9)]||(Object[a12_0x223f27(0x101)]?function(_0x4e526f,_0x5e6963,_0x4839d0,_0x1da054){var _0x35c92a=a12_0x223f27;if(_0x1da054===undefined)_0x1da054=_0x4839d0;Object[_0x35c92a(0x102)](_0x4e526f,_0x1da054,{'enumerable':!![],'get':function(){return _0x5e6963[_0x4839d0];}});}:function(_0x189941,_0x31db9e,_0x52658d,_0xa21d94){if(_0xa21d94===undefined)_0xa21d94=_0x52658d;_0x189941[_0xa21d94]=_0x31db9e[_0x52658d];}),__setModuleDefault=this&&this[a12_0x223f27(0xb9)]||(Object[a12_0x223f27(0x101)]?function(_0x50a127,_0x10b309){var _0x29444a=a12_0x223f27;Object['defineProperty'](_0x50a127,_0x29444a(0xe9),{'enumerable':!![],'value':_0x10b309});}:function(_0x105a43,_0x27134e){var _0x306d38=a12_0x223f27;_0x105a43[_0x306d38(0xe9)]=_0x27134e;}),__importStar=this&&this[a12_0x223f27(0x119)]||function(_0xbf2eca){var _0x288b42=a12_0x223f27;if(_0xbf2eca&&_0xbf2eca[_0x288b42(0xc7)])return _0xbf2eca;var _0x4c3792={};if(_0xbf2eca!=null){for(var _0x2fcf50 in _0xbf2eca)if(_0x2fcf50!==_0x288b42(0xe9)&&Object[_0x288b42(0xf9)][_0x288b42(0x114)](_0xbf2eca,_0x2fcf50))__createBinding(_0x4c3792,_0xbf2eca,_0x2fcf50);}return __setModuleDefault(_0x4c3792,_0xbf2eca),_0x4c3792;},__awaiter=this&&this[a12_0x223f27(0xdd)]||function(_0x23668f,_0x3efe16,_0x3119f1,_0x3bbc0a){function _0x3270e8(_0x49cc45){return _0x49cc45 instanceof _0x3119f1?_0x49cc45:new _0x3119f1(function(_0x5aac46){_0x5aac46(_0x49cc45);});}return new(_0x3119f1||(_0x3119f1=Promise))(function(_0x26758d,_0x425a90){function _0x5cebd5(_0x3f453c){var _0xb74cda=a12_0x575c;try{_0x20c78a(_0x3bbc0a[_0xb74cda(0x112)](_0x3f453c));}catch(_0x4c2d0d){_0x425a90(_0x4c2d0d);}}function _0x287d37(_0x31d283){var _0x353dc6=a12_0x575c;try{_0x20c78a(_0x3bbc0a[_0x353dc6(0x10f)](_0x31d283));}catch(_0x297eb3){_0x425a90(_0x297eb3);}}function _0x20c78a(_0x396eb1){var _0x3924b6=a12_0x575c;_0x396eb1[_0x3924b6(0x118)]?_0x26758d(_0x396eb1[_0x3924b6(0xc2)]):_0x3270e8(_0x396eb1[_0x3924b6(0xc2)])[_0x3924b6(0xbd)](_0x5cebd5,_0x287d37);}_0x20c78a((_0x3bbc0a=_0x3bbc0a['apply'](_0x23668f,_0x3efe16||[]))['next']());});},__generator=this&&this[a12_0x223f27(0x131)]||function(_0x146389,_0x5c28e5){var _0xc700b8=a12_0x223f27,_0x5d5f07={'label':0x0,'sent':function(){if(_0x56cc10[0x0]&0x1)throw _0x56cc10[0x1];return _0x56cc10[0x1];},'trys':[],'ops':[]},_0x5f50e5,_0xeb1608,_0x56cc10,_0x41b18a;return _0x41b18a={'next':_0x2d6bb6(0x0),'throw':_0x2d6bb6(0x1),'return':_0x2d6bb6(0x2)},typeof Symbol===_0xc700b8(0x132)&&(_0x41b18a[Symbol['iterator']]=function(){return this;}),_0x41b18a;function _0x2d6bb6(_0x45b519){return function(_0x24fa9e){return _0x49b7be([_0x45b519,_0x24fa9e]);};}function _0x49b7be(_0x2873c8){var _0x4006bb=_0xc700b8;if(_0x5f50e5)throw new TypeError(_0x4006bb(0x11a));while(_0x5d5f07)try{if(_0x5f50e5=0x1,_0xeb1608&&(_0x56cc10=_0x2873c8[0x0]&0x2?_0xeb1608[_0x4006bb(0x11d)]:_0x2873c8[0x0]?_0xeb1608[_0x4006bb(0x10f)]||((_0x56cc10=_0xeb1608[_0x4006bb(0x11d)])&&_0x56cc10[_0x4006bb(0x114)](_0xeb1608),0x0):_0xeb1608[_0x4006bb(0x112)])&&!(_0x56cc10=_0x56cc10[_0x4006bb(0x114)](_0xeb1608,_0x2873c8[0x1]))['done'])return _0x56cc10;if(_0xeb1608=0x0,_0x56cc10)_0x2873c8=[_0x2873c8[0x0]&0x2,_0x56cc10[_0x4006bb(0xc2)]];switch(_0x2873c8[0x0]){case 0x0:case 0x1:_0x56cc10=_0x2873c8;break;case 0x4:_0x5d5f07[_0x4006bb(0xf1)]++;return{'value':_0x2873c8[0x1],'done':![]};case 0x5:_0x5d5f07[_0x4006bb(0xf1)]++,_0xeb1608=_0x2873c8[0x1],_0x2873c8=[0x0];continue;case 0x7:_0x2873c8=_0x5d5f07[_0x4006bb(0x104)][_0x4006bb(0xc8)](),_0x5d5f07[_0x4006bb(0xca)][_0x4006bb(0xc8)]();continue;default:if(!(_0x56cc10=_0x5d5f07['trys'],_0x56cc10=_0x56cc10[_0x4006bb(0xe2)]>0x0&&_0x56cc10[_0x56cc10[_0x4006bb(0xe2)]-0x1])&&(_0x2873c8[0x0]===0x6||_0x2873c8[0x0]===0x2)){_0x5d5f07=0x0;continue;}if(_0x2873c8[0x0]===0x3&&(!_0x56cc10||_0x2873c8[0x1]>_0x56cc10[0x0]&&_0x2873c8[0x1]<_0x56cc10[0x3])){_0x5d5f07[_0x4006bb(0xf1)]=_0x2873c8[0x1];break;}if(_0x2873c8[0x0]===0x6&&_0x5d5f07[_0x4006bb(0xf1)]<_0x56cc10[0x1]){_0x5d5f07[_0x4006bb(0xf1)]=_0x56cc10[0x1],_0x56cc10=_0x2873c8;break;}if(_0x56cc10&&_0x5d5f07[_0x4006bb(0xf1)]<_0x56cc10[0x2]){_0x5d5f07[_0x4006bb(0xf1)]=_0x56cc10[0x2],_0x5d5f07[_0x4006bb(0x104)][_0x4006bb(0x105)](_0x2873c8);break;}if(_0x56cc10[0x2])_0x5d5f07['ops'][_0x4006bb(0xc8)]();_0x5d5f07[_0x4006bb(0xca)][_0x4006bb(0xc8)]();continue;}_0x2873c8=_0x5c28e5[_0x4006bb(0x114)](_0x146389,_0x5d5f07);}catch(_0x13117b){_0x2873c8=[0x6,_0x13117b],_0xeb1608=0x0;}finally{_0x5f50e5=_0x56cc10=0x0;}if(_0x2873c8[0x0]&0x5)throw _0x2873c8[0x1];return{'value':_0x2873c8[0x0]?_0x2873c8[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a12_0x223f27(0x130)]||function(_0x213611){var _0x199b03=a12_0x223f27;return _0x213611&&_0x213611[_0x199b03(0xc7)]?_0x213611:{'default':_0x213611};};Object[a12_0x223f27(0x102)](exports,a12_0x223f27(0xc7),{'value':!![]}),exports[a12_0x223f27(0x11f)]=exports[a12_0x223f27(0x126)]=exports[a12_0x223f27(0xc4)]=exports[a12_0x223f27(0x108)]=exports['generateLocalStartOpts']=exports[a12_0x223f27(0xe4)]=exports['generateContainerNameFilter']=exports[a12_0x223f27(0xe5)]=exports[a12_0x223f27(0xc0)]=exports['generateInstallOpts']=exports[a12_0x223f27(0x125)]=exports[a12_0x223f27(0xfc)]=exports[a12_0x223f27(0x106)]=exports[a12_0x223f27(0xd1)]=void 0x0;var httpx=__importStar(require(a12_0x223f27(0xf4))),_=__importStar(require('lodash')),env_1=require(a12_0x223f27(0x123)),logger_1=__importDefault(require(a12_0x223f27(0xdf))),definition_1=require(a12_0x223f27(0x121)),nested_object_assign_1=__importDefault(require(a12_0x223f27(0xec))),runtime_1=require(a12_0x223f27(0x12b)),utils_1=require(a12_0x223f27(0xfe)),REGISTRY_DEFAULT='registry.cn-beijing.aliyuncs.com',DEFAULT_REGISTRY=REGISTRY_DEFAULT||a12_0x223f27(0xc5);exports[a12_0x223f27(0xd1)]=['registry.cn-beijing.aliyuncs.com',a12_0x223f27(0xc5)];var IMAGE_VERSION=process[a12_0x223f27(0x12d)][a12_0x223f27(0x116)]||a12_0x223f27(0xc9),DOCKER_REGISTRY_CACHE,NAS_UID=0x2713,NAS_GID=0x2713,runtimeImageMap={'nodejs6':'nodejs6','nodejs8':'nodejs8','nodejs10':a12_0x223f27(0xe1),'nodejs12':a12_0x223f27(0xe6),'python2.7':a12_0x223f27(0xd3),'python3':'python3.6','java8':a12_0x223f27(0x11e),'java11':a12_0x223f27(0x10c),'php7.2':a12_0x223f27(0x117),'dotnetcore2.1':a12_0x223f27(0x10a),'custom':a12_0x223f27(0xbc)};function resolveImageNameForPull(_0x329ac0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x77d3cf;return __generator(this,function(_0x418386){var _0x32b359=a12_0x575c;switch(_0x418386[_0x32b359(0xf1)]){case 0x0:return[0x4,resolveDockerRegistry()];case 0x1:_0x77d3cf=_0x418386[_0x32b359(0x113)]();_0x77d3cf&&(_0x329ac0=_0x77d3cf+'/'+_0x329ac0);return[0x2,_0x329ac0];}});});}exports[a12_0x223f27(0x106)]=resolveImageNameForPull;function generateSboxOpts(_0x55f831){var _0x171aaa=a12_0x223f27,_0x280a3b=_0x55f831[_0x171aaa(0x10d)],_0x3ced45=_0x55f831[_0x171aaa(0xde)],_0x5f0af5=_0x55f831[_0x171aaa(0xef)],_0x1dc47c=_0x55f831[_0x171aaa(0xf8)],_0x504244=_0x55f831[_0x171aaa(0xf3)],_0x3d6c7d=_0x504244===void 0x0?[]:_0x504244,_0x339111=_0x55f831[_0x171aaa(0xff)],_0x4bf60f=_0x55f831[_0x171aaa(0x103)];return{'Image':_0x280a3b,'Hostname':_0x3ced45,'AttachStdin':_0x4bf60f,'AttachStdout':!![],'AttachStderr':!![],'User':resolveDockerUser({'stage':'sbox'}),'Tty':_0x339111,'OpenStdin':_0x4bf60f,'StdinOnce':!![],'Env':resolveDockerEnv(_0x1dc47c),'Cmd':_0x3d6c7d['length']?_0x3d6c7d:[_0x171aaa(0xfb)],'HostConfig':{'AutoRemove':!![],'Mounts':_0x5f0af5}};}exports[a12_0x223f27(0xfc)]=generateSboxOpts;function resolveDockerUser(_0x1d9908){var _0x557864=a12_0x223f27,_0x2a63c2=_0x1d9908[_0x557864(0xbb)],_0x397777=_0x1d9908[_0x557864(0x12c)],_0x5ade43=_0x397777===void 0x0?'run':_0x397777,_0x5da4aa=definition_1['getUserIdAndGroupId'](_0x2a63c2),_0x5c7756=_0x5da4aa[_0x557864(0xf5)],_0x472d8b=_0x5da4aa[_0x557864(0xc1)];return process[_0x557864(0x12f)]==='linux'?(logger_1[_0x557864(0xe9)][_0x557864(0x129)](_0x557864(0x10e)),_0x5c7756=process[_0x557864(0xf0)](),_0x472d8b=process[_0x557864(0xd8)]()):_0x5ade43===_0x557864(0xd2)?((_0x5c7756===-0x1||_0x5c7756===undefined)&&(_0x5c7756=NAS_UID),(_0x472d8b===-0x1||_0x472d8b===undefined)&&(_0x472d8b=NAS_GID)):(_0x5c7756=0x0,_0x472d8b=0x0),_0x5c7756+':'+_0x472d8b;}exports['resolveDockerUser']=resolveDockerUser;function generateInstallOpts(_0x1bc26d,_0x453328,_0x4a9a41){return{'Image':_0x1bc26d,'Tty':!![],'Env':resolveDockerEnv(_0x4a9a41),'Cmd':['/bin/bash'],'HostConfig':{'AutoRemove':!![],'Mounts':_0x453328}};}exports[a12_0x223f27(0x128)]=generateInstallOpts;function transformMountsForToolbox(_0x8d13b2){var _0x3cbad0=a12_0x223f27;console[_0x3cbad0(0x109)]('We\x20detected\x20that\x20you\x20are\x20using\x20docker\x20toolbox.\x20For\x20a\x20better\x20experience,\x20please\x20upgrade\x20\x27docker\x20for\x20windows\x27.\x0aYou\x20can\x20refer\x20to\x20Chinese\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation-zh.md#windows-%E5%AE%89%E8%A3%85-docker\x20or\x20English\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation.md.\x0a');if(Array[_0x3cbad0(0xfd)](_0x8d13b2))return _0x8d13b2[_0x3cbad0(0xdc)](function(_0x488aa8){return transformSourcePathOfMount(_0x488aa8);});return transformSourcePathOfMount(_0x8d13b2);}exports['transformMountsForToolbox']=transformMountsForToolbox;function transformSourcePathOfMount(_0x1c2a7f){var _0x59849e=a12_0x223f27;if(!_[_0x59849e(0xeb)](_0x1c2a7f)){var _0x5ed487=Object['assign']({},_0x1c2a7f);return _0x5ed487['Source']=transformPathForVirtualBox(_0x1c2a7f[_0x59849e(0xf7)]),_0x5ed487;}return{};}function transformPathForVirtualBox(_0xe6c01f){var _0x4f9cba=a12_0x223f27,_0x49c57b=_0xe6c01f[_0x4f9cba(0xdb)](':')['join'](''),_0x1a8d9a=_[_0x4f9cba(0xbe)](_0x49c57b[_0x4f9cba(0xdb)]('\x5c')[_0x4f9cba(0x127)]('/'));return'/'+_0x1a8d9a;}exports[a12_0x223f27(0xe5)]=transformPathForVirtualBox;function generateContainerNameFilter(_0x1e56cc,_0x59294d){var _0x5558c7=a12_0x223f27;if(_0x59294d)return'{\x22name\x22:\x20[\x22'+_0x1e56cc+'-inited\x22]}';return _0x5558c7(0x11c)+_0x1e56cc+_0x5558c7(0xd7);}exports[a12_0x223f27(0x120)]=generateContainerNameFilter;function generateContainerName(_0x1e4fa5,_0x28be31,_0xe49b89){var _0xc92c00=a12_0x223f27;return(_0xc92c00(0xd6)+_0x1e4fa5+'-'+_0x28be31)[_0xc92c00(0x110)](/ /g,'')+(_0xe49b89?'-debug':'-run');}exports['generateContainerName']=generateContainerName;function generateLocalStartOpts(_0x2df8f4,_0x25eac7,_0x14c032,_0x4bb890,_0x19f242,_0x199a21,_0x21be7e){var _0x54a47a=a12_0x223f27,_0x448a81=_0x21be7e['debugPort'],_0xc1d672=_0x21be7e['dockerUser'],_0x1afbe8=_0x21be7e[_0x54a47a(0xc6)],_0x6686f7=_0x1afbe8===void 0x0?null:_0x1afbe8,_0x33e2a2=_0x21be7e[_0x54a47a(0x10d)];return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x32fcd3){var _0x3d5117=a12_0x575c;switch(_0x32fcd3[_0x3d5117(0xf1)]){case 0x0:if(runtime_1['isCustomContainerRuntime'](_0x25eac7))return[0x2,genCustomContainerLocalStartOpts(_0x2df8f4,_0x14c032,_0x4bb890,_0x19f242,_0x199a21,_0x33e2a2)];return[0x4,genNonCustomContainerLocalStartOpts(_0x2df8f4,_0x25eac7,_0x14c032,_0x4bb890,_0x19f242,_0x448a81,_0x199a21,_0xc1d672,_0x6686f7)];case 0x1:return[0x2,_0x32fcd3[_0x3d5117(0x113)]()];}});});}exports[a12_0x223f27(0x11b)]=generateLocalStartOpts;function genNonCustomContainerLocalStartOpts(_0x4af88a,_0x400fb1,_0x474aca,_0x22cd0b,_0x20eb03,_0x19e291,_0x1ff96b,_0x5c71e9,_0x64a9d2){return __awaiter(this,void 0x0,void 0x0,function(){var _0x51e783,_0x533de5,_0x449fc5,_0x46f784;return __generator(this,function(_0x4d4e31){var _0x3adbc3=a12_0x575c;switch(_0x4d4e31[_0x3adbc3(0xf1)]){case 0x0:_0x51e783={'HostConfig':{'AutoRemove':!![],'Mounts':_0x22cd0b}};!_[_0x3adbc3(0xeb)](_0x4af88a)&&(_0x51e783['HostConfig']['NetworkMode']=_0x3adbc3(0xda)+_0x4af88a);return[0x4,resolveRuntimeToDockerImage(_0x400fb1)];case 0x1:_0x533de5=_0x4d4e31['sent'](),supportCustomBootstrapFile(_0x400fb1,_0x1ff96b),_0x449fc5=nested_object_assign_1[_0x3adbc3(0xe9)]({'Env':resolveDockerEnv(_0x1ff96b),'Image':_0x533de5,'name':_0x474aca,'Cmd':_0x20eb03,'User':_0x5c71e9,'Entrypoint':[resolveMockScript(_0x400fb1)]},_0x51e783),_0x46f784=encryptDockerOpts(_0x449fc5),logger_1[_0x3adbc3(0xe9)][_0x3adbc3(0x129)](_0x3adbc3(0xcd)+JSON[_0x3adbc3(0x124)](_0x46f784,null,'\x20\x20'));return[0x2,_0x449fc5];}});});}function supportCustomBootstrapFile(_0x22b0bd,_0x441a04){var _0xbde464=a12_0x223f27;_0x22b0bd===_0xbde464(0xbc)&&(_0x441a04[_0xbde464(0x12a)]&&(_0x441a04[_0xbde464(0xd5)]=_0x441a04['BOOTSTRAP_FILE']));}function resolveMockScript(_0x3e59d7){var _0x3de3c2=a12_0x223f27;return _0x3de3c2(0xce)+_0x3e59d7+'/mock';}exports[a12_0x223f27(0x108)]=resolveMockScript;function encryptDockerOpts(_0x2ccf85){var _0x558280=a12_0x223f27,_0x21ac0d=_['cloneDeep'](_0x2ccf85);if(_0x21ac0d===null||_0x21ac0d===void 0x0?void 0x0:_0x21ac0d[_0x558280(0x115)]){var _0x2667b8=_0x21ac0d[_0x558280(0x115)][_0x558280(0xdc)](function(_0xc48e54){var _0x1bc252=_0x558280;if(_0xc48e54[_0x1bc252(0x107)]('FC_ACCESS_KEY_ID')||_0xc48e54[_0x1bc252(0x107)]('FC_ACCESS_KEY_SECRET')||_0xc48e54[_0x1bc252(0x107)](_0x1bc252(0x122))){var _0x186fb2=_0xc48e54[_0x1bc252(0xdb)]('='),_0x506d12=utils_1[_0x1bc252(0xc3)](_0x186fb2[0x1]);return _0x186fb2[0x0]+'='+_0x506d12;}else return _0xc48e54;});_0x21ac0d[_0x558280(0x115)]=_0x2667b8;}return _0x21ac0d;}function genCustomContainerLocalStartOpts(_0x6512ff,_0x3818e0,_0x4acdd3,_0x2988cf,_0x17513d,_0x4274cc){var _0x3ff5da=a12_0x223f27,_0x5e3c55={'HostConfig':{'AutoRemove':!![],'Mounts':_0x4acdd3}};!_[_0x3ff5da(0xeb)](_0x6512ff)&&(_0x5e3c55[_0x3ff5da(0x10b)][_0x3ff5da(0x133)]=_0x3ff5da(0xda)+_0x6512ff);var _0x1d0748={'Env':resolveDockerEnv(_0x17513d,!![]),'Image':_0x4274cc,'name':_0x3818e0};_0x2988cf!==[]&&(_0x1d0748[_0x3ff5da(0xfa)]=_0x2988cf);var _0x5a80d0={'OpenStdin':!![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x13d789=nested_object_assign_1['default'](_0x1d0748,_0x5e3c55,_0x5a80d0),_0x42e2e3=encryptDockerOpts(_0x13d789);return logger_1['default'][_0x3ff5da(0x129)](_0x3ff5da(0xea)+JSON[_0x3ff5da(0x124)](_0x42e2e3,null,'\x20\x20')),_0x13d789;}function resolveDockerRegistry(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2556e5,_0x4b74c8;return __generator(this,function(_0x5c3407){var _0x494179=a12_0x575c;switch(_0x5c3407['label']){case 0x0:if(DOCKER_REGISTRY_CACHE)return[0x2,DOCKER_REGISTRY_CACHE];_0x2556e5=exports[_0x494179(0xd1)]['map'](function(_0x426422){var _0x1f0dbb=_0x494179;return httpx[_0x1f0dbb(0xee)]('https://'+_0x426422+_0x1f0dbb(0xd4),{'timeout':0xbb8})[_0x1f0dbb(0xbd)](function(){return _0x426422;});}),_0x5c3407[_0x494179(0xf1)]=0x1;case 0x1:_0x5c3407['trys'][_0x494179(0x105)]([0x1,0x3,,0x4]);return[0x4,Promise[_0x494179(0x12e)](_0x2556e5)];case 0x2:DOCKER_REGISTRY_CACHE=_0x5c3407['sent']();return[0x3,0x4];case 0x3:_0x4b74c8=_0x5c3407['sent'](),DOCKER_REGISTRY_CACHE=DEFAULT_REGISTRY;return[0x3,0x4];case 0x4:return[0x2,DOCKER_REGISTRY_CACHE];}});});}exports[a12_0x223f27(0xc4)]=resolveDockerRegistry;function a12_0x575c(_0x153a2f,_0xfaf669){return a12_0x575c=function(_0x6c822,_0x575c8f){_0x6c822=_0x6c822-0xb9;var _0x10ac3d=a12_0x6c82[_0x6c822];return _0x10ac3d;},a12_0x575c(_0x153a2f,_0xfaf669);}function resolveDockerEnv(_0x5ebde4,_0x26d5f9){var _0x41e94d=a12_0x223f27;_0x5ebde4===void 0x0&&(_0x5ebde4={});_0x26d5f9===void 0x0&&(_0x26d5f9=![]);if(_0x26d5f9)return _[_0x41e94d(0xdc)](_0x5ebde4||{},function(_0x545d30,_0x5f25bb){return _0x5f25bb+'='+_0x545d30;});return _[_0x41e94d(0xdc)](env_1[_0x41e94d(0x100)](_0x5ebde4||{}),function(_0x3dc009,_0x36548b){return _0x36548b+'='+_0x3dc009;});}exports['resolveDockerEnv']=resolveDockerEnv;function resolveRuntimeToDockerImage(_0x3f47cc,_0x2c5036){return __awaiter(this,void 0x0,void 0x0,function(){var _0x118f0a,_0x2f394e;return __generator(this,function(_0x2425d7){var _0x32cf9d=a12_0x575c;if(runtimeImageMap[_0x3f47cc])return _0x118f0a=runtimeImageMap[_0x3f47cc],_0x2c5036?_0x2f394e=_0x32cf9d(0xf6)+_0x118f0a+':build-'+IMAGE_VERSION:_0x2f394e=_0x32cf9d(0xf6)+_0x118f0a+':'+IMAGE_VERSION,logger_1[_0x32cf9d(0xe9)][_0x32cf9d(0x129)](_0x32cf9d(0xe8)+_0x2f394e),[0x2,_0x2f394e];throw new Error(_0x32cf9d(0xd0)+_0x3f47cc);});});}exports['resolveRuntimeToDockerImage']=resolveRuntimeToDockerImage;