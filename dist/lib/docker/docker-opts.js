'use strict';var a12_0x4cec=['map','nested-object-assign','../utils/runtime','lowerFirst','request','addEnv','generateLocalStartOpts','resolveRuntimeToDockerImage','trys','/bin/bash','For\x20linux\x20platform,\x20Fc\x20will\x20use\x20host\x20userId\x20and\x20groupId\x20to\x20build\x20or\x20run\x20your\x20functions','next','registry.hub.docker.com','push','linux','defineProperty','mounts','label','fc-local-','sent','../definition','join','https://','invalid\x20runtime\x20name\x20','java8','{\x22name\x22:\x20[\x22','lodash','stage','call','function','run','groupId','841oZzKeb','isEmpty','imageName','then','Source','nodejs6','debugPort','../local-invoke/env','resolveImageNameForPull','649219wgdLjw','1942uEidiP','pop','userId','replace','debug','hasOwnProperty','imageName:\x20','FC_ACCOUNT_ID','1304652PtExEv','HostConfig','custom','container:','../utils/utils','354115EJApWW','platform','split','We\x20detected\x20that\x20you\x20are\x20using\x20docker\x20toolbox.\x20For\x20a\x20better\x20experience,\x20please\x20upgrade\x20\x27docker\x20for\x20windows\x27.\x0aYou\x20can\x20refer\x20to\x20Chinese\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation-zh.md#windows-%E5%AE%89%E8%A3%85-docker\x20or\x20English\x20doc\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/installation.md.\x0a','__awaiter','1MfyjYe','envs','done','assign','cloneDeep','transformPathForVirtualBox','create','__importStar','env','docker\x20options\x20for\x20custom\x20container:\x20','python2.7','DOCKER_REGISTRIES','__createBinding','sbox','generateSboxOpts','-debug','dockerUser','__esModule','AGENT_SCRIPT','../../common/logger','resolveDockerEnv','NetworkMode','isTty','\x22]}','cmd','getUserIdAndGroupId','nodejs8','generateContainerNameFilter','debugIde','throw','1.9.18','isArray',':build-','Env','95140OFJvTV','__importDefault','/var/fc/runtime/','httpx','length','race','isInteractive','value','startsWith','resolveMockScript','aliyunfc/runtime-','generateContainerName','__generator','Cmd','return','1270912eMSYnw','ops','transformMountsForToolbox','resolveDockerUser','isCustomContainerRuntime','warn','stringify','generateInstallOpts','nodejs10','iterator','-inited\x22]}','FC_DOCKER_VERSION','-run','registry.cn-beijing.aliyuncs.com','mark','386898MQfjom','php7.2','nasConfig','resolveDockerRegistry','default','apply','/v2/aliyunfc/runtime-nodejs8/tags/list'];var a12_0x3cfdb5=a12_0xae4d;(function(_0x25434f,_0x54fb84){var _0x37be3d=a12_0xae4d;while(!![]){try{var _0x1f3dea=-parseInt(_0x37be3d(0xd1))+-parseInt(_0x37be3d(0x8c))*parseInt(_0x37be3d(0x91))+parseInt(_0x37be3d(0xc2))+parseInt(_0x37be3d(0x7e))+parseInt(_0x37be3d(0x87))+-parseInt(_0x37be3d(0xb3))+parseInt(_0x37be3d(0x75))*-parseInt(_0x37be3d(0x7f));if(_0x1f3dea===_0x54fb84)break;else _0x25434f['push'](_0x25434f['shift']());}catch(_0x23c1a2){_0x25434f['push'](_0x25434f['shift']());}}}(a12_0x4cec,0xb86d0));var __createBinding=this&&this[a12_0x3cfdb5(0x9d)]||(Object[a12_0x3cfdb5(0x97)]?function(_0x598956,_0x321162,_0x4be40e,_0x183942){var _0x8d62cf=a12_0x3cfdb5;if(_0x183942===undefined)_0x183942=_0x4be40e;Object[_0x8d62cf(0xe7)](_0x598956,_0x183942,{'enumerable':!![],'get':function(){return _0x321162[_0x4be40e];}});}:function(_0x29558a,_0x574af0,_0x3f1c05,_0x14fc6a){if(_0x14fc6a===undefined)_0x14fc6a=_0x3f1c05;_0x29558a[_0x14fc6a]=_0x574af0[_0x3f1c05];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a12_0x3cfdb5(0x97)]?function(_0x42c6c8,_0xb75913){var _0x5addba=a12_0x3cfdb5;Object['defineProperty'](_0x42c6c8,_0x5addba(0xd5),{'enumerable':!![],'value':_0xb75913});}:function(_0x1c9f13,_0xaca362){var _0x569dc1=a12_0x3cfdb5;_0x1c9f13[_0x569dc1(0xd5)]=_0xaca362;}),__importStar=this&&this[a12_0x3cfdb5(0x98)]||function(_0x2b6d85){var _0x541548=a12_0x3cfdb5;if(_0x2b6d85&&_0x2b6d85[_0x541548(0xa2)])return _0x2b6d85;var _0x28412f={};if(_0x2b6d85!=null){for(var _0xdb012f in _0x2b6d85)if(_0xdb012f!==_0x541548(0xd5)&&Object[_0x541548(0x84)]['call'](_0x2b6d85,_0xdb012f))__createBinding(_0x28412f,_0x2b6d85,_0xdb012f);}return __setModuleDefault(_0x28412f,_0x2b6d85),_0x28412f;},__awaiter=this&&this[a12_0x3cfdb5(0x90)]||function(_0x352780,_0x4f4808,_0x265d06,_0x33a720){function _0x21e42b(_0xa4005e){return _0xa4005e instanceof _0x265d06?_0xa4005e:new _0x265d06(function(_0x25c0d4){_0x25c0d4(_0xa4005e);});}return new(_0x265d06||(_0x265d06=Promise))(function(_0x37375d,_0x259f68){var _0x4c80bb=a12_0xae4d;function _0x3318f6(_0x37f575){var _0x416d23=a12_0xae4d;try{_0x270a7d(_0x33a720[_0x416d23(0xe3)](_0x37f575));}catch(_0x417968){_0x259f68(_0x417968);}}function _0x383ecd(_0x2ba8f4){var _0x417d58=a12_0xae4d;try{_0x270a7d(_0x33a720[_0x417d58(0xae)](_0x2ba8f4));}catch(_0x477fc3){_0x259f68(_0x477fc3);}}function _0x270a7d(_0x2e7db2){var _0x166185=a12_0xae4d;_0x2e7db2[_0x166185(0x93)]?_0x37375d(_0x2e7db2[_0x166185(0xba)]):_0x21e42b(_0x2e7db2[_0x166185(0xba)])['then'](_0x3318f6,_0x383ecd);}_0x270a7d((_0x33a720=_0x33a720[_0x4c80bb(0xd6)](_0x352780,_0x4f4808||[]))[_0x4c80bb(0xe3)]());});},__generator=this&&this[a12_0x3cfdb5(0xbf)]||function(_0x1629b2,_0x2ebd5c){var _0x3012f6=a12_0x3cfdb5,_0x3479de={'label':0x0,'sent':function(){if(_0x3648c7[0x0]&0x1)throw _0x3648c7[0x1];return _0x3648c7[0x1];},'trys':[],'ops':[]},_0x424ab6,_0x4911ed,_0x3648c7,_0x2081e9;return _0x2081e9={'next':_0x32234a(0x0),'throw':_0x32234a(0x1),'return':_0x32234a(0x2)},typeof Symbol===_0x3012f6(0x72)&&(_0x2081e9[Symbol[_0x3012f6(0xcb)]]=function(){return this;}),_0x2081e9;function _0x32234a(_0x592e92){return function(_0x989d80){return _0x535103([_0x592e92,_0x989d80]);};}function _0x535103(_0x4cd17c){var _0x56cbe2=_0x3012f6;if(_0x424ab6)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x3479de)try{if(_0x424ab6=0x1,_0x4911ed&&(_0x3648c7=_0x4cd17c[0x0]&0x2?_0x4911ed[_0x56cbe2(0xc1)]:_0x4cd17c[0x0]?_0x4911ed['throw']||((_0x3648c7=_0x4911ed[_0x56cbe2(0xc1)])&&_0x3648c7[_0x56cbe2(0x71)](_0x4911ed),0x0):_0x4911ed[_0x56cbe2(0xe3)])&&!(_0x3648c7=_0x3648c7['call'](_0x4911ed,_0x4cd17c[0x1]))[_0x56cbe2(0x93)])return _0x3648c7;if(_0x4911ed=0x0,_0x3648c7)_0x4cd17c=[_0x4cd17c[0x0]&0x2,_0x3648c7[_0x56cbe2(0xba)]];switch(_0x4cd17c[0x0]){case 0x0:case 0x1:_0x3648c7=_0x4cd17c;break;case 0x4:_0x3479de[_0x56cbe2(0xe9)]++;return{'value':_0x4cd17c[0x1],'done':![]};case 0x5:_0x3479de[_0x56cbe2(0xe9)]++,_0x4911ed=_0x4cd17c[0x1],_0x4cd17c=[0x0];continue;case 0x7:_0x4cd17c=_0x3479de[_0x56cbe2(0xc3)]['pop'](),_0x3479de[_0x56cbe2(0xe0)]['pop']();continue;default:if(!(_0x3648c7=_0x3479de[_0x56cbe2(0xe0)],_0x3648c7=_0x3648c7['length']>0x0&&_0x3648c7[_0x3648c7[_0x56cbe2(0xb7)]-0x1])&&(_0x4cd17c[0x0]===0x6||_0x4cd17c[0x0]===0x2)){_0x3479de=0x0;continue;}if(_0x4cd17c[0x0]===0x3&&(!_0x3648c7||_0x4cd17c[0x1]>_0x3648c7[0x0]&&_0x4cd17c[0x1]<_0x3648c7[0x3])){_0x3479de[_0x56cbe2(0xe9)]=_0x4cd17c[0x1];break;}if(_0x4cd17c[0x0]===0x6&&_0x3479de[_0x56cbe2(0xe9)]<_0x3648c7[0x1]){_0x3479de[_0x56cbe2(0xe9)]=_0x3648c7[0x1],_0x3648c7=_0x4cd17c;break;}if(_0x3648c7&&_0x3479de['label']<_0x3648c7[0x2]){_0x3479de['label']=_0x3648c7[0x2],_0x3479de[_0x56cbe2(0xc3)]['push'](_0x4cd17c);break;}if(_0x3648c7[0x2])_0x3479de[_0x56cbe2(0xc3)][_0x56cbe2(0x80)]();_0x3479de['trys'][_0x56cbe2(0x80)]();continue;}_0x4cd17c=_0x2ebd5c['call'](_0x1629b2,_0x3479de);}catch(_0x2913e8){_0x4cd17c=[0x6,_0x2913e8],_0x4911ed=0x0;}finally{_0x424ab6=_0x3648c7=0x0;}if(_0x4cd17c[0x0]&0x5)throw _0x4cd17c[0x1];return{'value':_0x4cd17c[0x0]?_0x4cd17c[0x1]:void 0x0,'done':!![]};}},__importDefault=this&&this[a12_0x3cfdb5(0xb4)]||function(_0x16f70f){var _0x55e607=a12_0x3cfdb5;return _0x16f70f&&_0x16f70f[_0x55e607(0xa2)]?_0x16f70f:{'default':_0x16f70f};};Object['defineProperty'](exports,a12_0x3cfdb5(0xa2),{'value':!![]}),exports[a12_0x3cfdb5(0xdf)]=exports['resolveDockerEnv']=exports['resolveDockerRegistry']=exports[a12_0x3cfdb5(0xbc)]=exports['generateLocalStartOpts']=exports[a12_0x3cfdb5(0xbe)]=exports[a12_0x3cfdb5(0xac)]=exports[a12_0x3cfdb5(0x96)]=exports['transformMountsForToolbox']=exports[a12_0x3cfdb5(0xc9)]=exports[a12_0x3cfdb5(0xc5)]=exports[a12_0x3cfdb5(0x9f)]=exports[a12_0x3cfdb5(0x7d)]=exports[a12_0x3cfdb5(0x9c)]=void 0x0;var httpx=__importStar(require(a12_0x3cfdb5(0xb6))),_=__importStar(require(a12_0x3cfdb5(0x6f))),env_1=require(a12_0x3cfdb5(0x7c)),logger_1=__importDefault(require(a12_0x3cfdb5(0xa4))),definition_1=require(a12_0x3cfdb5(0xec)),nested_object_assign_1=__importDefault(require(a12_0x3cfdb5(0xd9))),runtime_1=require(a12_0x3cfdb5(0xda)),utils_1=require(a12_0x3cfdb5(0x8b)),REGISTRY_DEFAULT=a12_0x3cfdb5(0xcf),DEFAULT_REGISTRY=REGISTRY_DEFAULT||a12_0x3cfdb5(0xe4);exports['DOCKER_REGISTRIES']=[a12_0x3cfdb5(0xcf),'registry.hub.docker.com'];var IMAGE_VERSION=process[a12_0x3cfdb5(0x99)][a12_0x3cfdb5(0xcd)]||a12_0x3cfdb5(0xaf),DOCKER_REGISTRY_CACHE,NAS_UID=0x2713,NAS_GID=0x2713,runtimeImageMap={'nodejs6':a12_0x3cfdb5(0x7a),'nodejs8':a12_0x3cfdb5(0xab),'nodejs10':a12_0x3cfdb5(0xca),'nodejs12':'nodejs12','python2.7':a12_0x3cfdb5(0x9b),'python3':'python3.6','java8':a12_0x3cfdb5(0x6d),'java11':'java11','php7.2':a12_0x3cfdb5(0xd2),'dotnetcore2.1':'dotnetcore2.1','custom':a12_0x3cfdb5(0x89)};function resolveImageNameForPull(_0x338a4c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3ca4a8;return __generator(this,function(_0x53fc54){var _0x32cc07=a12_0xae4d;switch(_0x53fc54[_0x32cc07(0xe9)]){case 0x0:return[0x4,resolveDockerRegistry()];case 0x1:_0x3ca4a8=_0x53fc54['sent']();_0x3ca4a8&&(_0x338a4c=_0x3ca4a8+'/'+_0x338a4c);return[0x2,_0x338a4c];}});});}exports[a12_0x3cfdb5(0x7d)]=resolveImageNameForPull;function generateSboxOpts(_0x250c94){var _0x10e07b=a12_0x3cfdb5,_0x22dce0=_0x250c94[_0x10e07b(0x77)],_0x12cd92=_0x250c94['hostname'],_0x226fd8=_0x250c94[_0x10e07b(0xe8)],_0x4cd59e=_0x250c94[_0x10e07b(0x92)],_0x282a59=_0x250c94[_0x10e07b(0xa9)],_0x359884=_0x282a59===void 0x0?[]:_0x282a59,_0x1366c7=_0x250c94[_0x10e07b(0xa7)],_0x3ee4e1=_0x250c94[_0x10e07b(0xb9)];return{'Image':_0x22dce0,'Hostname':_0x12cd92,'AttachStdin':_0x3ee4e1,'AttachStdout':!![],'AttachStderr':!![],'User':resolveDockerUser({'stage':_0x10e07b(0x9e)}),'Tty':_0x1366c7,'OpenStdin':_0x3ee4e1,'StdinOnce':!![],'Env':resolveDockerEnv(_0x4cd59e),'Cmd':_0x359884[_0x10e07b(0xb7)]?_0x359884:['/bin/bash'],'HostConfig':{'AutoRemove':!![],'Mounts':_0x226fd8}};}exports['generateSboxOpts']=generateSboxOpts;function resolveDockerUser(_0x3573a6){var _0x3b242a=a12_0x3cfdb5,_0xf59170=_0x3573a6[_0x3b242a(0xd3)],_0x14fa8a=_0x3573a6[_0x3b242a(0x70)],_0x2388d8=_0x14fa8a===void 0x0?_0x3b242a(0x73):_0x14fa8a,_0x116534=definition_1[_0x3b242a(0xaa)](_0xf59170),_0x3ce631=_0x116534[_0x3b242a(0x81)],_0x53eac7=_0x116534[_0x3b242a(0x74)];return process[_0x3b242a(0x8d)]===_0x3b242a(0xe6)?(logger_1[_0x3b242a(0xd5)]['debug'](_0x3b242a(0xe2)),_0x3ce631=process['getuid'](),_0x53eac7=process['getgid']()):_0x2388d8===_0x3b242a(0x73)?((_0x3ce631===-0x1||_0x3ce631===undefined)&&(_0x3ce631=NAS_UID),(_0x53eac7===-0x1||_0x53eac7===undefined)&&(_0x53eac7=NAS_GID)):(_0x3ce631=0x0,_0x53eac7=0x0),_0x3ce631+':'+_0x53eac7;}exports[a12_0x3cfdb5(0xc5)]=resolveDockerUser;function generateInstallOpts(_0x4a745e,_0x3b2153,_0xfe324){var _0x576f70=a12_0x3cfdb5;return{'Image':_0x4a745e,'Tty':!![],'Env':resolveDockerEnv(_0xfe324),'Cmd':[_0x576f70(0xe1)],'HostConfig':{'AutoRemove':!![],'Mounts':_0x3b2153}};}exports[a12_0x3cfdb5(0xc9)]=generateInstallOpts;function transformMountsForToolbox(_0x282604){var _0x15d86c=a12_0x3cfdb5;console[_0x15d86c(0xc7)](_0x15d86c(0x8f));if(Array[_0x15d86c(0xb0)](_0x282604))return _0x282604[_0x15d86c(0xd8)](function(_0x1d9e1c){return transformSourcePathOfMount(_0x1d9e1c);});return transformSourcePathOfMount(_0x282604);}exports[a12_0x3cfdb5(0xc4)]=transformMountsForToolbox;function transformSourcePathOfMount(_0x22f978){var _0x1ede7c=a12_0x3cfdb5;if(!_[_0x1ede7c(0x76)](_0x22f978)){var _0x219cb9=Object[_0x1ede7c(0x94)]({},_0x22f978);return _0x219cb9[_0x1ede7c(0x79)]=transformPathForVirtualBox(_0x22f978[_0x1ede7c(0x79)]),_0x219cb9;}return{};}function transformPathForVirtualBox(_0x70bedc){var _0x2816fc=a12_0x3cfdb5,_0x449254=_0x70bedc[_0x2816fc(0x8e)](':')[_0x2816fc(0xed)](''),_0x15d297=_[_0x2816fc(0xdb)](_0x449254[_0x2816fc(0x8e)]('\x5c')[_0x2816fc(0xed)]('/'));return'/'+_0x15d297;}exports[a12_0x3cfdb5(0x96)]=transformPathForVirtualBox;function generateContainerNameFilter(_0x5ca80f,_0x56fdbf){var _0x202ae9=a12_0x3cfdb5;if(_0x56fdbf)return _0x202ae9(0x6e)+_0x5ca80f+_0x202ae9(0xcc);return _0x202ae9(0x6e)+_0x5ca80f+_0x202ae9(0xa8);}exports['generateContainerNameFilter']=generateContainerNameFilter;function a12_0xae4d(_0x347f0c,_0xd9e4a8){return a12_0xae4d=function(_0x4cecd8,_0xae4df){_0x4cecd8=_0x4cecd8-0x6b;var _0x2035a5=a12_0x4cec[_0x4cecd8];return _0x2035a5;},a12_0xae4d(_0x347f0c,_0xd9e4a8);}function generateContainerName(_0x5f2b29,_0x4ab708,_0x32739c){var _0xd792fb=a12_0x3cfdb5;return(_0xd792fb(0xea)+_0x5f2b29+'-'+_0x4ab708)[_0xd792fb(0x82)](/ /g,'')+(_0x32739c?_0xd792fb(0xa0):_0xd792fb(0xce));}exports[a12_0x3cfdb5(0xbe)]=generateContainerName;function generateLocalStartOpts(_0x4c80c7,_0x5cc951,_0x293816,_0x45550c,_0x1c9577,_0x4918fd,_0x429e2a){var _0x5cc159=a12_0x3cfdb5,_0x1b2a44=_0x429e2a[_0x5cc159(0x7b)],_0x4a7b09=_0x429e2a[_0x5cc159(0xa1)],_0x597b48=_0x429e2a[_0x5cc159(0xad)],_0x57c8f3=_0x597b48===void 0x0?null:_0x597b48,_0xf29ef4=_0x429e2a[_0x5cc159(0x77)];return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0xca92fa){var _0x44025c=a12_0xae4d;switch(_0xca92fa[_0x44025c(0xe9)]){case 0x0:if(runtime_1[_0x44025c(0xc6)](_0x5cc951))return[0x2,genCustomContainerLocalStartOpts(_0x4c80c7,_0x293816,_0x45550c,_0x1c9577,_0x4918fd,_0xf29ef4)];return[0x4,genNonCustomContainerLocalStartOpts(_0x4c80c7,_0x5cc951,_0x293816,_0x45550c,_0x1c9577,_0x1b2a44,_0x4918fd,_0x4a7b09,_0x57c8f3)];case 0x1:return[0x2,_0xca92fa['sent']()];}});});}exports[a12_0x3cfdb5(0xde)]=generateLocalStartOpts;function genNonCustomContainerLocalStartOpts(_0x1836e9,_0xf281ed,_0x4de56c,_0x99b88f,_0x5ceebe,_0x4b84c9,_0x2ec3ef,_0x5267ac,_0x27e545){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1c5ec7,_0x4946a6,_0x503c50,_0x130f9a;return __generator(this,function(_0x299605){var _0x17cca9=a12_0xae4d;switch(_0x299605[_0x17cca9(0xe9)]){case 0x0:_0x1c5ec7={'HostConfig':{'AutoRemove':!![],'Mounts':_0x99b88f}};!_[_0x17cca9(0x76)](_0x1836e9)&&(_0x1c5ec7[_0x17cca9(0x88)][_0x17cca9(0xa6)]='container:'+_0x1836e9);return[0x4,resolveRuntimeToDockerImage(_0xf281ed)];case 0x1:_0x4946a6=_0x299605['sent'](),supportCustomBootstrapFile(_0xf281ed,_0x2ec3ef),_0x503c50=nested_object_assign_1[_0x17cca9(0xd5)]({'Env':resolveDockerEnv(_0x2ec3ef),'Image':_0x4946a6,'name':_0x4de56c,'Cmd':_0x5ceebe,'User':_0x5267ac,'Entrypoint':[resolveMockScript(_0xf281ed)]},_0x1c5ec7),_0x130f9a=encryptDockerOpts(_0x503c50),logger_1[_0x17cca9(0xd5)][_0x17cca9(0x83)]('docker\x20options:\x20'+JSON[_0x17cca9(0xc8)](_0x130f9a,null,'\x20\x20'));return[0x2,_0x503c50];}});});}function supportCustomBootstrapFile(_0x3365d8,_0x5e950f){var _0x1f9d6a=a12_0x3cfdb5;_0x3365d8===_0x1f9d6a(0x89)&&(_0x5e950f['BOOTSTRAP_FILE']&&(_0x5e950f[_0x1f9d6a(0xa3)]=_0x5e950f['BOOTSTRAP_FILE']));}function resolveMockScript(_0x590a9e){var _0xf83420=a12_0x3cfdb5;return _0xf83420(0xb5)+_0x590a9e+'/mock';}exports[a12_0x3cfdb5(0xbc)]=resolveMockScript;function encryptDockerOpts(_0x16ca5a){var _0x56448c=a12_0x3cfdb5,_0x29609f=_[_0x56448c(0x95)](_0x16ca5a);if(_0x29609f===null||_0x29609f===void 0x0?void 0x0:_0x29609f[_0x56448c(0xb2)]){var _0xd35c64=_0x29609f[_0x56448c(0xb2)]['map'](function(_0x3a5583){var _0x5b5143=_0x56448c;if(_0x3a5583[_0x5b5143(0xbb)]('FC_ACCESS_KEY_ID')||_0x3a5583[_0x5b5143(0xbb)]('FC_ACCESS_KEY_SECRET')||_0x3a5583[_0x5b5143(0xbb)](_0x5b5143(0x86))){var _0x112d8d=_0x3a5583[_0x5b5143(0x8e)]('='),_0x4219c3=utils_1[_0x5b5143(0xd0)](_0x112d8d[0x1]);return _0x112d8d[0x0]+'='+_0x4219c3;}else return _0x3a5583;});_0x29609f[_0x56448c(0xb2)]=_0xd35c64;}return _0x29609f;}function genCustomContainerLocalStartOpts(_0x28bb2c,_0xaeac0a,_0x576e5d,_0x539864,_0x3c3604,_0x58d42d){var _0x3cd947=a12_0x3cfdb5,_0x3266f3={'HostConfig':{'AutoRemove':!![],'Mounts':_0x576e5d}};!_['isEmpty'](_0x28bb2c)&&(_0x3266f3[_0x3cd947(0x88)][_0x3cd947(0xa6)]=_0x3cd947(0x8a)+_0x28bb2c);var _0xd7d03d={'Env':resolveDockerEnv(_0x3c3604,!![]),'Image':_0x58d42d,'name':_0xaeac0a};_0x539864!==[]&&(_0xd7d03d[_0x3cd947(0xc0)]=_0x539864);var _0x3b5d40={'OpenStdin':!![],'Tty':![],'StdinOnce':!![],'AttachStdin':!![],'AttachStdout':!![],'AttachStderr':!![]},_0x3585af=nested_object_assign_1[_0x3cd947(0xd5)](_0xd7d03d,_0x3266f3,_0x3b5d40),_0x12d287=encryptDockerOpts(_0x3585af);return logger_1['default'][_0x3cd947(0x83)](_0x3cd947(0x9a)+JSON[_0x3cd947(0xc8)](_0x12d287,null,'\x20\x20')),_0x3585af;}function resolveDockerRegistry(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x29880e,_0x26106c;return __generator(this,function(_0x739bbc){var _0x5705b6=a12_0xae4d;switch(_0x739bbc[_0x5705b6(0xe9)]){case 0x0:if(DOCKER_REGISTRY_CACHE)return[0x2,DOCKER_REGISTRY_CACHE];_0x29880e=exports['DOCKER_REGISTRIES'][_0x5705b6(0xd8)](function(_0x4431b2){var _0x506fa2=_0x5705b6;return httpx[_0x506fa2(0xdc)](_0x506fa2(0x6b)+_0x4431b2+_0x506fa2(0xd7),{'timeout':0xbb8})[_0x506fa2(0x78)](function(){return _0x4431b2;});}),_0x739bbc[_0x5705b6(0xe9)]=0x1;case 0x1:_0x739bbc[_0x5705b6(0xe0)][_0x5705b6(0xe5)]([0x1,0x3,,0x4]);return[0x4,Promise[_0x5705b6(0xb8)](_0x29880e)];case 0x2:DOCKER_REGISTRY_CACHE=_0x739bbc[_0x5705b6(0xeb)]();return[0x3,0x4];case 0x3:_0x26106c=_0x739bbc[_0x5705b6(0xeb)](),DOCKER_REGISTRY_CACHE=DEFAULT_REGISTRY;return[0x3,0x4];case 0x4:return[0x2,DOCKER_REGISTRY_CACHE];}});});}exports[a12_0x3cfdb5(0xd4)]=resolveDockerRegistry;function resolveDockerEnv(_0x303c37,_0x3d899e){var _0x1c64cb=a12_0x3cfdb5;_0x303c37===void 0x0&&(_0x303c37={});_0x3d899e===void 0x0&&(_0x3d899e=![]);if(_0x3d899e)return _[_0x1c64cb(0xd8)](_0x303c37||{},function(_0x4ceb1a,_0xa3fdb5){return _0xa3fdb5+'='+_0x4ceb1a;});return _[_0x1c64cb(0xd8)](env_1[_0x1c64cb(0xdd)](_0x303c37||{}),function(_0x4d2477,_0x1f70a4){return _0x1f70a4+'='+_0x4d2477;});}exports[a12_0x3cfdb5(0xa5)]=resolveDockerEnv;function resolveRuntimeToDockerImage(_0x5d7977,_0xa1d5ed){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2b8fe2,_0x5520d7;return __generator(this,function(_0x57b902){var _0x43fe67=a12_0xae4d;if(runtimeImageMap[_0x5d7977])return _0x2b8fe2=runtimeImageMap[_0x5d7977],_0xa1d5ed?_0x5520d7=_0x43fe67(0xbd)+_0x2b8fe2+_0x43fe67(0xb1)+IMAGE_VERSION:_0x5520d7='aliyunfc/runtime-'+_0x2b8fe2+':'+IMAGE_VERSION,logger_1[_0x43fe67(0xd5)][_0x43fe67(0x83)](_0x43fe67(0x85)+_0x5520d7),[0x2,_0x5520d7];throw new Error(_0x43fe67(0x6c)+_0x5d7977);});});}exports[a12_0x3cfdb5(0xdf)]=resolveRuntimeToDockerImage;