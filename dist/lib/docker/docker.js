'use strict';var a14_0x73c8=['Failed\x20to\x20stop\x20the\x20container.','__setModuleDefault','context','generateRamdomContainerName','../utils/passwd','trys','virtualbox','call','succeed','win32','inspect','done','/tmp','\x20to\x20pull\x20image\x20by\x20yourself.','demuxStream','4409owaePd','../error-processor','cwd','warning','Cmd','remoteNasDir','aux.ID','address','basename','join','log','docker\x20exec\x20opts:\x20','base64','./docker-opts','addEnv','lstat','draft','Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.','\x27docker\x20pull\x20','ServerVersion','generateFunctionEnvs','debug','message','42ddSIMj','.vscode','serviceName','generateDockerCmd','...','pull','fc_local_','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','end','resolveNasConfigToMounts','utf8','../local-invoke/env','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','__esModule',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','hasOwnProperty','showDebugIdeTipsForVscode','posix','logs','memorySize','runtime','container','resolveDockerEnv','timeout','processorTransformFactory','generateVscodeDebugConfig','toString','/////////////////\x20config\x20end\x20/////////////////','./docker-support','Target','resolveAutoLogConfig','isEqual','generatePwdFile','invalid\x20mount\x20config\x20for\x20type','\x0aPath\x20mappings\x20\x20:\x20','into','/code','functionName','sent','\x20already\x20exists,\x20please\x20overwrite\x20it\x20with\x20the\x20following\x20config.','errorStream','stream','java','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives','logstore','stopContainer','imageExist','ReadOnly','Stop\x20container\x20succeed.','create','runContainer','default','ExitCode','draftlog','info','attach','7RYPIMQ','dockerode','startContainer','initializationTimeout','length','/tmp/debugger_files','logConfig','bind','defineProperty','write','followProgress','kill','--stdin','AccountID','__generator','--initializationTimeout','\x20failed,\x20error:\x20','1LppZZA','docker\x20cmd:\x20','indexOf','386447laKGTP','handler','yellow','__awaiter','HostConfig','generateDebugEnv','createAndRunContainer','tag','start','stdout','DOCKER_REGISTRIES','lstatSync','writeFile','resolve','getTime','command','resolveCodeUriToMount','Stopping\x20the\x20container:\x20','push','outputStream','119286vDxqnu','isCustomContainerRuntime','label','isDockerToolBoxAndEnsureDockerVersion','ProcessConfig','platform','Kill\x20container\x20succeed','detectDockerVersion','from','../devs','File:\x20','random','pullImageIfNeed','__createBinding','provider','resolvePasswdMount','path','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','createContainer','apply','Ensure\x20directory:\x20','getImage','__spreadArrays','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','skip\x20pulling\x20image\x20','isDirectory','resolveDebuggerPathToMount','ops','766579SIZXku','dev-null','AccessKeySecret','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','has','map','Pulling\x20image\x20','../definition','run','Labels','--event','spinner','linux','verbose','drive\x20is\x20not\x20shared','parseInt','parse','exec','dirname','next','pullFcImageIfNeed','stop','getRootBaseDir','args','--event-decode','481345RqaQTJ','progress','Write\x20','/////////////////\x20config\x20begin\x20/////////////////','lodash','initializer','Skip\x20pulling\x20image\x20','__importStar','resolveTmpDirToMount','showDebugIdeTipsForPycharm','pop','\x27,\x20port=','iterator','\x20failed.','stderr','stringify','value','171537GBuFxh','status','convertNasConfigToNasMappings','isAutoConfig','Source','function','aux','throw','readFile','21702lJWCsD','add','resolveLibPathsFromLdConf','slice','delete','__importDefault','assign','pullImage','customContainerConfig','writeDebugIdeConfigForVscode','reduce','includes',',\x20you\x20can\x20also\x20use\x20','Starting\x20docker\x20pull\x20','env','../local-invoke/debug','modem','isFile'];var a14_0x2939fc=a14_0x5e73;(function(_0x160e24,_0x20d528){var _0x4be03f=a14_0x5e73;while(!![]){try{var _0x3690e8=-parseInt(_0x4be03f(0x1e2))+parseInt(_0x4be03f(0x266))*-parseInt(_0x4be03f(0x27d))+-parseInt(_0x4be03f(0x245))*parseInt(_0x4be03f(0x1ce))+parseInt(_0x4be03f(0x22b))+-parseInt(_0x4be03f(0x1df))*parseInt(_0x4be03f(0x23c))+parseInt(_0x4be03f(0x1f6))+parseInt(_0x4be03f(0x212));if(_0x3690e8===_0x20d528)break;else _0x160e24['push'](_0x160e24['shift']());}catch(_0x104584){_0x160e24['push'](_0x160e24['shift']());}}}(a14_0x73c8,0x73446));var __createBinding=this&&this[a14_0x2939fc(0x203)]||(Object[a14_0x2939fc(0x1c7)]?function(_0x556a80,_0x9b5eda,_0x310d73,_0x351b53){var _0x18e071=a14_0x2939fc;if(_0x351b53===undefined)_0x351b53=_0x310d73;Object[_0x18e071(0x1d6)](_0x556a80,_0x351b53,{'enumerable':!![],'get':function(){return _0x9b5eda[_0x310d73];}});}:function(_0x5cabf2,_0x5b61f1,_0x16935c,_0x5ac43c){if(_0x5ac43c===undefined)_0x5ac43c=_0x16935c;_0x5cabf2[_0x5ac43c]=_0x5b61f1[_0x16935c];}),__setModuleDefault=this&&this[a14_0x2939fc(0x258)]||(Object[a14_0x2939fc(0x1c7)]?function(_0x15169a,_0x567d01){var _0x5481d5=a14_0x2939fc;Object[_0x5481d5(0x1d6)](_0x15169a,_0x5481d5(0x1c9),{'enumerable':!![],'value':_0x567d01});}:function(_0x548c88,_0x384c4d){var _0x44cb12=a14_0x2939fc;_0x548c88[_0x44cb12(0x1c9)]=_0x384c4d;}),__importStar=this&&this[a14_0x2939fc(0x232)]||function(_0x1195c9){var _0x2124e7=a14_0x2939fc;if(_0x1195c9&&_0x1195c9['__esModule'])return _0x1195c9;var _0x475250={};if(_0x1195c9!=null){for(var _0x525bab in _0x1195c9)if(_0x525bab!==_0x2124e7(0x1c9)&&Object[_0x2124e7(0x28d)]['call'](_0x1195c9,_0x525bab))__createBinding(_0x475250,_0x1195c9,_0x525bab);}return __setModuleDefault(_0x475250,_0x1195c9),_0x475250;},__awaiter=this&&this[a14_0x2939fc(0x1e5)]||function(_0x1a2f44,_0x2b10ff,_0x178f84,_0x1b2845){function _0x83d8a5(_0x3ff23d){return _0x3ff23d instanceof _0x178f84?_0x3ff23d:new _0x178f84(function(_0x1db3f0){_0x1db3f0(_0x3ff23d);});}return new(_0x178f84||(_0x178f84=Promise))(function(_0x3c9a21,_0x33d7b2){var _0x25c0ff=a14_0x5e73;function _0x1b909a(_0x6812fe){var _0x12be1a=a14_0x5e73;try{_0x1a8c05(_0x1b2845[_0x12be1a(0x225)](_0x6812fe));}catch(_0x40df7d){_0x33d7b2(_0x40df7d);}}function _0x17b811(_0x1ea7dd){var _0x5adc63=a14_0x5e73;try{_0x1a8c05(_0x1b2845[_0x5adc63(0x243)](_0x1ea7dd));}catch(_0x378e80){_0x33d7b2(_0x378e80);}}function _0x1a8c05(_0xad2063){var _0x5752b0=a14_0x5e73;_0xad2063[_0x5752b0(0x262)]?_0x3c9a21(_0xad2063[_0x5752b0(0x23b)]):_0x83d8a5(_0xad2063[_0x5752b0(0x23b)])['then'](_0x1b909a,_0x17b811);}_0x1a8c05((_0x1b2845=_0x1b2845[_0x25c0ff(0x209)](_0x1a2f44,_0x2b10ff||[]))[_0x25c0ff(0x225)]());});},__generator=this&&this[a14_0x2939fc(0x1dc)]||function(_0x2a7e2f,_0x99dd94){var _0x1f504f=a14_0x2939fc,_0x57acbd={'label':0x0,'sent':function(){if(_0x5e41d7[0x0]&0x1)throw _0x5e41d7[0x1];return _0x5e41d7[0x1];},'trys':[],'ops':[]},_0x5d1a89,_0x55fd19,_0x5e41d7,_0x4044a3;return _0x4044a3={'next':_0x4328ef(0x0),'throw':_0x4328ef(0x1),'return':_0x4328ef(0x2)},typeof Symbol===_0x1f504f(0x241)&&(_0x4044a3[Symbol[_0x1f504f(0x237)]]=function(){return this;}),_0x4044a3;function _0x4328ef(_0x3e561e){return function(_0x29c078){return _0x5bc7fe([_0x3e561e,_0x29c078]);};}function _0x5bc7fe(_0x464c82){var _0x34da2e=_0x1f504f;if(_0x5d1a89)throw new TypeError('Generator\x20is\x20already\x20executing.');while(_0x57acbd)try{if(_0x5d1a89=0x1,_0x55fd19&&(_0x5e41d7=_0x464c82[0x0]&0x2?_0x55fd19['return']:_0x464c82[0x0]?_0x55fd19[_0x34da2e(0x243)]||((_0x5e41d7=_0x55fd19['return'])&&_0x5e41d7[_0x34da2e(0x25e)](_0x55fd19),0x0):_0x55fd19['next'])&&!(_0x5e41d7=_0x5e41d7['call'](_0x55fd19,_0x464c82[0x1]))[_0x34da2e(0x262)])return _0x5e41d7;if(_0x55fd19=0x0,_0x5e41d7)_0x464c82=[_0x464c82[0x0]&0x2,_0x5e41d7['value']];switch(_0x464c82[0x0]){case 0x0:case 0x1:_0x5e41d7=_0x464c82;break;case 0x4:_0x57acbd['label']++;return{'value':_0x464c82[0x1],'done':![]};case 0x5:_0x57acbd[_0x34da2e(0x1f8)]++,_0x55fd19=_0x464c82[0x1],_0x464c82=[0x0];continue;case 0x7:_0x464c82=_0x57acbd[_0x34da2e(0x211)][_0x34da2e(0x235)](),_0x57acbd[_0x34da2e(0x25c)][_0x34da2e(0x235)]();continue;default:if(!(_0x5e41d7=_0x57acbd['trys'],_0x5e41d7=_0x5e41d7[_0x34da2e(0x1d2)]>0x0&&_0x5e41d7[_0x5e41d7[_0x34da2e(0x1d2)]-0x1])&&(_0x464c82[0x0]===0x6||_0x464c82[0x0]===0x2)){_0x57acbd=0x0;continue;}if(_0x464c82[0x0]===0x3&&(!_0x5e41d7||_0x464c82[0x1]>_0x5e41d7[0x0]&&_0x464c82[0x1]<_0x5e41d7[0x3])){_0x57acbd[_0x34da2e(0x1f8)]=_0x464c82[0x1];break;}if(_0x464c82[0x0]===0x6&&_0x57acbd[_0x34da2e(0x1f8)]<_0x5e41d7[0x1]){_0x57acbd[_0x34da2e(0x1f8)]=_0x5e41d7[0x1],_0x5e41d7=_0x464c82;break;}if(_0x5e41d7&&_0x57acbd[_0x34da2e(0x1f8)]<_0x5e41d7[0x2]){_0x57acbd[_0x34da2e(0x1f8)]=_0x5e41d7[0x2],_0x57acbd[_0x34da2e(0x211)][_0x34da2e(0x1f4)](_0x464c82);break;}if(_0x5e41d7[0x2])_0x57acbd[_0x34da2e(0x211)]['pop']();_0x57acbd['trys'][_0x34da2e(0x235)]();continue;}_0x464c82=_0x99dd94[_0x34da2e(0x25e)](_0x2a7e2f,_0x57acbd);}catch(_0x3ac742){_0x464c82=[0x6,_0x3ac742],_0x55fd19=0x0;}finally{_0x5d1a89=_0x5e41d7=0x0;}if(_0x464c82[0x0]&0x5)throw _0x464c82[0x1];return{'value':_0x464c82[0x0]?_0x464c82[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x2939fc(0x20c)]||function(){var _0x4efbfb=a14_0x2939fc;for(var _0x2d11dc=0x0,_0x344ac9=0x0,_0x419e2d=arguments[_0x4efbfb(0x1d2)];_0x344ac9<_0x419e2d;_0x344ac9++)_0x2d11dc+=arguments[_0x344ac9][_0x4efbfb(0x1d2)];for(var _0x245a2c=Array(_0x2d11dc),_0x120d3f=0x0,_0x344ac9=0x0;_0x344ac9<_0x419e2d;_0x344ac9++)for(var _0xe3ca85=arguments[_0x344ac9],_0x11fb00=0x0,_0x368c3b=_0xe3ca85[_0x4efbfb(0x1d2)];_0x11fb00<_0x368c3b;_0x11fb00++,_0x120d3f++)_0x245a2c[_0x120d3f]=_0xe3ca85[_0x11fb00];return _0x245a2c;},__importDefault=this&&this[a14_0x2939fc(0x24a)]||function(_0x184386){var _0x2dc582=a14_0x2939fc;return _0x184386&&_0x184386[_0x2dc582(0x28b)]?_0x184386:{'default':_0x184386};};Object[a14_0x2939fc(0x1d6)](exports,a14_0x2939fc(0x28b),{'value':!![]}),exports[a14_0x2939fc(0x1c3)]=exports[a14_0x2939fc(0x21a)]=exports[a14_0x2939fc(0x1d0)]=exports[a14_0x2939fc(0x234)]=exports[a14_0x2939fc(0x24e)]=exports[a14_0x2939fc(0x28e)]=exports[a14_0x2939fc(0x1e8)]=exports[a14_0x2939fc(0x205)]=exports[a14_0x2939fc(0x210)]=exports['resolveTmpDirToMount']=exports[a14_0x2939fc(0x287)]=exports[a14_0x2939fc(0x1fd)]=exports['isDockerToolBoxAndEnsureDockerVersion']=exports['resolveCodeUriToMount']=exports[a14_0x2939fc(0x1c8)]=exports['pullImage']=exports[a14_0x2939fc(0x226)]=exports[a14_0x2939fc(0x27a)]=exports['generateDockerEnvs']=exports[a14_0x2939fc(0x280)]=exports['pullImageIfNeed']=exports[a14_0x2939fc(0x25a)]=exports[a14_0x2939fc(0x1c4)]=void 0x0;var dockerode_1=__importDefault(require(a14_0x2939fc(0x1cf))),logger_1=__importDefault(require('../../common/logger')),draftlog=__importStar(require(a14_0x2939fc(0x1cb))),docker_support_1=require(a14_0x2939fc(0x29a)),error_processor_1=require(a14_0x2939fc(0x267)),lodash_1=__importDefault(require(a14_0x2939fc(0x22f))),nas=__importStar(require('../local-invoke/nas')),path_1=__importDefault(require(a14_0x2939fc(0x206))),devs_1=require(a14_0x2939fc(0x1ff)),fs=__importStar(require('fs-extra')),passwd_1=require(a14_0x2939fc(0x25b)),dockerOpts=__importStar(require(a14_0x2939fc(0x273))),debug_1=require(a14_0x2939fc(0x254)),ip=__importStar(require('ip')),env_1=require(a14_0x2939fc(0x289)),runtime_1=require('../utils/runtime'),definition_1=require(a14_0x2939fc(0x219)),dev_null_1=__importDefault(require(a14_0x2939fc(0x213))),core=__importStar(require('@serverless-devs/core')),isWin=process['platform']===a14_0x2939fc(0x260),docker=new dockerode_1[(a14_0x2939fc(0x1c9))]();draftlog[a14_0x2939fc(0x2a1)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x2d51a7){return __awaiter(this,void 0x0,void 0x0,function(){var _0x18a8b8;return __generator(this,function(_0x205edf){var _0x24b627=a14_0x5e73;switch(_0x205edf[_0x24b627(0x1f8)]){case 0x0:return[0x4,docker['listImages']({'filters':{'reference':[_0x2d51a7]}})];case 0x1:_0x18a8b8=_0x205edf['sent']();return[0x2,_0x18a8b8[_0x24b627(0x1d2)]>0x0];}});});}exports['imageExist']=imageExist;function generateRamdomContainerName(){var _0x25bd5f=a14_0x2939fc;return _0x25bd5f(0x283)+new Date()[_0x25bd5f(0x1f0)]()+'_'+Math[_0x25bd5f(0x201)]()['toString'](0x24)['substr'](0x2,0x7);}exports[a14_0x2939fc(0x25a)]=generateRamdomContainerName;function pullImageIfNeed(_0x54a15c,_0xf9b851,_0x252849,_0x20b671){return __awaiter(this,void 0x0,void 0x0,function(){var _0x34ba4e,_0x4f7903;return __generator(this,function(_0x1ea2cb){var _0x2e82b4=a14_0x5e73;switch(_0x1ea2cb['label']){case 0x0:_0x34ba4e=_0x54a15c+'/'+_0xf9b851+'/'+_0x252849+':'+_0x20b671,logger_1[_0x2e82b4(0x1c9)][_0x2e82b4(0x27b)]('Proxy\x20image\x20url:\x20'+_0x34ba4e);return[0x4,imageExist(_0x34ba4e)];case 0x1:if(!!_0x1ea2cb[_0x2e82b4(0x2a4)]())return[0x3,0x3];logger_1[_0x2e82b4(0x1c9)][_0x2e82b4(0x27b)](_0x2e82b4(0x252)+_0x34ba4e);return[0x4,docker[_0x2e82b4(0x282)](_0x34ba4e)];case 0x2:_0x4f7903=_0x1ea2cb[_0x2e82b4(0x2a4)](),_0x1ea2cb['label']=0x3;case 0x3:return[0x4,new Promise(function(_0xccf019,_0x1ee176){var _0xea67=_0x2e82b4;if(_0x4f7903){var _0x20fc2f=function(_0x3ce2b3){_0x3ce2b3&&_0x1ee176(_0x3ce2b3),_0xccf019(_0x34ba4e);},_0x4d219d={},_0x322a72=function(_0x1a0fd5){var _0x35f0df=a14_0x5e73,_0x13b487=_0x1a0fd5[_0x35f0df(0x23d)];_0x1a0fd5[_0x35f0df(0x22c)]&&(_0x13b487=_0x1a0fd5[_0x35f0df(0x23d)]+'\x20'+_0x1a0fd5[_0x35f0df(0x22c)]);if(_0x1a0fd5['id']){var _0x387063=_0x1a0fd5['id'];!_0x4d219d[_0x387063]&&(_0x4d219d[_0x387063]=console[_0x35f0df(0x276)]()),_0x4d219d[_0x387063](_0x387063+':\x20'+_0x13b487);}else{lodash_1[_0x35f0df(0x1c9)][_0x35f0df(0x216)](_0x1a0fd5,_0x35f0df(0x26c))&&(_0x1a0fd5['stream']=_0x1a0fd5['aux']['ID']+'\x0a');var _0x5e3e55=_0x1a0fd5['status']?_0x1a0fd5['status']+'\x0a':_0x1a0fd5[_0x35f0df(0x1bf)];process[_0x35f0df(0x1eb)]['write'](_0x5e3e55);}};docker[_0xea67(0x255)][_0xea67(0x1d8)](_0x4f7903,_0x20fc2f,_0x322a72);}else _0xccf019(_0x34ba4e);})];case 0x4:return[0x2,_0x1ea2cb[_0x2e82b4(0x2a4)]()];}});});}exports[a14_0x2939fc(0x202)]=pullImageIfNeed;function generateDockerCmd(_0x31a1f0,_0x5ea894,_0x58c26d,_0x1552ff,_0x1229f2,_0x5b1f40){var _0x181f8d=a14_0x2939fc;_0x1229f2===void 0x0&&(_0x1229f2=!![]);_0x5b1f40===void 0x0&&(_0x5b1f40=null);if(runtime_1[_0x181f8d(0x1f7)](_0x31a1f0))return genDockerCmdOfCustomContainer(_0x58c26d);else{if(_0x5ea894)return['--server'];}return genDockerCmdOfNonCustomContainer(_0x58c26d,_0x1552ff,_0x1229f2,_0x5b1f40);}exports[a14_0x2939fc(0x280)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x15e008,_0x2b0dfb,_0x3348c8,_0x17fa5b){var _0x2adc64=a14_0x2939fc;_0x3348c8===void 0x0&&(_0x3348c8=!![]);_0x17fa5b===void 0x0&&(_0x17fa5b=null);var _0x27c58a=['-h',_0x15e008[_0x2adc64(0x1e3)]];_0x17fa5b!==null?(_0x27c58a[_0x2adc64(0x1f4)](_0x2adc64(0x21c),Buffer[_0x2adc64(0x1fe)](_0x17fa5b)[_0x2adc64(0x298)](_0x2adc64(0x272))),_0x27c58a[_0x2adc64(0x1f4)](_0x2adc64(0x22a))):_0x27c58a[_0x2adc64(0x1f4)](_0x2adc64(0x1da));_0x2b0dfb&&_0x27c58a['push']('--http');var _0x4b63dc=_0x15e008[_0x2adc64(0x230)];_0x4b63dc&&_0x3348c8&&_0x27c58a[_0x2adc64(0x1f4)]('-i',_0x4b63dc);var _0x2759db=_0x15e008['initializationTimeout'];return _0x2759db&&_0x27c58a[_0x2adc64(0x1f4)](_0x2adc64(0x1dd),_0x2759db[_0x2adc64(0x298)]()),logger_1[_0x2adc64(0x1c9)][_0x2adc64(0x27b)](_0x2adc64(0x1e0)+_0x27c58a),_0x27c58a;}function genDockerCmdOfCustomContainer(_0x101fb4){var _0xb41082=a14_0x2939fc,_0x133389=_0x101fb4[_0xb41082(0x24d)][_0xb41082(0x1f1)]?JSON[_0xb41082(0x222)](_0x101fb4['customContainerConfig']['command']):undefined,_0xfc449b=_0x101fb4[_0xb41082(0x24d)][_0xb41082(0x229)]?JSON[_0xb41082(0x222)](_0x101fb4[_0xb41082(0x24d)][_0xb41082(0x229)]):undefined;if(_0x133389&&_0xfc449b)return __spreadArrays(_0x133389,_0xfc449b);else{if(_0x133389)return _0x133389;else{if(_0xfc449b)return _0xfc449b;}}return[];}function generateDockerEnvs(_0x6d7bc4,_0x125446,_0x2efe1c,_0x4c4a27,_0x558b6b,_0x1142a8,_0x4e995b,_0x147517,_0x302987,_0x1a55f7,_0x2dcb01,_0x27ec2f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4c3061,_0x5b544e,_0x3d859e,_0x1a039c,_0x56d832;return __generator(this,function(_0xf2cf7){var _0x3cd72d=a14_0x5e73;switch(_0xf2cf7[_0x3cd72d(0x1f8)]){case 0x0:_0x4c3061={};_0x302987&&Object['assign'](_0x4c3061,{'FC_HTTP_PARAMS':_0x302987});return[0x4,env_1[_0x3cd72d(0x247)](_0x2efe1c,_0x4e995b['codeUri'])];case 0x1:_0x5b544e=_0xf2cf7[_0x3cd72d(0x2a4)](),Object[_0x3cd72d(0x24b)](_0x4c3061,_0x5b544e),_0x3d859e=_0x4e995b[_0x3cd72d(0x292)];if(_0x147517&&!_0x27ec2f)_0x1a039c=debug_1[_0x3cd72d(0x1e7)](_0x3d859e,_0x147517,_0x2dcb01),Object[_0x3cd72d(0x24b)](_0x4c3061,_0x1a039c);else _0x27ec2f&&Object[_0x3cd72d(0x24b)](_0x4c3061,{'DEBUG_OPTIONS':_0x27ec2f});Object[_0x3cd72d(0x24b)](_0x4c3061,generateFunctionEnvs(_0x4e995b));definition_1[_0x3cd72d(0x23f)](_0x558b6b===null||_0x558b6b===void 0x0?void 0x0:_0x558b6b['logConfig'])?_0x56d832=definition_1[_0x3cd72d(0x29c)](_0x6d7bc4===null||_0x6d7bc4===void 0x0?void 0x0:_0x6d7bc4[_0x3cd72d(0x1db)],_0x125446,_0x4c4a27):_0x56d832=_0x558b6b===null||_0x558b6b===void 0x0?void 0x0:_0x558b6b[_0x3cd72d(0x1d4)];(_0x4e995b===null||_0x4e995b===void 0x0?void 0x0:_0x4e995b[_0x3cd72d(0x292)][_0x3cd72d(0x250)](_0x3cd72d(0x1c0)))&&Object[_0x3cd72d(0x24b)](_0x4c3061,{'fc_enable_new_java_ca':!![]});Object[_0x3cd72d(0x24b)](_0x4c3061,{'local':!![],'FC_ACCESS_KEY_ID':_0x6d7bc4===null||_0x6d7bc4===void 0x0?void 0x0:_0x6d7bc4['AccessKeyID'],'FC_ACCESS_KEY_SECRET':_0x6d7bc4===null||_0x6d7bc4===void 0x0?void 0x0:_0x6d7bc4[_0x3cd72d(0x214)],'FC_SECURITY_TOKEN':_0x6d7bc4===null||_0x6d7bc4===void 0x0?void 0x0:_0x6d7bc4['SecurityToken'],'FC_ACCOUNT_ID':_0x6d7bc4===null||_0x6d7bc4===void 0x0?void 0x0:_0x6d7bc4[_0x3cd72d(0x1db)],'FC_REGION':_0x125446,'FC_FUNCTION_NAME':_0x1142a8,'FC_HANDLER':_0x4e995b[_0x3cd72d(0x1e3)],'FC_MEMORY_SIZE':_0x4e995b[_0x3cd72d(0x291)]||0x80,'FC_TIMEOUT':_0x4e995b[_0x3cd72d(0x295)]||0x3,'FC_INITIALIZER':_0x4e995b[_0x3cd72d(0x230)],'FC_INITIALIZATION_TIMEOUT':_0x4e995b[_0x3cd72d(0x1d1)]||0x3,'FC_SERVICE_NAME':_0x4c4a27,'FC_SERVICE_LOG_PROJECT':_0x56d832===null||_0x56d832===void 0x0?void 0x0:_0x56d832['project'],'FC_SERVICE_LOG_STORE':_0x56d832===null||_0x56d832===void 0x0?void 0x0:_0x56d832[_0x3cd72d(0x1c2)]});if(runtime_1[_0x3cd72d(0x1f7)](_0x4e995b[_0x3cd72d(0x292)]))return[0x2,_0x4c3061];return[0x2,env_1[_0x3cd72d(0x274)](_0x4c3061,_0x1a55f7)];}});});}exports['generateDockerEnvs']=generateDockerEnvs;function generateFunctionEnvs(_0x3ec794){var _0x1560bb=_0x3ec794['environmentVariables'];if(!_0x1560bb)return{};return Object['assign']({},_0x1560bb);}exports[a14_0x2939fc(0x27a)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x5ab205){return __awaiter(this,void 0x0,void 0x0,function(){var _0x589ed1;return __generator(this,function(_0x28c278){var _0x5a7120=a14_0x5e73;switch(_0x28c278[_0x5a7120(0x1f8)]){case 0x0:return[0x4,imageExist(_0x5ab205)];case 0x1:_0x589ed1=_0x28c278[_0x5a7120(0x2a4)]();if(!(!_0x589ed1||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x5ab205)];case 0x2:_0x28c278[_0x5a7120(0x2a4)]();return[0x3,0x4];case 0x3:logger_1[_0x5a7120(0x1c9)]['debug'](_0x5a7120(0x20e)+_0x5ab205+'...'),logger_1['default']['info'](_0x5a7120(0x231)+_0x5ab205+_0x5a7120(0x281)),_0x28c278[_0x5a7120(0x1f8)]=0x4;case 0x4:return[0x2];}});});}exports[a14_0x2939fc(0x226)]=pullFcImageIfNeed;function pullImage(_0x18cffc){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3ed7d9,_0x112832,_0x18841c=this;return __generator(this,function(_0x43fb7d){var _0x4d85eb=a14_0x5e73;switch(_0x43fb7d[_0x4d85eb(0x1f8)]){case 0x0:return[0x4,dockerOpts['resolveImageNameForPull'](_0x18cffc)];case 0x1:_0x3ed7d9=_0x43fb7d[_0x4d85eb(0x2a4)]();return[0x4,docker[_0x4d85eb(0x282)](_0x3ed7d9)];case 0x2:_0x112832=_0x43fb7d[_0x4d85eb(0x2a4)]();return[0x4,new Promise(function(_0x198b97,_0x59f042){var _0x842c68=_0x4d85eb;logger_1[_0x842c68(0x1c9)]['info'](_0x842c68(0x218)+_0x3ed7d9+_0x842c68(0x251)+(_0x842c68(0x278)+_0x3ed7d9+'\x27')+_0x842c68(0x264));var _0x216e84=function(_0x314b07){return __awaiter(_0x18841c,void 0x0,void 0x0,function(){var _0x540e1e,_0x44bf77,_0x4190fb,_0x6500e1,_0xf88870,_0x4fa89e;return __generator(this,function(_0x1123da){var _0x8fd748=a14_0x5e73;switch(_0x1123da['label']){case 0x0:_0x314b07&&_0x59f042(_0x314b07);containers[_0x8fd748(0x249)](_0x112832),(_0x540e1e=0x0,_0x44bf77=dockerOpts[_0x8fd748(0x1ec)]),_0x1123da['label']=0x1;case 0x1:if(!(_0x540e1e<_0x44bf77['length']))return[0x3,0x5];_0x4190fb=_0x44bf77[_0x540e1e];if(!(_0x3ed7d9['indexOf'](_0x4190fb)===0x0))return[0x3,0x4];return[0x4,docker[_0x8fd748(0x20b)](_0x3ed7d9)];case 0x2:_0x6500e1=_0x1123da['sent'](),_0xf88870=_0x3ed7d9[_0x8fd748(0x248)](_0x4190fb[_0x8fd748(0x1d2)]+0x1),_0x4fa89e=_0xf88870['split'](':');return[0x4,_0x6500e1[_0x8fd748(0x1e9)]({'name':_0x3ed7d9,'repo':lodash_1[_0x8fd748(0x1c9)]['first'](_0x4fa89e),'tag':lodash_1[_0x8fd748(0x1c9)]['last'](_0x4fa89e)})];case 0x3:_0x1123da['sent']();return[0x3,0x5];case 0x4:_0x540e1e++;return[0x3,0x1];case 0x5:_0x198b97(_0x3ed7d9);return[0x2];}});});};containers[_0x842c68(0x246)](_0x112832),followProgress(_0x112832,_0x216e84);})];case 0x3:return[0x2,_0x43fb7d[_0x4d85eb(0x2a4)]()];}});});}exports[a14_0x2939fc(0x24c)]=pullImage;function followProgress(_0x5e50b1,_0x7adea1){var _0xb1a9de=a14_0x2939fc,_0x5057e9={},_0x4165e9=function(_0x2b9f4e){var _0x981d1=a14_0x5e73,_0xed51e2=_0x2b9f4e[_0x981d1(0x23d)];_0x2b9f4e[_0x981d1(0x22c)]&&(_0xed51e2=_0x2b9f4e[_0x981d1(0x23d)]+'\x20'+_0x2b9f4e[_0x981d1(0x22c)]);if(_0x2b9f4e['id']){var _0x8bd202=_0x2b9f4e['id'];!_0x5057e9[_0x8bd202]&&(_0x5057e9[_0x8bd202]=console[_0x981d1(0x276)]()),_0x5057e9[_0x8bd202](_0x8bd202+':\x20'+_0xed51e2);}else{lodash_1[_0x981d1(0x1c9)][_0x981d1(0x216)](_0x2b9f4e,_0x981d1(0x26c))&&(_0x2b9f4e['stream']=_0x2b9f4e[_0x981d1(0x242)]['ID']+'\x0a');var _0x4ee4b0=_0x2b9f4e[_0x981d1(0x23d)]?_0x2b9f4e['status']+'\x0a':_0x2b9f4e[_0x981d1(0x1bf)];process[_0x981d1(0x1eb)][_0x981d1(0x1d7)](_0x4ee4b0);}};docker['modem'][_0xb1a9de(0x1d8)](_0x5e50b1,_0x7adea1,_0x4165e9);}function runContainer(_0x4e575a,_0x2c8c20,_0x4171ab,_0x49b151){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5e2db1,_0x5efdb8,_0x1c71f6,_0x104aef,_0xabf97;return __generator(this,function(_0x190bc5){var _0x2e355f=a14_0x5e73;switch(_0x190bc5['label']){case 0x0:return[0x4,createContainer(_0x4e575a)];case 0x1:_0x5e2db1=_0x190bc5['sent'](),_0x5efdb8={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x5e2db1[_0x2e355f(0x1cd)](_0x5efdb8)];case 0x2:_0x1c71f6=_0x190bc5['sent']();!_0x2c8c20&&(_0x2c8c20=process[_0x2e355f(0x1eb)]);!_0x4171ab&&(_0x4171ab=process[_0x2e355f(0x239)]);_0x104aef=error_processor_1['processorTransformFactory']({'serviceName':_0x49b151===null||_0x49b151===void 0x0?void 0x0:_0x49b151[_0x2e355f(0x27f)],'functionName':_0x49b151===null||_0x49b151===void 0x0?void 0x0:_0x49b151[_0x2e355f(0x2a3)],'errorStream':_0x4171ab});!isWin&&_0x5e2db1[_0x2e355f(0x255)][_0x2e355f(0x265)](_0x1c71f6,_0x2c8c20,_0x104aef);return[0x4,_0x5e2db1[_0x2e355f(0x1ea)]()];case 0x3:_0x190bc5[_0x2e355f(0x2a4)]();if(!isWin)return[0x3,0x5];return[0x4,_0x5e2db1['logs']({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0xabf97=_0x190bc5['sent'](),_0x5e2db1[_0x2e355f(0x255)][_0x2e355f(0x265)](_0xabf97,_0x2c8c20,_0x104aef),_0x190bc5[_0x2e355f(0x1f8)]=0x5;case 0x5:containers[_0x2e355f(0x246)](_0x5e2db1['id']),streams[_0x2e355f(0x246)](_0x1c71f6);return[0x2,{'container':_0x5e2db1,'stream':_0x1c71f6}];}});});}exports['runContainer']=runContainer;function resolveCodeUriToMount(_0x2081ab,_0x1bb22e){return _0x1bb22e===void 0x0&&(_0x1bb22e=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x16aa63,_0x2a8c1e;return __generator(this,function(_0x37e5a7){var _0x556c4c=a14_0x5e73;switch(_0x37e5a7['label']){case 0x0:if(!_0x2081ab)return[0x2,null];_0x16aa63=null;return[0x4,fs[_0x556c4c(0x275)](_0x2081ab)];case 0x1:_0x2a8c1e=_0x37e5a7['sent']();_0x2a8c1e[_0x556c4c(0x20f)]()?_0x16aa63=_0x556c4c(0x2a2):_0x16aa63=path_1[_0x556c4c(0x1c9)][_0x556c4c(0x28f)][_0x556c4c(0x26f)](_0x556c4c(0x2a2),path_1[_0x556c4c(0x1c9)][_0x556c4c(0x26e)](_0x2081ab));return[0x2,{'Type':_0x556c4c(0x1d5),'Source':_0x2081ab,'Target':_0x16aa63,'ReadOnly':_0x1bb22e}];}});});}exports[a14_0x2939fc(0x1f2)]=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1caf2d,_0x5e3915;return __generator(this,function(_0x46ac3b){var _0x423db3=a14_0x5e73;switch(_0x46ac3b[_0x423db3(0x1f8)]){case 0x0:return[0x4,docker[_0x423db3(0x1cc)]()];case 0x1:_0x1caf2d=_0x46ac3b[_0x423db3(0x2a4)]();return[0x4,detectDockerVersion(_0x1caf2d[_0x423db3(0x279)]||'')];case 0x2:_0x46ac3b[_0x423db3(0x2a4)](),_0x5e3915=(_0x1caf2d[_0x423db3(0x21b)]||[])[_0x423db3(0x217)](function(_0x5ba181){var _0x5e62c1=_0x423db3;return lodash_1[_0x5e62c1(0x1c9)]['split'](_0x5ba181,'=',0x2);})['filter'](function(_0x32302b){var _0x40fb44=_0x423db3;return _0x32302b[_0x40fb44(0x1d2)]===0x2;})[_0x423db3(0x24f)](function(_0x3b50b2,_0x1b7c15){return _0x3b50b2[_0x1b7c15[0x0]]=_0x1b7c15[0x1],_0x3b50b2;},{});return[0x2,process['platform']==='win32'&&_0x5e3915[_0x423db3(0x204)]===_0x423db3(0x25d)];}});});}exports[a14_0x2939fc(0x1f9)]=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0x12dc31){return __awaiter(this,void 0x0,void 0x0,function(){var _0xdbf9b9;return __generator(this,function(_0x1101b8){var _0xb4a023=a14_0x5e73;_0xdbf9b9=_0x12dc31['split']('.');if(Number['parseInt'](_0xdbf9b9[0x0])===0x1&&Number[_0xb4a023(0x221)](_0xdbf9b9[0x1])<=0xd)throw new Error(_0xb4a023(0x285)+_0x12dc31+',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.');return[0x2];});});}exports[a14_0x2939fc(0x1fd)]=detectDockerVersion;function createContainer(_0x5e2775){var _0x2d8a01;return __awaiter(this,void 0x0,void 0x0,function(){var _0x32ea9a,_0x10f676,_0x37ed83,_0x1a4635,_0x526b4e,_0x337955;return __generator(this,function(_0x368b01){var _0x175bab=a14_0x5e73;switch(_0x368b01[_0x175bab(0x1f8)]){case 0x0:_0x32ea9a=process['platform']===_0x175bab(0x260),_0x10f676=process[_0x175bab(0x1fb)]==='darwin';if(!(_0x5e2775&&_0x10f676))return[0x3,0x2];if(!_0x5e2775[_0x175bab(0x1e6)])return[0x3,0x2];return[0x4,docker_support_1['findPathsOutofSharedPaths']((_0x2d8a01=_0x5e2775[_0x175bab(0x1e6)])===null||_0x2d8a01===void 0x0?void 0x0:_0x2d8a01['Mounts'])];case 0x1:_0x37ed83=_0x368b01['sent']();if(_0x10f676&&_0x37ed83['length']>0x0)throw new Error('Please\x20add\x20directory\x20\x27'+_0x37ed83+_0x175bab(0x20d));_0x368b01['label']=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x1a4635=_0x368b01[_0x175bab(0x2a4)](),_0x368b01[_0x175bab(0x1f8)]=0x4;case 0x4:_0x368b01[_0x175bab(0x25c)][_0x175bab(0x1f4)]([0x4,0x6,,0x7]);return[0x4,docker[_0x175bab(0x208)](_0x5e2775)];case 0x5:_0x526b4e=_0x368b01[_0x175bab(0x2a4)]();return[0x3,0x7];case 0x6:_0x337955=_0x368b01[_0x175bab(0x2a4)]();if(_0x337955[_0x175bab(0x27c)][_0x175bab(0x1e1)](_0x175bab(0x29f))!==-0x1&&_0x1a4635)throw new Error('The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.');if(_0x337955['message'][_0x175bab(0x1e1)](_0x175bab(0x220))!==-0x1&&_0x32ea9a)throw new Error(_0x337955['message']+_0x175bab(0x1c1));throw _0x337955;case 0x7:return[0x2,_0x526b4e];}});});}function resolveNasConfigToMounts(_0x8b47c3,_0x2e8f0f,_0x392e51,_0x392f9c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5eaef2;return __generator(this,function(_0xbdcf56){var _0x16288a=a14_0x5e73;switch(_0xbdcf56[_0x16288a(0x1f8)]){case 0x0:return[0x4,nas[_0x16288a(0x23e)](_0x392f9c,_0x392e51,_0x2e8f0f)];case 0x1:_0x5eaef2=_0xbdcf56['sent']();return[0x2,convertNasMappingsToMounts(devs_1[_0x16288a(0x228)](_0x8b47c3),_0x5eaef2)];}});});}exports[a14_0x2939fc(0x287)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x386d68,_0xb94380){return _0xb94380['map'](function(_0x2cf012){var _0x1c489f=a14_0x5e73;return{'Type':_0x1c489f(0x1d5),'Source':path_1[_0x1c489f(0x1c9)][_0x1c489f(0x1ef)](_0x386d68,_0x2cf012['localNasDir']),'Target':_0x2cf012[_0x1c489f(0x26b)],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x5c18d5){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1db4a3){var _0x5af1d2=a14_0x5e73;if(!_0x5c18d5)return[0x2,{}];return[0x2,{'Type':'bind','Source':_0x5c18d5,'Target':_0x5af1d2(0x263),'ReadOnly':![]}];});});}exports[a14_0x2939fc(0x233)]=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x3bc2b8){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4b6d96;return __generator(this,function(_0x4ccff6){var _0x4e59d9=a14_0x5e73;if(!_0x3bc2b8)return[0x2,{}];return _0x4b6d96=path_1[_0x4e59d9(0x1c9)][_0x4e59d9(0x1ef)](_0x3bc2b8),[0x2,{'Type':_0x4e59d9(0x1d5),'Source':_0x4b6d96,'Target':_0x4e59d9(0x1d3),'ReadOnly':![]}];});});}exports[a14_0x2939fc(0x210)]=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5dc082;return __generator(this,function(_0x51863a){var _0x26a551=a14_0x5e73;switch(_0x51863a[_0x26a551(0x1f8)]){case 0x0:if(!(process['platform']===_0x26a551(0x21e)))return[0x3,0x2];_0x5dc082={'Type':_0x26a551(0x1d5)};return[0x4,passwd_1[_0x26a551(0x29e)]()];case 0x1:return[0x2,(_0x5dc082[_0x26a551(0x240)]=_0x51863a[_0x26a551(0x2a4)](),_0x5dc082[_0x26a551(0x29b)]='/etc/passwd',_0x5dc082[_0x26a551(0x1c5)]=!![],_0x5dc082)];case 0x2:return[0x2,null];}});});}exports[a14_0x2939fc(0x205)]=resolvePasswdMount;function createAndRunContainer(_0x2e09c0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4b09fe;return __generator(this,function(_0xa889ae){var _0xac5dd2=a14_0x5e73;switch(_0xa889ae[_0xac5dd2(0x1f8)]){case 0x0:return[0x4,createContainer(_0x2e09c0)];case 0x1:_0x4b09fe=_0xa889ae[_0xac5dd2(0x2a4)](),containers[_0xac5dd2(0x246)](_0x4b09fe['id']);return[0x4,_0x4b09fe['start']({})];case 0x2:_0xa889ae[_0xac5dd2(0x2a4)]();return[0x2,_0x4b09fe];}});});}exports['createAndRunContainer']=createAndRunContainer;function showDebugIdeTipsForVscode(_0x506884,_0x52823b,_0x433e83,_0x26a2a4,_0x96ca29){return __awaiter(this,void 0x0,void 0x0,function(){var _0x433f19;return __generator(this,function(_0x269471){var _0x29f190=a14_0x5e73;switch(_0x269471[_0x29f190(0x1f8)]){case 0x0:return[0x4,debug_1[_0x29f190(0x297)](_0x506884,_0x52823b,_0x433e83,_0x26a2a4,_0x96ca29)];case 0x1:_0x433f19=_0x269471[_0x29f190(0x2a4)](),logger_1['default']['log'](_0x29f190(0x207),_0x29f190(0x1e4)),logger_1[_0x29f190(0x1c9)]['log'](_0x29f190(0x22e)),logger_1[_0x29f190(0x1c9)][_0x29f190(0x270)](JSON['stringify'](_0x433f19,null,0x4)),logger_1['default'][_0x29f190(0x270)](_0x29f190(0x299));return[0x2];}});});}function a14_0x5e73(_0x59ad29,_0x2105e3){return a14_0x5e73=function(_0x73c87,_0x5e73a9){_0x73c87=_0x73c87-0x1bd;var _0x108c74=a14_0x73c8[_0x73c87];return _0x108c74;},a14_0x5e73(_0x59ad29,_0x2105e3);}exports['showDebugIdeTipsForVscode']=showDebugIdeTipsForVscode;function writeDebugIdeConfigForVscode(_0x114cb9,_0xd3c807,_0x18f95e,_0x3f910e,_0x386e05,_0x4655f9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3f0360,_0x36e682,_0x429b54,_0x5b9bbb,_0x51c3b3,_0x1b5fa0,_0xec7892,_0xc65dcb;return __generator(this,function(_0x1061b1){var _0x5aba75=a14_0x5e73;switch(_0x1061b1['label']){case 0x0:_0x3f0360=path_1[_0x5aba75(0x1c9)]['join'](_0x114cb9,_0x5aba75(0x27e)),_0x36e682=path_1[_0x5aba75(0x1c9)]['join'](_0x3f0360,'launch.json'),_0x1061b1['label']=0x1;case 0x1:_0x1061b1['trys'][_0x5aba75(0x1f4)]([0x1,0x3,,0x5]);return[0x4,fs['ensureDir'](path_1['default'][_0x5aba75(0x224)](_0x36e682))];case 0x2:_0x1061b1[_0x5aba75(0x2a4)]();return[0x3,0x5];case 0x3:_0x429b54=_0x1061b1[_0x5aba75(0x2a4)](),logger_1[_0x5aba75(0x1c9)][_0x5aba75(0x269)](_0x5aba75(0x20a)+_0x3f0360+_0x5aba75(0x238));return[0x4,showDebugIdeTipsForVscode(_0xd3c807,_0x18f95e,_0x3f910e,_0x386e05,_0x4655f9)];case 0x4:_0x1061b1['sent'](),logger_1['default']['debug'](_0x5aba75(0x20a)+_0x3f0360+'\x20failed,\x20error:\x20'+_0x429b54);return[0x2];case 0x5:return[0x4,debug_1[_0x5aba75(0x297)](_0xd3c807,_0x18f95e,_0x3f910e,_0x386e05,_0x4655f9)];case 0x6:_0x5b9bbb=_0x1061b1['sent']();if(!(fs['pathExistsSync'](_0x36e682)&&fs[_0x5aba75(0x1ed)](_0x36e682)[_0x5aba75(0x256)]()))return[0x3,0x9];_0xec7892=(_0x1b5fa0=JSON)[_0x5aba75(0x222)];return[0x4,fs[_0x5aba75(0x244)](_0x36e682,{'encoding':_0x5aba75(0x288)})];case 0x7:_0x51c3b3=_0xec7892[_0x5aba75(0x209)](_0x1b5fa0,[_0x1061b1['sent']()]);if(lodash_1['default'][_0x5aba75(0x29d)](_0x51c3b3,_0x5b9bbb))return[0x2];logger_1[_0x5aba75(0x1c9)]['warning'](_0x5aba75(0x200)+_0x36e682+_0x5aba75(0x1bd));return[0x4,showDebugIdeTipsForVscode(_0xd3c807,_0x18f95e,_0x3f910e,_0x386e05,_0x4655f9)];case 0x8:_0x1061b1[_0x5aba75(0x2a4)]();return[0x2];case 0x9:_0x1061b1[_0x5aba75(0x25c)][_0x5aba75(0x1f4)]([0x9,0xb,,0xd]);return[0x4,fs[_0x5aba75(0x1ee)](_0x36e682,JSON[_0x5aba75(0x23a)](_0x5b9bbb,null,'\x20\x20'),{'encoding':_0x5aba75(0x288),'flag':'w'})];case 0xa:_0x1061b1['sent']();return[0x3,0xd];case 0xb:_0xc65dcb=_0x1061b1[_0x5aba75(0x2a4)](),logger_1[_0x5aba75(0x1c9)][_0x5aba75(0x269)](_0x5aba75(0x22d)+_0x36e682+'\x20failed.');return[0x4,showDebugIdeTipsForVscode(_0xd3c807,_0x18f95e,_0x3f910e,_0x386e05,_0x4655f9)];case 0xc:_0x1061b1['sent'](),logger_1[_0x5aba75(0x1c9)][_0x5aba75(0x27b)](_0x5aba75(0x22d)+_0x36e682+_0x5aba75(0x1de)+_0xc65dcb);return[0x3,0xd];case 0xd:return[0x2];}});});}exports[a14_0x2939fc(0x24e)]=writeDebugIdeConfigForVscode;function showDebugIdeTipsForPycharm(_0x153b3c,_0x347fae){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3bc94e;return __generator(this,function(_0x3b8acd){var _0x470a96=a14_0x5e73;switch(_0x3b8acd[_0x470a96(0x1f8)]){case 0x0:return[0x4,fs[_0x470a96(0x275)](_0x153b3c)];case 0x1:_0x3bc94e=_0x3b8acd[_0x470a96(0x2a4)]();!_0x3bc94e[_0x470a96(0x20f)]()&&(_0x153b3c=path_1[_0x470a96(0x1c9)]['dirname'](_0x153b3c));logger_1[_0x470a96(0x1c9)][_0x470a96(0x270)](_0x470a96(0x284)+ip[_0x470a96(0x26d)]()+_0x470a96(0x28a)+_0x347fae+_0x470a96(0x2a0)+_0x153b3c+_0x470a96(0x215)+ip[_0x470a96(0x26d)]()+_0x470a96(0x236)+_0x347fae+_0x470a96(0x28c),_0x470a96(0x1e4));return[0x2];}});});}exports[a14_0x2939fc(0x234)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x5902d9,_0x2d49b6){var _0x22e789=a14_0x2939fc;_0x2d49b6&&_0x5902d9[_0x22e789(0x1d7)](_0x2d49b6),_0x5902d9[_0x22e789(0x286)]();}function startContainer(_0x4b3295,_0x2304b8,_0x4879b8,_0xc45a9c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x239a9d,_0x4b8756,_0x41b7f9,_0x27d120,_0x1956ae=this;return __generator(this,function(_0x159c4c){var _0x29e28d=a14_0x5e73;switch(_0x159c4c['label']){case 0x0:return[0x4,createContainer(_0x4b3295)];case 0x1:_0x239a9d=_0x159c4c[_0x29e28d(0x2a4)](),containers[_0x29e28d(0x246)](_0x239a9d['id']),_0x159c4c['label']=0x2;case 0x2:_0x159c4c[_0x29e28d(0x25c)][_0x29e28d(0x1f4)]([0x2,0x4,,0x5]);return[0x4,_0x239a9d['start']({})];case 0x3:_0x159c4c[_0x29e28d(0x2a4)]();return[0x3,0x5];case 0x4:_0x4b8756=_0x159c4c[_0x29e28d(0x2a4)](),logger_1['default']['error'](_0x4b8756);return[0x3,0x5];case 0x5:_0x41b7f9=_0x2304b8||_0x4879b8;if(!_0x41b7f9)return[0x3,0x7];!_0x2304b8&&(_0x2304b8=dev_null_1['default']());!_0x4879b8&&(_0x4879b8=dev_null_1[_0x29e28d(0x1c9)]());return[0x4,_0x239a9d[_0x29e28d(0x290)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x27d120=_0x159c4c['sent'](),_0x239a9d[_0x29e28d(0x255)][_0x29e28d(0x265)](_0x27d120,_0x2304b8,error_processor_1[_0x29e28d(0x296)]({'serviceName':_0xc45a9c[_0x29e28d(0x27f)],'functionName':_0xc45a9c[_0x29e28d(0x2a3)],'errorStream':_0x4879b8})),_0x159c4c[_0x29e28d(0x1f8)]=0x7;case 0x7:return[0x2,{'containerId':_0x239a9d===null||_0x239a9d===void 0x0?void 0x0:_0x239a9d['id'],'stop':function(){return __awaiter(_0x1956ae,void 0x0,void 0x0,function(){return __generator(this,function(_0x1435cc){var _0x48fe87=a14_0x5e73;switch(_0x1435cc[_0x48fe87(0x1f8)]){case 0x0:logger_1[_0x48fe87(0x1c9)]['debug']('Stopping\x20container:\x20'+_0x239a9d['id']);return[0x4,_0x239a9d[_0x48fe87(0x227)]()];case 0x1:_0x1435cc[_0x48fe87(0x2a4)](),containers[_0x48fe87(0x249)](_0x239a9d['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x1956ae,void 0x0,void 0x0,function(){return __generator(this,function(_0x45f268){var _0x236afa=a14_0x5e73;switch(_0x45f268[_0x236afa(0x1f8)]){case 0x0:logger_1[_0x236afa(0x1c9)][_0x236afa(0x27b)]('Killing\x20container:\x20'+_0x239a9d['id']);return[0x4,_0x239a9d[_0x236afa(0x1d9)]()];case 0x1:_0x45f268[_0x236afa(0x2a4)](),containers[_0x236afa(0x249)](_0x239a9d['id']);return[0x2];}});});},'exec':function(_0x14bef5,_0xdddd4f){var _0x221dfa=_0x29e28d,_0x338b1d=_0xdddd4f===void 0x0?{}:_0xdddd4f,_0x87abf2=_0x338b1d[_0x221dfa(0x268)],_0x2b0287=_0x87abf2===void 0x0?'':_0x87abf2,_0x559251=_0x338b1d[_0x221dfa(0x253)],_0x31648d=_0x559251===void 0x0?{}:_0x559251,_0x4a7177=_0x338b1d[_0x221dfa(0x1f5)],_0x32d390=_0x4a7177===void 0x0?process[_0x221dfa(0x1eb)]:_0x4a7177,_0x28b532=_0x338b1d[_0x221dfa(0x1be)],_0x10a998=_0x28b532===void 0x0?process[_0x221dfa(0x239)]:_0x28b532,_0x1601bf=_0x338b1d[_0x221dfa(0x21f)],_0x45a239=_0x1601bf===void 0x0?![]:_0x1601bf,_0x58db47=_0x338b1d[_0x221dfa(0x259)],_0x3cd451=_0x58db47===void 0x0?{}:_0x58db47,_0x46930e=_0x338b1d['event'],_0x293340=_0x46930e===void 0x0?null:_0x46930e;return __awaiter(_0x1956ae,void 0x0,void 0x0,function(){var _0x18578a,_0x87781d,_0x35b37a,_0x2b7525;return __generator(this,function(_0x34bea9){var _0x2618bc=a14_0x5e73;switch(_0x34bea9[_0x2618bc(0x1f8)]){case 0x0:_0x18578a=_0x293340?!![]:![],_0x87781d={'Env':dockerOpts[_0x2618bc(0x294)](_0x31648d),'Tty':![],'AttachStdin':_0x18578a,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x2b0287};_0x14bef5!==[]&&(_0x87781d[_0x2618bc(0x26a)]=_0x14bef5);logger_1[_0x2618bc(0x1c9)][_0x2618bc(0x27b)](_0x2618bc(0x271)+JSON[_0x2618bc(0x23a)](_0x87781d,null,0x4));return[0x4,_0x239a9d[_0x2618bc(0x223)](_0x87781d)];case 0x1:_0x35b37a=_0x34bea9[_0x2618bc(0x2a4)]();return[0x4,_0x35b37a[_0x2618bc(0x1ea)]({'hijack':!![],'stdin':_0x18578a})];case 0x2:_0x2b7525=_0x34bea9['sent']();return[0x4,new Promise(function(_0x25ede0){return setTimeout(_0x25ede0,0x1e);})];case 0x3:_0x34bea9[_0x2618bc(0x2a4)]();_0x293340!==null&&writeEventToStreamAndClose(_0x2b7525,_0x293340);!_0x32d390&&(_0x32d390=process[_0x2618bc(0x1eb)]);!_0x10a998&&(_0x10a998=process[_0x2618bc(0x239)]);_0x45a239?_0x239a9d[_0x2618bc(0x255)]['demuxStream'](_0x2b7525,_0x32d390,_0x10a998):_0x239a9d['modem'][_0x2618bc(0x265)](_0x2b7525,dev_null_1[_0x2618bc(0x1c9)](),_0x10a998);return[0x4,waitForExec(_0x35b37a)];case 0x4:return[0x2,_0x34bea9[_0x2618bc(0x2a4)]()];}});});}}];}});});}exports['startContainer']=startContainer;function waitForExec(_0x2c9e56){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x1c6cac){var _0x275940=a14_0x5e73;switch(_0x1c6cac[_0x275940(0x1f8)]){case 0x0:return[0x4,new Promise(function(_0x36326e,_0x416496){function _0x36bf5c(){var _0x3a3fb3=a14_0x5e73;_0x2c9e56[_0x3a3fb3(0x261)](function(_0x1f2e0a,_0x45b99a){var _0x55624a=_0x3a3fb3;if(_0x45b99a===null||_0x45b99a===void 0x0?void 0x0:_0x45b99a['Running']){setTimeout(_0x36bf5c,0x64);return;}if(_0x1f2e0a)_0x416496(_0x1f2e0a);else _0x45b99a['ExitCode']!==0x0?_0x416496(_0x45b99a[_0x55624a(0x1fa)]['entrypoint']+'\x20exited\x20with\x20code\x20'+_0x45b99a[_0x55624a(0x1ca)]):_0x36326e(_0x45b99a['ExitCode']);});}_0x36bf5c();})];case 0x1:return[0x2,_0x1c6cac['sent']()];}});});}function run(_0x470024,_0x18b06d,_0x35b6d5,_0x17e9aa,_0x2b09a0){return _0x2b09a0===void 0x0&&(_0x2b09a0={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x59b61b,_0x398681,_0xf190e5,_0x2d1deb;return __generator(this,function(_0x405af5){var _0x5772cd=a14_0x5e73;switch(_0x405af5[_0x5772cd(0x1f8)]){case 0x0:return[0x4,runContainer(_0x470024,_0x35b6d5,_0x17e9aa,_0x2b09a0)];case 0x1:_0x59b61b=_0x405af5[_0x5772cd(0x2a4)](),_0x398681=_0x59b61b[_0x5772cd(0x293)],_0xf190e5=_0x59b61b[_0x5772cd(0x1bf)],writeEventToStreamAndClose(_0xf190e5,_0x18b06d);return[0x4,_0x398681['wait']()];case 0x2:_0x2d1deb=_0x405af5['sent'](),containers[_0x5772cd(0x249)](_0x398681['id']),streams[_0x5772cd(0x249)](_0xf190e5);return[0x2,_0x2d1deb];}});});}exports[a14_0x2939fc(0x21a)]=run;function stopContainer(_0x4bb14b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x49eb9b,_0x205486,_0x410040;return __generator(this,function(_0x529952){var _0x5ecddc=a14_0x5e73;switch(_0x529952[_0x5ecddc(0x1f8)]){case 0x0:_0x49eb9b=core[_0x5ecddc(0x21d)](_0x5ecddc(0x1f3)+_0x4bb14b['id']),_0x529952['label']=0x1;case 0x1:_0x529952[_0x5ecddc(0x25c)][_0x5ecddc(0x1f4)]([0x1,0x3,,0x8]);return[0x4,_0x4bb14b[_0x5ecddc(0x227)]()];case 0x2:_0x529952['sent'](),_0x49eb9b[_0x5ecddc(0x25f)](_0x5ecddc(0x1c6));return[0x3,0x8];case 0x3:_0x205486=_0x529952[_0x5ecddc(0x2a4)](),_0x49eb9b['fail'](_0x5ecddc(0x257)),logger_1[_0x5ecddc(0x1c9)]['debug']('Stop\x20the\x20container:\x20'+_0x4bb14b['id']+_0x5ecddc(0x1de)+_0x205486),_0x49eb9b=core['spinner']('Killing\x20the\x20container:\x20'+_0x4bb14b['id']),_0x529952['label']=0x4;case 0x4:_0x529952[_0x5ecddc(0x25c)]['push']([0x4,0x6,,0x7]);return[0x4,_0x4bb14b[_0x5ecddc(0x1d9)]()];case 0x5:_0x529952[_0x5ecddc(0x2a4)](),_0x49eb9b[_0x5ecddc(0x25f)](_0x5ecddc(0x1fc));return[0x3,0x7];case 0x6:_0x410040=_0x529952[_0x5ecddc(0x2a4)](),_0x49eb9b['fail'](_0x5ecddc(0x277)),logger_1['default'][_0x5ecddc(0x27b)]('Kill\x20proxy\x20container:\x20'+_0x4bb14b['id']+_0x5ecddc(0x1de)+_0x410040);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x2939fc(0x1c3)]=stopContainer;