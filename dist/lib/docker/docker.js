'use strict';var a14_0x364c=['virtualbox','serviceName','win32','createAndRunContainer','resolveDockerEnv','fail','defineProperty','succeed',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','resolvePasswdMount','addEnv','docker\x20cmd:\x20','initializationTimeout','info','lodash','slice','ReadOnly','Generator\x20is\x20already\x20executing.','java','Target','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','Stop\x20container\x20succeed.','...','kill','followProgress','21229gfBPcb','linux','../local-invoke/nas','--initializationTimeout','AccessKeyID','wait','last','path','\x20failed,\x20error:\x20','delete','Skip\x20pulling\x20image\x20','pull','pop','AccountID','localNasDir','resolveLibPathsFromLdConf','sent','../definition','exec','isDockerToolBoxAndEnsureDockerVersion','ServerVersion','Pulling\x20image\x20','__setModuleDefault','parse','substr','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','dockerode','includes','resolveCodeUriToMount','resolveImageNameForPull','dev-null','aux','functionName','__awaiter','generateDockerCmd','iterator','skip\x20pulling\x20image\x20','next','cwd','then','default','parseInt','stop','__importDefault','__esModule','handler','entrypoint','ops','Proxy\x20image\x20url:\x20','resolve','stream','add','915701DvUsik','modem','../devs','AccessKeySecret','logs','\x20exited\x20with\x20code\x20','message','apply','1jZaJME','/etc/passwd','Stopping\x20the\x20container:\x20','\x27,\x20port=','provider','stdout','label','isDirectory','spinner','outputStream','Running','verbose','stderr','customContainerConfig','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','findPathsOutofSharedPaths','length','generateFunctionEnvs','progress','Stop\x20the\x20container:\x20','stopContainer','Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.','isAutoConfig','error','--event','2XhlSTU','Cmd','draft','logConfig','args','171393oLKkrk','1JcXFtU','value','/tmp','random','stringify','../error-processor','project','imageExist','pullFcImageIfNeed','into','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','createContainer','resolveDebuggerPathToMount','address','129snlbrk','container','start','event','assign','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','pullImageIfNeed','context','map','743246gXVijb','Source','split','initializer','filter','reduce','../../common/logger','--http','SecurityToken','docker\x20exec\x20opts:\x20','runtime','command','trys','--server','return','./docker-support','../utils/passwd','posix','dirname','Stopping\x20container:\x20','invalid\x20mount\x20config\x20for\x20type','Mounts','__spreadArrays','resolveTmpDirToMount','Failed\x20to\x20stop\x20the\x20container.','darwin','demuxStream','function','basename','first','end','resolveAutoLogConfig','generateVscodeDebugConfig','from','HostConfig','getImage','memorySize','getTime','run','Starting\x20docker\x20pull\x20','bind','codeUri','fc_local_','__importStar','errorStream','showDebugIdeTipsForPycharm','write','798589PumEaA','yellow','timeout','detectDockerVersion','--event-decode','aux.ID','\x20to\x20pull\x20image\x20by\x20yourself.','drive\x20is\x20not\x20shared','lstat','status','resolveNasConfigToMounts','109039HTJrbM','Labels','throw','inspect','log','runContainer','Kill\x20proxy\x20container:\x20','../utils/runtime','generateDockerEnvs','processorTransformFactory','isCustomContainerRuntime','base64','push','showDebugIdeTipsForVscode','join','fs-extra','/code','toString','__createBinding','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','607415DBeNoO','../local-invoke/env','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives','indexOf','platform','call','debug','The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.','\x27docker\x20pull\x20','../local-invoke/debug','generateRamdomContainerName','getRootBaseDir'];var a14_0x28ab3e=a14_0x1e66;(function(_0x222e18,_0x28253d){var _0x4d0720=a14_0x1e66;while(!![]){try{var _0x32da6f=parseInt(_0x4d0720(0x18a))+parseInt(_0x4d0720(0x1d8))+parseInt(_0x4d0720(0x252))*parseInt(_0x4d0720(0x257))+parseInt(_0x4d0720(0x1b9))+-parseInt(_0x4d0720(0x239))*-parseInt(_0x4d0720(0x231))+-parseInt(_0x4d0720(0x258))*parseInt(_0x4d0720(0x1c4))+parseInt(_0x4d0720(0x181))*-parseInt(_0x4d0720(0x1fd));if(_0x32da6f===_0x28253d)break;else _0x222e18['push'](_0x222e18['shift']());}catch(_0x27ff1b){_0x222e18['push'](_0x222e18['shift']());}}}(a14_0x364c,0x88c1d));var __createBinding=this&&this[a14_0x28ab3e(0x1d6)]||(Object['create']?function(_0x27081e,_0xd9450b,_0x2d8546,_0x58e341){if(_0x58e341===undefined)_0x58e341=_0x2d8546;Object['defineProperty'](_0x27081e,_0x58e341,{'enumerable':!![],'get':function(){return _0xd9450b[_0x2d8546];}});}:function(_0x6ed612,_0x3ce5f2,_0xc3f7dc,_0x13df7b){if(_0x13df7b===undefined)_0x13df7b=_0xc3f7dc;_0x6ed612[_0x13df7b]=_0x3ce5f2[_0xc3f7dc];}),__setModuleDefault=this&&this[a14_0x28ab3e(0x213)]||(Object['create']?function(_0x52e260,_0x3499d1){var _0x317cac=a14_0x28ab3e;Object[_0x317cac(0x1ea)](_0x52e260,_0x317cac(0x225),{'enumerable':!![],'value':_0x3499d1});}:function(_0x4e35ef,_0x59bfde){var _0x476efc=a14_0x28ab3e;_0x4e35ef[_0x476efc(0x225)]=_0x59bfde;}),__importStar=this&&this[a14_0x28ab3e(0x1b5)]||function(_0x295e41){var _0x262f5e=a14_0x28ab3e;if(_0x295e41&&_0x295e41[_0x262f5e(0x229)])return _0x295e41;var _0xabd4be={};if(_0x295e41!=null){for(var _0x1794d8 in _0x295e41)if(_0x1794d8!==_0x262f5e(0x225)&&Object['hasOwnProperty'][_0x262f5e(0x1dd)](_0x295e41,_0x1794d8))__createBinding(_0xabd4be,_0x295e41,_0x1794d8);}return __setModuleDefault(_0xabd4be,_0x295e41),_0xabd4be;},__awaiter=this&&this[a14_0x28ab3e(0x21e)]||function(_0x522cc3,_0xd04071,_0x5760b7,_0x8c5e06){function _0x501dcb(_0x475dce){return _0x475dce instanceof _0x5760b7?_0x475dce:new _0x5760b7(function(_0x22b20f){_0x22b20f(_0x475dce);});}return new(_0x5760b7||(_0x5760b7=Promise))(function(_0x3f30d2,_0x72218a){var _0x57f0ff=a14_0x1e66;function _0x2f0212(_0x3bec6a){var _0x1b0ad8=a14_0x1e66;try{_0x164f60(_0x8c5e06[_0x1b0ad8(0x222)](_0x3bec6a));}catch(_0x24c525){_0x72218a(_0x24c525);}}function _0x3edd9f(_0x4a8499){var _0x586edf=a14_0x1e66;try{_0x164f60(_0x8c5e06[_0x586edf(0x1c6)](_0x4a8499));}catch(_0x428257){_0x72218a(_0x428257);}}function _0x164f60(_0x180220){var _0xde6670=a14_0x1e66;_0x180220['done']?_0x3f30d2(_0x180220[_0xde6670(0x259)]):_0x501dcb(_0x180220[_0xde6670(0x259)])[_0xde6670(0x224)](_0x2f0212,_0x3edd9f);}_0x164f60((_0x8c5e06=_0x8c5e06[_0x57f0ff(0x238)](_0x522cc3,_0xd04071||[]))[_0x57f0ff(0x222)]());});},__generator=this&&this['__generator']||function(_0x314e92,_0x41f937){var _0xa7c480=a14_0x28ab3e,_0x4356ec={'label':0x0,'sent':function(){if(_0x348c35[0x0]&0x1)throw _0x348c35[0x1];return _0x348c35[0x1];},'trys':[],'ops':[]},_0x3f9ac1,_0x3f7da0,_0x348c35,_0x5cfba0;return _0x5cfba0={'next':_0x4d8a7a(0x0),'throw':_0x4d8a7a(0x1),'return':_0x4d8a7a(0x2)},typeof Symbol===_0xa7c480(0x1a5)&&(_0x5cfba0[Symbol[_0xa7c480(0x220)]]=function(){return this;}),_0x5cfba0;function _0x4d8a7a(_0x23024e){return function(_0x1dd15e){return _0x1f759b([_0x23024e,_0x1dd15e]);};}function _0x1f759b(_0x54bc75){var _0xc632d5=_0xa7c480;if(_0x3f9ac1)throw new TypeError(_0xc632d5(0x1f5));while(_0x4356ec)try{if(_0x3f9ac1=0x1,_0x3f7da0&&(_0x348c35=_0x54bc75[0x0]&0x2?_0x3f7da0[_0xc632d5(0x198)]:_0x54bc75[0x0]?_0x3f7da0[_0xc632d5(0x1c6)]||((_0x348c35=_0x3f7da0[_0xc632d5(0x198)])&&_0x348c35[_0xc632d5(0x1dd)](_0x3f7da0),0x0):_0x3f7da0['next'])&&!(_0x348c35=_0x348c35[_0xc632d5(0x1dd)](_0x3f7da0,_0x54bc75[0x1]))['done'])return _0x348c35;if(_0x3f7da0=0x0,_0x348c35)_0x54bc75=[_0x54bc75[0x0]&0x2,_0x348c35[_0xc632d5(0x259)]];switch(_0x54bc75[0x0]){case 0x0:case 0x1:_0x348c35=_0x54bc75;break;case 0x4:_0x4356ec[_0xc632d5(0x23f)]++;return{'value':_0x54bc75[0x1],'done':![]};case 0x5:_0x4356ec[_0xc632d5(0x23f)]++,_0x3f7da0=_0x54bc75[0x1],_0x54bc75=[0x0];continue;case 0x7:_0x54bc75=_0x4356ec['ops'][_0xc632d5(0x209)](),_0x4356ec[_0xc632d5(0x196)][_0xc632d5(0x209)]();continue;default:if(!(_0x348c35=_0x4356ec[_0xc632d5(0x196)],_0x348c35=_0x348c35[_0xc632d5(0x249)]>0x0&&_0x348c35[_0x348c35[_0xc632d5(0x249)]-0x1])&&(_0x54bc75[0x0]===0x6||_0x54bc75[0x0]===0x2)){_0x4356ec=0x0;continue;}if(_0x54bc75[0x0]===0x3&&(!_0x348c35||_0x54bc75[0x1]>_0x348c35[0x0]&&_0x54bc75[0x1]<_0x348c35[0x3])){_0x4356ec[_0xc632d5(0x23f)]=_0x54bc75[0x1];break;}if(_0x54bc75[0x0]===0x6&&_0x4356ec[_0xc632d5(0x23f)]<_0x348c35[0x1]){_0x4356ec[_0xc632d5(0x23f)]=_0x348c35[0x1],_0x348c35=_0x54bc75;break;}if(_0x348c35&&_0x4356ec[_0xc632d5(0x23f)]<_0x348c35[0x2]){_0x4356ec['label']=_0x348c35[0x2],_0x4356ec[_0xc632d5(0x22c)][_0xc632d5(0x1d0)](_0x54bc75);break;}if(_0x348c35[0x2])_0x4356ec[_0xc632d5(0x22c)]['pop']();_0x4356ec[_0xc632d5(0x196)][_0xc632d5(0x209)]();continue;}_0x54bc75=_0x41f937[_0xc632d5(0x1dd)](_0x314e92,_0x4356ec);}catch(_0x1fbcb5){_0x54bc75=[0x6,_0x1fbcb5],_0x3f7da0=0x0;}finally{_0x3f9ac1=_0x348c35=0x0;}if(_0x54bc75[0x0]&0x5)throw _0x54bc75[0x1];return{'value':_0x54bc75[0x0]?_0x54bc75[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x28ab3e(0x1a0)]||function(){var _0x4d588e=a14_0x28ab3e;for(var _0x193b28=0x0,_0x205162=0x0,_0x5f03de=arguments[_0x4d588e(0x249)];_0x205162<_0x5f03de;_0x205162++)_0x193b28+=arguments[_0x205162][_0x4d588e(0x249)];for(var _0x457eb9=Array(_0x193b28),_0x1d35c4=0x0,_0x205162=0x0;_0x205162<_0x5f03de;_0x205162++)for(var _0x415dc1=arguments[_0x205162],_0x3d8552=0x0,_0x3c101a=_0x415dc1[_0x4d588e(0x249)];_0x3d8552<_0x3c101a;_0x3d8552++,_0x1d35c4++)_0x457eb9[_0x1d35c4]=_0x415dc1[_0x3d8552];return _0x457eb9;},__importDefault=this&&this[a14_0x28ab3e(0x228)]||function(_0x413c36){var _0x2439df=a14_0x28ab3e;return _0x413c36&&_0x413c36[_0x2439df(0x229)]?_0x413c36:{'default':_0x413c36};};Object[a14_0x28ab3e(0x1ea)](exports,a14_0x28ab3e(0x229),{'value':!![]}),exports[a14_0x28ab3e(0x24d)]=exports[a14_0x28ab3e(0x1b0)]=exports['startContainer']=exports['showDebugIdeTipsForPycharm']=exports[a14_0x28ab3e(0x1d1)]=exports[a14_0x28ab3e(0x1e7)]=exports[a14_0x28ab3e(0x1ed)]=exports['resolveDebuggerPathToMount']=exports[a14_0x28ab3e(0x1a1)]=exports[a14_0x28ab3e(0x1c3)]=exports[a14_0x28ab3e(0x1bc)]=exports['isDockerToolBoxAndEnsureDockerVersion']=exports['resolveCodeUriToMount']=exports[a14_0x28ab3e(0x1c9)]=exports['pullImage']=exports[a14_0x28ab3e(0x17b)]=exports[a14_0x28ab3e(0x24a)]=exports[a14_0x28ab3e(0x1cc)]=exports[a14_0x28ab3e(0x21f)]=exports[a14_0x28ab3e(0x187)]=exports[a14_0x28ab3e(0x1e2)]=exports['imageExist']=void 0x0;var dockerode_1=__importDefault(require(a14_0x28ab3e(0x217))),logger_1=__importDefault(require(a14_0x28ab3e(0x190))),draftlog=__importStar(require('draftlog')),docker_support_1=require(a14_0x28ab3e(0x199)),error_processor_1=require(a14_0x28ab3e(0x178)),lodash_1=__importDefault(require(a14_0x28ab3e(0x1f2))),nas=__importStar(require(a14_0x28ab3e(0x1ff))),path_1=__importDefault(require(a14_0x28ab3e(0x204))),devs_1=require(a14_0x28ab3e(0x233)),fs=__importStar(require(a14_0x28ab3e(0x1d3))),passwd_1=require(a14_0x28ab3e(0x19a)),dockerOpts=__importStar(require('./docker-opts')),debug_1=require(a14_0x28ab3e(0x1e1)),ip=__importStar(require('ip')),env_1=require(a14_0x28ab3e(0x1d9)),runtime_1=require(a14_0x28ab3e(0x1cb)),definition_1=require(a14_0x28ab3e(0x20e)),devnull=__importStar(require(a14_0x28ab3e(0x21b))),core=__importStar(require('@serverless-devs/core')),isWin=process[a14_0x28ab3e(0x1dc)]==='win32',docker=new dockerode_1[(a14_0x28ab3e(0x225))]();draftlog[a14_0x28ab3e(0x17c)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x4e5043){return __awaiter(this,void 0x0,void 0x0,function(){var _0x9cb23a;return __generator(this,function(_0x1840f7){var _0x2b5f45=a14_0x1e66;switch(_0x1840f7['label']){case 0x0:return[0x4,docker['listImages']({'filters':{'reference':[_0x4e5043]}})];case 0x1:_0x9cb23a=_0x1840f7['sent']();return[0x2,_0x9cb23a[_0x2b5f45(0x249)]>0x0];}});});}exports[a14_0x28ab3e(0x17a)]=imageExist;function generateRamdomContainerName(){var _0x123105=a14_0x28ab3e;return _0x123105(0x1b4)+new Date()[_0x123105(0x1af)]()+'_'+Math[_0x123105(0x176)]()[_0x123105(0x1d5)](0x24)[_0x123105(0x215)](0x2,0x7);}exports[a14_0x28ab3e(0x1e2)]=generateRamdomContainerName;function pullImageIfNeed(_0x26f6f1,_0x998c06,_0x57d953,_0x588bce){return __awaiter(this,void 0x0,void 0x0,function(){var _0x48ae71,_0x4dd5ec;return __generator(this,function(_0x3b2923){var _0x58d057=a14_0x1e66;switch(_0x3b2923[_0x58d057(0x23f)]){case 0x0:_0x48ae71=_0x26f6f1+'/'+_0x998c06+'/'+_0x57d953+':'+_0x588bce,logger_1[_0x58d057(0x225)][_0x58d057(0x1de)](_0x58d057(0x22d)+_0x48ae71);return[0x4,imageExist(_0x48ae71)];case 0x1:if(!!_0x3b2923[_0x58d057(0x20d)]())return[0x3,0x3];logger_1[_0x58d057(0x225)][_0x58d057(0x1de)](_0x58d057(0x1b1)+_0x48ae71);return[0x4,docker[_0x58d057(0x208)](_0x48ae71)];case 0x2:_0x4dd5ec=_0x3b2923[_0x58d057(0x20d)](),_0x3b2923[_0x58d057(0x23f)]=0x3;case 0x3:return[0x4,new Promise(function(_0x1efeea,_0x3c50cb){var _0x2240a4=_0x58d057;if(_0x4dd5ec){var _0x20da4a=function(_0xee801e){_0xee801e&&_0x3c50cb(_0xee801e),_0x1efeea(_0x48ae71);},_0x6ab022={},_0x4c9f31=function(_0x1f4416){var _0x50fb78=a14_0x1e66,_0x260e68=_0x1f4416[_0x50fb78(0x1c2)];_0x1f4416['progress']&&(_0x260e68=_0x1f4416[_0x50fb78(0x1c2)]+'\x20'+_0x1f4416['progress']);if(_0x1f4416['id']){var _0x542505=_0x1f4416['id'];!_0x6ab022[_0x542505]&&(_0x6ab022[_0x542505]=console[_0x50fb78(0x254)]()),_0x6ab022[_0x542505](_0x542505+':\x20'+_0x260e68);}else{lodash_1['default']['has'](_0x1f4416,_0x50fb78(0x1be))&&(_0x1f4416[_0x50fb78(0x22f)]=_0x1f4416['aux']['ID']+'\x0a');var _0x427744=_0x1f4416[_0x50fb78(0x1c2)]?_0x1f4416['status']+'\x0a':_0x1f4416[_0x50fb78(0x22f)];process[_0x50fb78(0x23e)]['write'](_0x427744);}};docker[_0x2240a4(0x232)][_0x2240a4(0x1fc)](_0x4dd5ec,_0x20da4a,_0x4c9f31);}else _0x1efeea(_0x48ae71);})];case 0x4:return[0x2,_0x3b2923[_0x58d057(0x20d)]()];}});});}exports['pullImageIfNeed']=pullImageIfNeed;function generateDockerCmd(_0x179a60,_0x9d74b2,_0x32ffcd,_0x41b3dd,_0x1ab85f,_0x2a61fb){var _0x322c4d=a14_0x28ab3e;_0x1ab85f===void 0x0&&(_0x1ab85f=!![]);_0x2a61fb===void 0x0&&(_0x2a61fb=null);if(runtime_1[_0x322c4d(0x1ce)](_0x179a60))return genDockerCmdOfCustomContainer(_0x32ffcd);else{if(_0x9d74b2)return[_0x322c4d(0x197)];}return genDockerCmdOfNonCustomContainer(_0x32ffcd,_0x41b3dd,_0x1ab85f,_0x2a61fb);}exports[a14_0x28ab3e(0x21f)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x5a203a,_0x269e61,_0x5a164c,_0x22b7bb){var _0x236834=a14_0x28ab3e;_0x5a164c===void 0x0&&(_0x5a164c=!![]);_0x22b7bb===void 0x0&&(_0x22b7bb=null);var _0x3a6d90=['-h',_0x5a203a[_0x236834(0x22a)]];_0x22b7bb!==null?(_0x3a6d90[_0x236834(0x1d0)](_0x236834(0x251),Buffer[_0x236834(0x1ab)](_0x22b7bb)[_0x236834(0x1d5)](_0x236834(0x1cf))),_0x3a6d90[_0x236834(0x1d0)](_0x236834(0x1bd))):_0x3a6d90[_0x236834(0x1d0)]('--stdin');_0x269e61&&_0x3a6d90['push'](_0x236834(0x191));var _0x53ddc4=_0x5a203a[_0x236834(0x18d)];_0x53ddc4&&_0x5a164c&&_0x3a6d90['push']('-i',_0x53ddc4);var _0x4b67dd=_0x5a203a[_0x236834(0x1f0)];return _0x4b67dd&&_0x3a6d90[_0x236834(0x1d0)](_0x236834(0x200),_0x4b67dd[_0x236834(0x1d5)]()),logger_1['default'][_0x236834(0x1de)](_0x236834(0x1ef)+_0x3a6d90),_0x3a6d90;}function genDockerCmdOfCustomContainer(_0x283e20){var _0x4e9df2=a14_0x28ab3e,_0xe46c42=_0x283e20[_0x4e9df2(0x246)]['command']?JSON['parse'](_0x283e20[_0x4e9df2(0x246)][_0x4e9df2(0x195)]):undefined,_0x447bb1=_0x283e20[_0x4e9df2(0x246)][_0x4e9df2(0x256)]?JSON[_0x4e9df2(0x214)](_0x283e20[_0x4e9df2(0x246)]['args']):undefined;if(_0xe46c42&&_0x447bb1)return __spreadArrays(_0xe46c42,_0x447bb1);else{if(_0xe46c42)return _0xe46c42;else{if(_0x447bb1)return _0x447bb1;}}return[];}function generateDockerEnvs(_0x29afca,_0x352b88,_0x28335c,_0x52c188,_0x4ab6f2,_0x42c9a4,_0xa757f5,_0x3857dc,_0x577d4e,_0x5236a2,_0x246b26,_0x13ce51){return __awaiter(this,void 0x0,void 0x0,function(){var _0x508840,_0x2b9598,_0x5c8fbf,_0x5e6380,_0x581ae5;return __generator(this,function(_0x58bea6){var _0x445f92=a14_0x1e66;switch(_0x58bea6[_0x445f92(0x23f)]){case 0x0:_0x508840={};_0x577d4e&&Object[_0x445f92(0x185)](_0x508840,{'FC_HTTP_PARAMS':_0x577d4e});return[0x4,env_1[_0x445f92(0x20c)](_0x28335c,_0xa757f5[_0x445f92(0x1b3)])];case 0x1:_0x2b9598=_0x58bea6[_0x445f92(0x20d)](),Object['assign'](_0x508840,_0x2b9598),_0x5c8fbf=_0xa757f5[_0x445f92(0x194)];if(_0x3857dc&&!_0x13ce51)_0x5e6380=debug_1['generateDebugEnv'](_0x5c8fbf,_0x3857dc,_0x246b26),Object[_0x445f92(0x185)](_0x508840,_0x5e6380);else _0x13ce51&&Object[_0x445f92(0x185)](_0x508840,{'DEBUG_OPTIONS':_0x13ce51});Object[_0x445f92(0x185)](_0x508840,generateFunctionEnvs(_0xa757f5));definition_1[_0x445f92(0x24f)](_0x4ab6f2===null||_0x4ab6f2===void 0x0?void 0x0:_0x4ab6f2[_0x445f92(0x255)])?_0x581ae5=definition_1[_0x445f92(0x1a9)](_0x29afca===null||_0x29afca===void 0x0?void 0x0:_0x29afca['AccountID'],_0x352b88,_0x52c188):_0x581ae5=_0x4ab6f2===null||_0x4ab6f2===void 0x0?void 0x0:_0x4ab6f2[_0x445f92(0x255)];(_0xa757f5===null||_0xa757f5===void 0x0?void 0x0:_0xa757f5[_0x445f92(0x194)][_0x445f92(0x218)](_0x445f92(0x1f6)))&&Object[_0x445f92(0x185)](_0x508840,{'fc_enable_new_java_ca':!![]});Object['assign'](_0x508840,{'local':!![],'FC_ACCESS_KEY_ID':_0x29afca===null||_0x29afca===void 0x0?void 0x0:_0x29afca[_0x445f92(0x201)],'FC_ACCESS_KEY_SECRET':_0x29afca===null||_0x29afca===void 0x0?void 0x0:_0x29afca[_0x445f92(0x234)],'FC_SECURITY_TOKEN':_0x29afca===null||_0x29afca===void 0x0?void 0x0:_0x29afca[_0x445f92(0x192)],'FC_ACCOUNT_ID':_0x29afca===null||_0x29afca===void 0x0?void 0x0:_0x29afca[_0x445f92(0x20a)],'FC_REGION':_0x352b88,'FC_FUNCTION_NAME':_0x42c9a4,'FC_HANDLER':_0xa757f5['handler'],'FC_MEMORY_SIZE':_0xa757f5[_0x445f92(0x1ae)]||0x80,'FC_TIMEOUT':_0xa757f5[_0x445f92(0x1bb)]||0x3,'FC_INITIALIZER':_0xa757f5[_0x445f92(0x18d)],'FC_INITIALIZATION_TIMEOUT':_0xa757f5[_0x445f92(0x1f0)]||0x3,'FC_SERVICE_NAME':_0x52c188,'FC_SERVICE_LOG_PROJECT':_0x581ae5===null||_0x581ae5===void 0x0?void 0x0:_0x581ae5[_0x445f92(0x179)],'FC_SERVICE_LOG_STORE':_0x581ae5===null||_0x581ae5===void 0x0?void 0x0:_0x581ae5['logstore']});if(runtime_1[_0x445f92(0x1ce)](_0xa757f5[_0x445f92(0x194)]))return[0x2,_0x508840];return[0x2,env_1[_0x445f92(0x1ee)](_0x508840,_0x5236a2)];}});});}function a14_0x1e66(_0x288bf2,_0x18e2e1){return a14_0x1e66=function(_0x364c0f,_0x1e6621){_0x364c0f=_0x364c0f-0x176;var _0x5711e3=a14_0x364c[_0x364c0f];return _0x5711e3;},a14_0x1e66(_0x288bf2,_0x18e2e1);}exports[a14_0x28ab3e(0x1cc)]=generateDockerEnvs;function generateFunctionEnvs(_0x58da89){var _0xddda3=a14_0x28ab3e,_0x18ae44=_0x58da89['environmentVariables'];if(!_0x18ae44)return{};return Object[_0xddda3(0x185)]({},_0x18ae44);}exports[a14_0x28ab3e(0x24a)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x1aeba0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3738af;return __generator(this,function(_0x3b8b2f){var _0x18273c=a14_0x1e66;switch(_0x3b8b2f[_0x18273c(0x23f)]){case 0x0:return[0x4,imageExist(_0x1aeba0)];case 0x1:_0x3738af=_0x3b8b2f['sent']();if(!(!_0x3738af||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x1aeba0)];case 0x2:_0x3b8b2f[_0x18273c(0x20d)]();return[0x3,0x4];case 0x3:logger_1[_0x18273c(0x225)][_0x18273c(0x1de)](_0x18273c(0x221)+_0x1aeba0+_0x18273c(0x1fa)),logger_1['default'][_0x18273c(0x1f1)](_0x18273c(0x207)+_0x1aeba0+_0x18273c(0x1fa)),_0x3b8b2f['label']=0x4;case 0x4:return[0x2];}});});}exports['pullFcImageIfNeed']=pullFcImageIfNeed;function pullImage(_0x52bf5e){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2cdef7,_0x447887,_0x474097=this;return __generator(this,function(_0x5f12c9){var _0x38ab73=a14_0x1e66;switch(_0x5f12c9[_0x38ab73(0x23f)]){case 0x0:return[0x4,dockerOpts[_0x38ab73(0x21a)](_0x52bf5e)];case 0x1:_0x2cdef7=_0x5f12c9[_0x38ab73(0x20d)]();return[0x4,docker[_0x38ab73(0x208)](_0x2cdef7)];case 0x2:_0x447887=_0x5f12c9[_0x38ab73(0x20d)]();return[0x4,new Promise(function(_0x581be9,_0x2f5c5f){var _0x42c43e=_0x38ab73;logger_1[_0x42c43e(0x225)][_0x42c43e(0x1f1)](_0x42c43e(0x212)+_0x2cdef7+',\x20you\x20can\x20also\x20use\x20'+(_0x42c43e(0x1e0)+_0x2cdef7+'\x27')+_0x42c43e(0x1bf));var _0x526101=function(_0x46ed6e){return __awaiter(_0x474097,void 0x0,void 0x0,function(){var _0x5eda68,_0x143d6c,_0x47c9d6,_0x4e22f3,_0x4b0252,_0x2944a4;return __generator(this,function(_0x1f726e){var _0x3d53b6=a14_0x1e66;switch(_0x1f726e[_0x3d53b6(0x23f)]){case 0x0:_0x46ed6e&&_0x2f5c5f(_0x46ed6e);containers['delete'](_0x447887),(_0x5eda68=0x0,_0x143d6c=dockerOpts['DOCKER_REGISTRIES']),_0x1f726e[_0x3d53b6(0x23f)]=0x1;case 0x1:if(!(_0x5eda68<_0x143d6c['length']))return[0x3,0x5];_0x47c9d6=_0x143d6c[_0x5eda68];if(!(_0x2cdef7[_0x3d53b6(0x1db)](_0x47c9d6)===0x0))return[0x3,0x4];return[0x4,docker[_0x3d53b6(0x1ad)](_0x2cdef7)];case 0x2:_0x4e22f3=_0x1f726e[_0x3d53b6(0x20d)](),_0x4b0252=_0x2cdef7[_0x3d53b6(0x1f3)](_0x47c9d6[_0x3d53b6(0x249)]+0x1),_0x2944a4=_0x4b0252['split'](':');return[0x4,_0x4e22f3['tag']({'name':_0x2cdef7,'repo':lodash_1[_0x3d53b6(0x225)][_0x3d53b6(0x1a7)](_0x2944a4),'tag':lodash_1['default'][_0x3d53b6(0x203)](_0x2944a4)})];case 0x3:_0x1f726e[_0x3d53b6(0x20d)]();return[0x3,0x5];case 0x4:_0x5eda68++;return[0x3,0x1];case 0x5:_0x581be9(_0x2cdef7);return[0x2];}});});};containers['add'](_0x447887),followProgress(_0x447887,_0x526101);})];case 0x3:return[0x2,_0x5f12c9[_0x38ab73(0x20d)]()];}});});}exports['pullImage']=pullImage;function followProgress(_0x5968c3,_0x29f5d5){var _0x9105c8=a14_0x28ab3e,_0x217bd3={},_0x14851f=function(_0x396df3){var _0x310e2b=a14_0x1e66,_0x3ad601=_0x396df3[_0x310e2b(0x1c2)];_0x396df3[_0x310e2b(0x24b)]&&(_0x3ad601=_0x396df3[_0x310e2b(0x1c2)]+'\x20'+_0x396df3['progress']);if(_0x396df3['id']){var _0x17e4d2=_0x396df3['id'];!_0x217bd3[_0x17e4d2]&&(_0x217bd3[_0x17e4d2]=console[_0x310e2b(0x254)]()),_0x217bd3[_0x17e4d2](_0x17e4d2+':\x20'+_0x3ad601);}else{lodash_1[_0x310e2b(0x225)]['has'](_0x396df3,'aux.ID')&&(_0x396df3[_0x310e2b(0x22f)]=_0x396df3[_0x310e2b(0x21c)]['ID']+'\x0a');var _0x50306e=_0x396df3['status']?_0x396df3[_0x310e2b(0x1c2)]+'\x0a':_0x396df3['stream'];process[_0x310e2b(0x23e)]['write'](_0x50306e);}};docker[_0x9105c8(0x232)][_0x9105c8(0x1fc)](_0x5968c3,_0x29f5d5,_0x14851f);}function runContainer(_0x1f92aa,_0x2feb81,_0xd236b8,_0x50c259){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4f0b4e,_0x485d63,_0x3641e1,_0x3b2107,_0xbfcc01;return __generator(this,function(_0x2cb68e){var _0x4dea11=a14_0x1e66;switch(_0x2cb68e[_0x4dea11(0x23f)]){case 0x0:return[0x4,createContainer(_0x1f92aa)];case 0x1:_0x4f0b4e=_0x2cb68e['sent'](),_0x485d63={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x4f0b4e['attach'](_0x485d63)];case 0x2:_0x3641e1=_0x2cb68e['sent']();!_0x2feb81&&(_0x2feb81=process['stdout']);!_0xd236b8&&(_0xd236b8=process[_0x4dea11(0x245)]);_0x3b2107=error_processor_1[_0x4dea11(0x1cd)]({'serviceName':_0x50c259===null||_0x50c259===void 0x0?void 0x0:_0x50c259[_0x4dea11(0x1e5)],'functionName':_0x50c259===null||_0x50c259===void 0x0?void 0x0:_0x50c259[_0x4dea11(0x21d)],'errorStream':_0xd236b8});!isWin&&_0x4f0b4e[_0x4dea11(0x232)][_0x4dea11(0x1a4)](_0x3641e1,_0x2feb81,_0x3b2107);return[0x4,_0x4f0b4e['start']()];case 0x3:_0x2cb68e[_0x4dea11(0x20d)]();if(!isWin)return[0x3,0x5];return[0x4,_0x4f0b4e['logs']({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0xbfcc01=_0x2cb68e['sent'](),_0x4f0b4e['modem'][_0x4dea11(0x1a4)](_0xbfcc01,_0x2feb81,_0x3b2107),_0x2cb68e[_0x4dea11(0x23f)]=0x5;case 0x5:containers[_0x4dea11(0x230)](_0x4f0b4e['id']),streams[_0x4dea11(0x230)](_0x3641e1);return[0x2,{'container':_0x4f0b4e,'stream':_0x3641e1}];}});});}exports[a14_0x28ab3e(0x1c9)]=runContainer;function resolveCodeUriToMount(_0x14f70c,_0x34810e){return _0x34810e===void 0x0&&(_0x34810e=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x182e1c,_0x274006;return __generator(this,function(_0xba002c){var _0x45e831=a14_0x1e66;switch(_0xba002c[_0x45e831(0x23f)]){case 0x0:if(!_0x14f70c)return[0x2,null];_0x182e1c=null;return[0x4,fs[_0x45e831(0x1c1)](_0x14f70c)];case 0x1:_0x274006=_0xba002c[_0x45e831(0x20d)]();_0x274006[_0x45e831(0x240)]()?_0x182e1c=_0x45e831(0x1d4):_0x182e1c=path_1[_0x45e831(0x225)][_0x45e831(0x19b)][_0x45e831(0x1d2)](_0x45e831(0x1d4),path_1['default'][_0x45e831(0x1a6)](_0x14f70c));return[0x2,{'Type':_0x45e831(0x1b2),'Source':_0x14f70c,'Target':_0x182e1c,'ReadOnly':_0x34810e}];}});});}exports[a14_0x28ab3e(0x219)]=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3b20f7,_0x2408de;return __generator(this,function(_0x120d9f){var _0x2eb7da=a14_0x1e66;switch(_0x120d9f['label']){case 0x0:return[0x4,docker[_0x2eb7da(0x1f1)]()];case 0x1:_0x3b20f7=_0x120d9f['sent']();return[0x4,detectDockerVersion(_0x3b20f7[_0x2eb7da(0x211)]||'')];case 0x2:_0x120d9f[_0x2eb7da(0x20d)](),_0x2408de=(_0x3b20f7[_0x2eb7da(0x1c5)]||[])[_0x2eb7da(0x189)](function(_0x53a7ba){var _0x1a0759=_0x2eb7da;return lodash_1[_0x1a0759(0x225)][_0x1a0759(0x18c)](_0x53a7ba,'=',0x2);})[_0x2eb7da(0x18e)](function(_0x59744c){var _0x492ffc=_0x2eb7da;return _0x59744c[_0x492ffc(0x249)]===0x2;})[_0x2eb7da(0x18f)](function(_0x23e2d1,_0x3089b7){return _0x23e2d1[_0x3089b7[0x0]]=_0x3089b7[0x1],_0x23e2d1;},{});return[0x2,process[_0x2eb7da(0x1dc)]===_0x2eb7da(0x1e6)&&_0x2408de[_0x2eb7da(0x23d)]===_0x2eb7da(0x1e4)];}});});}exports[a14_0x28ab3e(0x210)]=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0x415f3f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x47d7e8;return __generator(this,function(_0x448560){var _0x2b9249=a14_0x1e66;_0x47d7e8=_0x415f3f[_0x2b9249(0x18c)]('.');if(Number['parseInt'](_0x47d7e8[0x0])===0x1&&Number[_0x2b9249(0x226)](_0x47d7e8[0x1])<=0xd)throw new Error(_0x2b9249(0x247)+_0x415f3f+',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.');return[0x2];});});}exports[a14_0x28ab3e(0x1bc)]=detectDockerVersion;function createContainer(_0x53caab){var _0x152852;return __awaiter(this,void 0x0,void 0x0,function(){var _0x348f56,_0x399731,_0x3e5377,_0x527590,_0x1f96d0,_0x48fafd;return __generator(this,function(_0x30c5fc){var _0x2b7af9=a14_0x1e66;switch(_0x30c5fc['label']){case 0x0:_0x348f56=process[_0x2b7af9(0x1dc)]===_0x2b7af9(0x1e6),_0x399731=process[_0x2b7af9(0x1dc)]===_0x2b7af9(0x1a3);if(!(_0x53caab&&_0x399731))return[0x3,0x2];if(!_0x53caab[_0x2b7af9(0x1ac)])return[0x3,0x2];return[0x4,docker_support_1[_0x2b7af9(0x248)]((_0x152852=_0x53caab['HostConfig'])===null||_0x152852===void 0x0?void 0x0:_0x152852[_0x2b7af9(0x19f)])];case 0x1:_0x3e5377=_0x30c5fc[_0x2b7af9(0x20d)]();if(_0x399731&&_0x3e5377[_0x2b7af9(0x249)]>0x0)throw new Error('Please\x20add\x20directory\x20\x27'+_0x3e5377+_0x2b7af9(0x186));_0x30c5fc[_0x2b7af9(0x23f)]=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x527590=_0x30c5fc[_0x2b7af9(0x20d)](),_0x30c5fc[_0x2b7af9(0x23f)]=0x4;case 0x4:_0x30c5fc['trys'][_0x2b7af9(0x1d0)]([0x4,0x6,,0x7]);return[0x4,docker[_0x2b7af9(0x17e)](_0x53caab)];case 0x5:_0x1f96d0=_0x30c5fc[_0x2b7af9(0x20d)]();return[0x3,0x7];case 0x6:_0x48fafd=_0x30c5fc[_0x2b7af9(0x20d)]();if(_0x48fafd['message'][_0x2b7af9(0x1db)](_0x2b7af9(0x19e))!==-0x1&&_0x527590)throw new Error(_0x2b7af9(0x1df));if(_0x48fafd['message']['indexOf'](_0x2b7af9(0x1c0))!==-0x1&&_0x348f56)throw new Error(_0x48fafd[_0x2b7af9(0x237)]+_0x2b7af9(0x1da));throw _0x48fafd;case 0x7:return[0x2,_0x1f96d0];}});});}function resolveNasConfigToMounts(_0x33c357,_0x24aa8e,_0x3f88ac,_0x29671d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x36bcd9;return __generator(this,function(_0x49405d){var _0x7a0502=a14_0x1e66;switch(_0x49405d[_0x7a0502(0x23f)]){case 0x0:return[0x4,nas['convertNasConfigToNasMappings'](_0x29671d,_0x3f88ac,_0x24aa8e)];case 0x1:_0x36bcd9=_0x49405d[_0x7a0502(0x20d)]();return[0x2,convertNasMappingsToMounts(devs_1[_0x7a0502(0x1e3)](_0x33c357),_0x36bcd9)];}});});}exports[a14_0x28ab3e(0x1c3)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x120e45,_0x593ea4){var _0x2f057a=a14_0x28ab3e;return _0x593ea4[_0x2f057a(0x189)](function(_0x56f632){var _0x2188b2=_0x2f057a;return{'Type':_0x2188b2(0x1b2),'Source':path_1[_0x2188b2(0x225)]['resolve'](_0x120e45,_0x56f632[_0x2188b2(0x20b)]),'Target':_0x56f632['remoteNasDir'],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x5255f6){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x345c7f){var _0xcccd2=a14_0x1e66;if(!_0x5255f6)return[0x2,{}];return[0x2,{'Type':'bind','Source':_0x5255f6,'Target':_0xcccd2(0x25a),'ReadOnly':![]}];});});}exports[a14_0x28ab3e(0x1a1)]=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x386679){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2a6288;return __generator(this,function(_0x4c841e){var _0x5ee908=a14_0x1e66;if(!_0x386679)return[0x2,{}];return _0x2a6288=path_1[_0x5ee908(0x225)][_0x5ee908(0x22e)](_0x386679),[0x2,{'Type':_0x5ee908(0x1b2),'Source':_0x2a6288,'Target':'/tmp/debugger_files','ReadOnly':![]}];});});}exports[a14_0x28ab3e(0x17f)]=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5ee2e6;return __generator(this,function(_0x4637b9){var _0x3b8c74=a14_0x1e66;switch(_0x4637b9[_0x3b8c74(0x23f)]){case 0x0:if(!(process['platform']===_0x3b8c74(0x1fe)))return[0x3,0x2];_0x5ee2e6={'Type':_0x3b8c74(0x1b2)};return[0x4,passwd_1['generatePwdFile']()];case 0x1:return[0x2,(_0x5ee2e6[_0x3b8c74(0x18b)]=_0x4637b9['sent'](),_0x5ee2e6[_0x3b8c74(0x1f7)]=_0x3b8c74(0x23a),_0x5ee2e6[_0x3b8c74(0x1f4)]=!![],_0x5ee2e6)];case 0x2:return[0x2,null];}});});}exports[a14_0x28ab3e(0x1ed)]=resolvePasswdMount;function createAndRunContainer(_0x45119f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5bc5b8;return __generator(this,function(_0x5cce09){var _0x3ed467=a14_0x1e66;switch(_0x5cce09[_0x3ed467(0x23f)]){case 0x0:return[0x4,createContainer(_0x45119f)];case 0x1:_0x5bc5b8=_0x5cce09[_0x3ed467(0x20d)](),containers[_0x3ed467(0x230)](_0x5bc5b8['id']);return[0x4,_0x5bc5b8[_0x3ed467(0x183)]({})];case 0x2:_0x5cce09[_0x3ed467(0x20d)]();return[0x2,_0x5bc5b8];}});});}exports[a14_0x28ab3e(0x1e7)]=createAndRunContainer;function showDebugIdeTipsForVscode(_0x35c4c8,_0x5d7822,_0x28cb8b,_0x6be0aa,_0x8b6179){return __awaiter(this,void 0x0,void 0x0,function(){var _0x19f92a;return __generator(this,function(_0x2bb388){var _0x1d3bf8=a14_0x1e66;switch(_0x2bb388[_0x1d3bf8(0x23f)]){case 0x0:return[0x4,debug_1[_0x1d3bf8(0x1aa)](_0x35c4c8,_0x5d7822,_0x28cb8b,_0x6be0aa,_0x8b6179)];case 0x1:_0x19f92a=_0x2bb388[_0x1d3bf8(0x20d)](),logger_1[_0x1d3bf8(0x225)][_0x1d3bf8(0x1c8)](_0x1d3bf8(0x1f8),_0x1d3bf8(0x1ba)),logger_1[_0x1d3bf8(0x225)][_0x1d3bf8(0x1c8)]('/////////////////\x20config\x20begin\x20/////////////////'),logger_1[_0x1d3bf8(0x225)]['log'](JSON[_0x1d3bf8(0x177)](_0x19f92a,null,0x4)),logger_1['default']['log']('/////////////////\x20config\x20end\x20/////////////////');return[0x2];}});});}exports[a14_0x28ab3e(0x1d1)]=showDebugIdeTipsForVscode;function showDebugIdeTipsForPycharm(_0x12eee5,_0x4d26c5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x307cd0;return __generator(this,function(_0x7e4df7){var _0x356f39=a14_0x1e66;switch(_0x7e4df7[_0x356f39(0x23f)]){case 0x0:return[0x4,fs[_0x356f39(0x1c1)](_0x12eee5)];case 0x1:_0x307cd0=_0x7e4df7[_0x356f39(0x20d)]();!_0x307cd0[_0x356f39(0x240)]()&&(_0x12eee5=path_1[_0x356f39(0x225)][_0x356f39(0x19c)](_0x12eee5));logger_1[_0x356f39(0x225)]['log'](_0x356f39(0x17d)+ip['address']()+_0x356f39(0x216)+_0x4d26c5+'\x0aPath\x20mappings\x20\x20:\x20'+_0x12eee5+_0x356f39(0x1d7)+ip[_0x356f39(0x180)]()+_0x356f39(0x23c)+_0x4d26c5+_0x356f39(0x1ec),'yellow');return[0x2];}});});}exports[a14_0x28ab3e(0x1b7)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x375848,_0x3c4961){var _0x32756c=a14_0x28ab3e;_0x3c4961&&_0x375848[_0x32756c(0x1b8)](_0x3c4961),_0x375848[_0x32756c(0x1a8)]();}function startContainer(_0x1dd250,_0x59669b,_0x15135a,_0x3d8720){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2289a7,_0x29e69d,_0x1e5334,_0x282c95,_0x1cc69e=this;return __generator(this,function(_0x4127a8){var _0x3e6278=a14_0x1e66;switch(_0x4127a8[_0x3e6278(0x23f)]){case 0x0:return[0x4,createContainer(_0x1dd250)];case 0x1:_0x2289a7=_0x4127a8[_0x3e6278(0x20d)](),containers[_0x3e6278(0x230)](_0x2289a7['id']),_0x4127a8[_0x3e6278(0x23f)]=0x2;case 0x2:_0x4127a8[_0x3e6278(0x196)][_0x3e6278(0x1d0)]([0x2,0x4,,0x5]);return[0x4,_0x2289a7[_0x3e6278(0x183)]({})];case 0x3:_0x4127a8['sent']();return[0x3,0x5];case 0x4:_0x29e69d=_0x4127a8[_0x3e6278(0x20d)](),logger_1[_0x3e6278(0x225)][_0x3e6278(0x250)](_0x29e69d);return[0x3,0x5];case 0x5:_0x1e5334=_0x59669b||_0x15135a;if(!_0x1e5334)return[0x3,0x7];!_0x59669b&&(_0x59669b=devnull());!_0x15135a&&(_0x15135a=devnull());return[0x4,_0x2289a7[_0x3e6278(0x235)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x282c95=_0x4127a8[_0x3e6278(0x20d)](),_0x2289a7[_0x3e6278(0x232)][_0x3e6278(0x1a4)](_0x282c95,_0x59669b,error_processor_1[_0x3e6278(0x1cd)]({'serviceName':_0x3d8720[_0x3e6278(0x1e5)],'functionName':_0x3d8720[_0x3e6278(0x21d)],'errorStream':_0x15135a})),_0x4127a8[_0x3e6278(0x23f)]=0x7;case 0x7:return[0x2,{'containerId':_0x2289a7===null||_0x2289a7===void 0x0?void 0x0:_0x2289a7['id'],'stop':function(){return __awaiter(_0x1cc69e,void 0x0,void 0x0,function(){return __generator(this,function(_0x3cd019){var _0x5b0b90=a14_0x1e66;switch(_0x3cd019['label']){case 0x0:logger_1['default'][_0x5b0b90(0x1f1)](_0x5b0b90(0x19d)+_0x2289a7['id']);return[0x4,_0x2289a7[_0x5b0b90(0x227)]()];case 0x1:_0x3cd019[_0x5b0b90(0x20d)](),containers[_0x5b0b90(0x206)](_0x2289a7['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x1cc69e,void 0x0,void 0x0,function(){return __generator(this,function(_0x748de1){var _0xcd3a89=a14_0x1e66;switch(_0x748de1['label']){case 0x0:logger_1['default'][_0xcd3a89(0x1f1)]('Killing\x20container:\x20'+_0x2289a7['id']);return[0x4,_0x2289a7[_0xcd3a89(0x1fb)]()];case 0x1:_0x748de1[_0xcd3a89(0x20d)](),containers[_0xcd3a89(0x206)](_0x2289a7['id']);return[0x2];}});});},'exec':function(_0x589363,_0xccd7bb){var _0xaf8a5d=_0x3e6278,_0x53f6b6=_0xccd7bb===void 0x0?{}:_0xccd7bb,_0x2e340d=_0x53f6b6[_0xaf8a5d(0x223)],_0xa29c6e=_0x2e340d===void 0x0?'':_0x2e340d,_0x2387c7=_0x53f6b6['env'],_0x279e9f=_0x2387c7===void 0x0?{}:_0x2387c7,_0xb2c38b=_0x53f6b6[_0xaf8a5d(0x242)],_0x4502d1=_0xb2c38b===void 0x0?process[_0xaf8a5d(0x23e)]:_0xb2c38b,_0x2b7cfb=_0x53f6b6[_0xaf8a5d(0x1b6)],_0x2f4d8b=_0x2b7cfb===void 0x0?process[_0xaf8a5d(0x245)]:_0x2b7cfb,_0x188626=_0x53f6b6[_0xaf8a5d(0x244)],_0x5ecff5=_0x188626===void 0x0?![]:_0x188626,_0x560c50=_0x53f6b6[_0xaf8a5d(0x188)],_0x38988f=_0x560c50===void 0x0?{}:_0x560c50,_0x2bc58d=_0x53f6b6[_0xaf8a5d(0x184)],_0x9ceddd=_0x2bc58d===void 0x0?null:_0x2bc58d;return __awaiter(_0x1cc69e,void 0x0,void 0x0,function(){var _0x158d3b,_0x2fdc54,_0x217e17,_0x2f04f7;return __generator(this,function(_0xd49877){var _0x9fd636=a14_0x1e66;switch(_0xd49877[_0x9fd636(0x23f)]){case 0x0:_0x158d3b=_0x9ceddd?!![]:![],_0x2fdc54={'Env':dockerOpts[_0x9fd636(0x1e8)](_0x279e9f),'Tty':![],'AttachStdin':_0x158d3b,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0xa29c6e};_0x589363!==[]&&(_0x2fdc54[_0x9fd636(0x253)]=_0x589363);logger_1['default'][_0x9fd636(0x1de)](_0x9fd636(0x193)+JSON[_0x9fd636(0x177)](_0x2fdc54,null,0x4));return[0x4,_0x2289a7[_0x9fd636(0x20f)](_0x2fdc54)];case 0x1:_0x217e17=_0xd49877[_0x9fd636(0x20d)]();return[0x4,_0x217e17[_0x9fd636(0x183)]({'hijack':!![],'stdin':_0x158d3b})];case 0x2:_0x2f04f7=_0xd49877[_0x9fd636(0x20d)]();return[0x4,new Promise(function(_0x30dec1){return setTimeout(_0x30dec1,0x1e);})];case 0x3:_0xd49877[_0x9fd636(0x20d)]();_0x9ceddd!==null&&writeEventToStreamAndClose(_0x2f04f7,_0x9ceddd);!_0x4502d1&&(_0x4502d1=process[_0x9fd636(0x23e)]);!_0x2f4d8b&&(_0x2f4d8b=process[_0x9fd636(0x245)]);_0x5ecff5?_0x2289a7[_0x9fd636(0x232)][_0x9fd636(0x1a4)](_0x2f04f7,_0x4502d1,_0x2f4d8b):_0x2289a7[_0x9fd636(0x232)][_0x9fd636(0x1a4)](_0x2f04f7,devnull(),_0x2f4d8b);return[0x4,waitForExec(_0x217e17)];case 0x4:return[0x2,_0xd49877[_0x9fd636(0x20d)]()];}});});}}];}});});}exports['startContainer']=startContainer;function waitForExec(_0x5f045b){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x228644){var _0xbf43cd=a14_0x1e66;switch(_0x228644[_0xbf43cd(0x23f)]){case 0x0:return[0x4,new Promise(function(_0x3a39cd,_0x55c1d5){function _0x7a11f6(){var _0x3be95b=a14_0x1e66;_0x5f045b[_0x3be95b(0x1c7)](function(_0x2e315f,_0x37e09d){var _0x185c6f=_0x3be95b;if(_0x37e09d[_0x185c6f(0x243)]){setTimeout(_0x7a11f6,0x64);return;}if(_0x2e315f)_0x55c1d5(_0x2e315f);else _0x37e09d['ExitCode']!==0x0?_0x55c1d5(_0x37e09d['ProcessConfig'][_0x185c6f(0x22b)]+_0x185c6f(0x236)+_0x37e09d['ExitCode']):_0x3a39cd(_0x37e09d['ExitCode']);});}_0x7a11f6();})];case 0x1:return[0x2,_0x228644['sent']()];}});});}function run(_0x47aa8b,_0x447caa,_0x318c36,_0x393df8,_0x1b19bd){return _0x1b19bd===void 0x0&&(_0x1b19bd={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x6f5bb4,_0x51c19b,_0xc31bca,_0x7cb859;return __generator(this,function(_0x1860f8){var _0x29f4e6=a14_0x1e66;switch(_0x1860f8['label']){case 0x0:return[0x4,runContainer(_0x47aa8b,_0x318c36,_0x393df8,_0x1b19bd)];case 0x1:_0x6f5bb4=_0x1860f8[_0x29f4e6(0x20d)](),_0x51c19b=_0x6f5bb4[_0x29f4e6(0x182)],_0xc31bca=_0x6f5bb4[_0x29f4e6(0x22f)],writeEventToStreamAndClose(_0xc31bca,_0x447caa);return[0x4,_0x51c19b[_0x29f4e6(0x202)]()];case 0x2:_0x7cb859=_0x1860f8[_0x29f4e6(0x20d)](),containers['delete'](_0x51c19b['id']),streams['delete'](_0xc31bca);return[0x2,_0x7cb859];}});});}exports[a14_0x28ab3e(0x1b0)]=run;function stopContainer(_0x2c4abe){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2e3fde,_0x781e28,_0x4595d3;return __generator(this,function(_0x483d31){var _0x2b8566=a14_0x1e66;switch(_0x483d31[_0x2b8566(0x23f)]){case 0x0:_0x2e3fde=core[_0x2b8566(0x241)](_0x2b8566(0x23b)+_0x2c4abe['id']),_0x483d31[_0x2b8566(0x23f)]=0x1;case 0x1:_0x483d31[_0x2b8566(0x196)][_0x2b8566(0x1d0)]([0x1,0x3,,0x8]);return[0x4,_0x2c4abe[_0x2b8566(0x227)]()];case 0x2:_0x483d31['sent'](),_0x2e3fde[_0x2b8566(0x1eb)](_0x2b8566(0x1f9));return[0x3,0x8];case 0x3:_0x781e28=_0x483d31['sent'](),_0x2e3fde[_0x2b8566(0x1e9)](_0x2b8566(0x1a2)),logger_1[_0x2b8566(0x225)][_0x2b8566(0x1de)](_0x2b8566(0x24c)+_0x2c4abe['id']+_0x2b8566(0x205)+_0x781e28),_0x2e3fde=core[_0x2b8566(0x241)]('Killing\x20the\x20container:\x20'+_0x2c4abe['id']),_0x483d31[_0x2b8566(0x23f)]=0x4;case 0x4:_0x483d31[_0x2b8566(0x196)][_0x2b8566(0x1d0)]([0x4,0x6,,0x7]);return[0x4,_0x2c4abe[_0x2b8566(0x1fb)]()];case 0x5:_0x483d31[_0x2b8566(0x20d)](),_0x2e3fde[_0x2b8566(0x1eb)]('Kill\x20container\x20succeed');return[0x3,0x7];case 0x6:_0x4595d3=_0x483d31[_0x2b8566(0x20d)](),_0x2e3fde[_0x2b8566(0x1e9)](_0x2b8566(0x24e)),logger_1[_0x2b8566(0x225)][_0x2b8566(0x1de)](_0x2b8566(0x1ca)+_0x2c4abe['id']+'\x20failed,\x20error:\x20'+_0x4595d3);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x28ab3e(0x24d)]=stopContainer;