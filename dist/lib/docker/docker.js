'use strict';var a14_0x26a8=['../devs','timeout','generatePwdFile','__importDefault','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','attach','dirname','demuxStream','generateVscodeDebugConfig','followProgress','cwd','fc_local_','create','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','log','succeed','isDockerToolBoxAndEnsureDockerVersion','Stop\x20container\x20succeed.','platform','java','pathExistsSync','HostConfig','Ensure\x20directory:\x20','provider','add','resolveDockerEnv','ProcessConfig','runtime','resolveImageNameForPull','resolveCodeUriToMount','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','message','Skip\x20pulling\x20image\x20','write','tag','warning','Mounts','generateFunctionEnvs','AccountID','draft','resolveTmpDirToMount','debug','477gaJzmg','../utils/passwd','drive\x20is\x20not\x20shared','value','29KSrzQQ','runContainer','showDebugIdeTipsForPycharm','docker\x20exec\x20opts:\x20','context','stop','env','260400ZAugcP','Generator\x20is\x20already\x20executing.','270OyZcMY','writeDebugIdeConfigForVscode','aux.ID','lodash','call','fs-extra','isDirectory','/tmp','start','info','launch.json','resolveNasConfigToMounts','split','getRootBaseDir','4980yBFsZC','customContainerConfig','__importStar','lstatSync','exec','File:\x20','pop','container','Cmd','stopContainer','logConfig','first','memorySize','40404BJTjDD','run','Pulling\x20image\x20','../local-invoke/nas','kill','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','dockerode','pull','showDebugIdeTipsForVscode','Proxy\x20image\x20url:\x20','generateDebugEnv','docker\x20cmd:\x20','includes','iterator','wait','--initializationTimeout','next','yellow','createContainer','\x20failed.','Labels','logs','detectDockerVersion','generateDockerEnvs','address','readFile','virtualbox','verbose','toString','--stdin','generateRamdomContainerName','parseInt','return','environmentVariables','getTime','throw','\x27,\x20port=','isAutoConfig','/etc/passwd','Please\x20add\x20directory\x20\x27','Kill\x20container\x20succeed','../definition','assign','utf8','outputStream','Stop\x20the\x20container:\x20','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','SecurityToken','indexOf','7001zSwMxc','command','event','Stopping\x20the\x20container:\x20','resolveLibPathsFromLdConf','processorTransformFactory','96290JaWnUD','ReadOnly','stream','resolveDebuggerPathToMount','\x20exited\x20with\x20code\x20','Kill\x20proxy\x20container:\x20','hasOwnProperty','pullImageIfNeed','resolve','sent','linux','stderr','status','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives','default','__createBinding','serviceName','join','...','resolvePasswdMount','__spreadArrays','../local-invoke/debug','random','\x20to\x20pull\x20image\x20by\x20yourself.','/////////////////\x20config\x20end\x20/////////////////','Running','label','apply','\x27docker\x20pull\x20','length','defineProperty','../local-invoke/env','stdout','done','pullImage','\x20failed,\x20error:\x20','remoteNasDir','ensureDir','reduce','ExitCode','parse','into','progress','substr','codeUri','Write\x20','args','../../common/logger','findPathsOutofSharedPaths','imageExist','Source','fail','invalid\x20mount\x20config\x20for\x20type','5BInReq','then','.vscode','pullFcImageIfNeed','delete','AccessKeyID','modem','\x20already\x20exists,\x20please\x20overwrite\x20it\x20with\x20the\x20following\x20config.','stringify',',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.','isCustomContainerRuntime','./docker-support','createAndRunContainer','Killing\x20container:\x20','basename','ops','functionName','__setModuleDefault','initializationTimeout','Target','2RdjjGc','function','@serverless-devs/core','__awaiter','bind','slice','has','trys','__esModule','generateDockerCmd','lstat','Failed\x20to\x20stop\x20the\x20container.','initializer','/code','--event','entrypoint','base64','push','resolveAutoLogConfig','startContainer','--http','260337YBMeHE',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','last'];var a14_0x4382a4=a14_0x265f;(function(_0x146fbc,_0x273bf6){var _0x5f44be=a14_0x265f;while(!![]){try{var _0x2c54e6=-parseInt(_0x5f44be(0x140))*-parseInt(_0x5f44be(0xf7))+parseInt(_0x5f44be(0x187))*-parseInt(_0x5f44be(0xf1))+-parseInt(_0x5f44be(0x12c))*parseInt(_0x5f44be(0x19e))+parseInt(_0x5f44be(0x1ab))+-parseInt(_0x5f44be(0x18e))+-parseInt(_0x5f44be(0x190))*-parseInt(_0x5f44be(0x183))+parseInt(_0x5f44be(0x155));if(_0x2c54e6===_0x273bf6)break;else _0x146fbc['push'](_0x146fbc['shift']());}catch(_0x554385){_0x146fbc['push'](_0x146fbc['shift']());}}}(a14_0x26a8,0x20a96));var __createBinding=this&&this[a14_0x4382a4(0x106)]||(Object[a14_0x4382a4(0x164)]?function(_0x45ca9c,_0x18ee4d,_0xe69ec1,_0x5c9bda){if(_0x5c9bda===undefined)_0x5c9bda=_0xe69ec1;Object['defineProperty'](_0x45ca9c,_0x5c9bda,{'enumerable':!![],'get':function(){return _0x18ee4d[_0xe69ec1];}});}:function(_0x55a994,_0x5dc763,_0x33249f,_0x2582b4){if(_0x2582b4===undefined)_0x2582b4=_0x33249f;_0x55a994[_0x2582b4]=_0x5dc763[_0x33249f];}),__setModuleDefault=this&&this[a14_0x4382a4(0x13d)]||(Object[a14_0x4382a4(0x164)]?function(_0x544314,_0x2dd6b3){var _0x180b0c=a14_0x4382a4;Object[_0x180b0c(0x115)](_0x544314,_0x180b0c(0x105),{'enumerable':!![],'value':_0x2dd6b3});}:function(_0xb6ae68,_0x7a6040){var _0x298044=a14_0x4382a4;_0xb6ae68[_0x298044(0x105)]=_0x7a6040;}),__importStar=this&&this[a14_0x4382a4(0x1a0)]||function(_0x288297){var _0x4c30d7=a14_0x4382a4;if(_0x288297&&_0x288297[_0x4c30d7(0x148)])return _0x288297;var _0x4dd5dc={};if(_0x288297!=null){for(var _0x59817f in _0x288297)if(_0x59817f!==_0x4c30d7(0x105)&&Object[_0x4c30d7(0xfd)][_0x4c30d7(0x194)](_0x288297,_0x59817f))__createBinding(_0x4dd5dc,_0x288297,_0x59817f);}return __setModuleDefault(_0x4dd5dc,_0x288297),_0x4dd5dc;},__awaiter=this&&this[a14_0x4382a4(0x143)]||function(_0x49bf8c,_0x48aaed,_0x38cc6b,_0x39c32d){function _0xc8518f(_0x426dcf){return _0x426dcf instanceof _0x38cc6b?_0x426dcf:new _0x38cc6b(function(_0x357242){_0x357242(_0x426dcf);});}return new(_0x38cc6b||(_0x38cc6b=Promise))(function(_0x59da1e,_0x1b9c51){var _0x1e0888=a14_0x265f;function _0x32f3e1(_0x2b762e){try{_0x45200c(_0x39c32d['next'](_0x2b762e));}catch(_0x9b0c3c){_0x1b9c51(_0x9b0c3c);}}function _0x5428b8(_0x777975){var _0x2fd71f=a14_0x265f;try{_0x45200c(_0x39c32d[_0x2fd71f(0x1ce)](_0x777975));}catch(_0xdce645){_0x1b9c51(_0xdce645);}}function _0x45200c(_0x56691b){var _0x493040=a14_0x265f;_0x56691b[_0x493040(0x118)]?_0x59da1e(_0x56691b['value']):_0xc8518f(_0x56691b[_0x493040(0x186)])[_0x493040(0x12d)](_0x32f3e1,_0x5428b8);}_0x45200c((_0x39c32d=_0x39c32d[_0x1e0888(0x112)](_0x49bf8c,_0x48aaed||[]))[_0x1e0888(0x1bb)]());});},__generator=this&&this['__generator']||function(_0x41c404,_0x315666){var _0x456605=a14_0x4382a4,_0x1d716f={'label':0x0,'sent':function(){if(_0x16338b[0x0]&0x1)throw _0x16338b[0x1];return _0x16338b[0x1];},'trys':[],'ops':[]},_0x4d75f1,_0xd235db,_0x16338b,_0x18ab8d;return _0x18ab8d={'next':_0x52b64e(0x0),'throw':_0x52b64e(0x1),'return':_0x52b64e(0x2)},typeof Symbol===_0x456605(0x141)&&(_0x18ab8d[Symbol[_0x456605(0x1b8)]]=function(){return this;}),_0x18ab8d;function _0x52b64e(_0x239380){return function(_0x1a75d5){return _0x594a82([_0x239380,_0x1a75d5]);};}function _0x594a82(_0x450913){var _0x5a9fef=_0x456605;if(_0x4d75f1)throw new TypeError(_0x5a9fef(0x18f));while(_0x1d716f)try{if(_0x4d75f1=0x1,_0xd235db&&(_0x16338b=_0x450913[0x0]&0x2?_0xd235db[_0x5a9fef(0x1cb)]:_0x450913[0x0]?_0xd235db[_0x5a9fef(0x1ce)]||((_0x16338b=_0xd235db[_0x5a9fef(0x1cb)])&&_0x16338b[_0x5a9fef(0x194)](_0xd235db),0x0):_0xd235db[_0x5a9fef(0x1bb)])&&!(_0x16338b=_0x16338b['call'](_0xd235db,_0x450913[0x1]))[_0x5a9fef(0x118)])return _0x16338b;if(_0xd235db=0x0,_0x16338b)_0x450913=[_0x450913[0x0]&0x2,_0x16338b[_0x5a9fef(0x186)]];switch(_0x450913[0x0]){case 0x0:case 0x1:_0x16338b=_0x450913;break;case 0x4:_0x1d716f[_0x5a9fef(0x111)]++;return{'value':_0x450913[0x1],'done':![]};case 0x5:_0x1d716f[_0x5a9fef(0x111)]++,_0xd235db=_0x450913[0x1],_0x450913=[0x0];continue;case 0x7:_0x450913=_0x1d716f['ops'][_0x5a9fef(0x1a4)](),_0x1d716f[_0x5a9fef(0x147)][_0x5a9fef(0x1a4)]();continue;default:if(!(_0x16338b=_0x1d716f['trys'],_0x16338b=_0x16338b['length']>0x0&&_0x16338b[_0x16338b[_0x5a9fef(0x114)]-0x1])&&(_0x450913[0x0]===0x6||_0x450913[0x0]===0x2)){_0x1d716f=0x0;continue;}if(_0x450913[0x0]===0x3&&(!_0x16338b||_0x450913[0x1]>_0x16338b[0x0]&&_0x450913[0x1]<_0x16338b[0x3])){_0x1d716f[_0x5a9fef(0x111)]=_0x450913[0x1];break;}if(_0x450913[0x0]===0x6&&_0x1d716f[_0x5a9fef(0x111)]<_0x16338b[0x1]){_0x1d716f[_0x5a9fef(0x111)]=_0x16338b[0x1],_0x16338b=_0x450913;break;}if(_0x16338b&&_0x1d716f[_0x5a9fef(0x111)]<_0x16338b[0x2]){_0x1d716f[_0x5a9fef(0x111)]=_0x16338b[0x2],_0x1d716f[_0x5a9fef(0x13b)][_0x5a9fef(0x151)](_0x450913);break;}if(_0x16338b[0x2])_0x1d716f['ops']['pop']();_0x1d716f[_0x5a9fef(0x147)][_0x5a9fef(0x1a4)]();continue;}_0x450913=_0x315666['call'](_0x41c404,_0x1d716f);}catch(_0x111586){_0x450913=[0x6,_0x111586],_0xd235db=0x0;}finally{_0x4d75f1=_0x16338b=0x0;}if(_0x450913[0x0]&0x5)throw _0x450913[0x1];return{'value':_0x450913[0x0]?_0x450913[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x4382a4(0x10b)]||function(){var _0x4d86bf=a14_0x4382a4;for(var _0x4caa33=0x0,_0x440983=0x0,_0x598049=arguments['length'];_0x440983<_0x598049;_0x440983++)_0x4caa33+=arguments[_0x440983][_0x4d86bf(0x114)];for(var _0x4e754e=Array(_0x4caa33),_0x36b9c8=0x0,_0x440983=0x0;_0x440983<_0x598049;_0x440983++)for(var _0x27a5ae=arguments[_0x440983],_0x983d34=0x0,_0x2c9369=_0x27a5ae['length'];_0x983d34<_0x2c9369;_0x983d34++,_0x36b9c8++)_0x4e754e[_0x36b9c8]=_0x27a5ae[_0x983d34];return _0x4e754e;},__importDefault=this&&this[a14_0x4382a4(0x15b)]||function(_0x5e7ab7){var _0x21ba7f=a14_0x4382a4;return _0x5e7ab7&&_0x5e7ab7[_0x21ba7f(0x148)]?_0x5e7ab7:{'default':_0x5e7ab7};};function a14_0x265f(_0x2c4318,_0x4f38c8){return a14_0x265f=function(_0x26a834,_0x265f11){_0x26a834=_0x26a834-0xf0;var _0x4cc00d=a14_0x26a8[_0x26a834];return _0x4cc00d;},a14_0x265f(_0x2c4318,_0x4f38c8);}Object[a14_0x4382a4(0x115)](exports,a14_0x4382a4(0x148),{'value':!![]}),exports[a14_0x4382a4(0x1a7)]=exports[a14_0x4382a4(0x1ac)]=exports[a14_0x4382a4(0x153)]=exports[a14_0x4382a4(0x189)]=exports['writeDebugIdeConfigForVscode']=exports[a14_0x4382a4(0x1b3)]=exports[a14_0x4382a4(0x138)]=exports['resolvePasswdMount']=exports[a14_0x4382a4(0xfa)]=exports[a14_0x4382a4(0x181)]=exports[a14_0x4382a4(0x19b)]=exports[a14_0x4382a4(0x1c1)]=exports[a14_0x4382a4(0x168)]=exports[a14_0x4382a4(0x175)]=exports[a14_0x4382a4(0x188)]=exports[a14_0x4382a4(0x119)]=exports['pullFcImageIfNeed']=exports[a14_0x4382a4(0x17e)]=exports[a14_0x4382a4(0x1c2)]=exports[a14_0x4382a4(0x149)]=exports[a14_0x4382a4(0xfe)]=exports[a14_0x4382a4(0x1c9)]=exports[a14_0x4382a4(0x128)]=void 0x0;var dockerode_1=__importDefault(require(a14_0x4382a4(0x1b1))),logger_1=__importDefault(require(a14_0x4382a4(0x126))),draftlog=__importStar(require('draftlog')),docker_support_1=require(a14_0x4382a4(0x137)),error_processor_1=require('../error-processor'),lodash_1=__importDefault(require(a14_0x4382a4(0x193))),nas=__importStar(require(a14_0x4382a4(0x1ae))),path_1=__importDefault(require('path')),devs_1=require(a14_0x4382a4(0x158)),fs=__importStar(require(a14_0x4382a4(0x195))),passwd_1=require(a14_0x4382a4(0x184)),dockerOpts=__importStar(require('./docker-opts')),debug_1=require(a14_0x4382a4(0x10c)),ip=__importStar(require('ip')),env_1=require(a14_0x4382a4(0x116)),runtime_1=require('../utils/runtime'),definition_1=require(a14_0x4382a4(0x1d4)),dev_null_1=__importDefault(require('dev-null')),core=__importStar(require(a14_0x4382a4(0x142))),isWin=process[a14_0x4382a4(0x16a)]==='win32',docker=new dockerode_1[(a14_0x4382a4(0x105))]();draftlog[a14_0x4382a4(0x120)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x2639b3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x596748;return __generator(this,function(_0x4c4f26){var _0x11ce54=a14_0x265f;switch(_0x4c4f26['label']){case 0x0:return[0x4,docker['listImages']({'filters':{'reference':[_0x2639b3]}})];case 0x1:_0x596748=_0x4c4f26[_0x11ce54(0x100)]();return[0x2,_0x596748[_0x11ce54(0x114)]>0x0];}});});}exports[a14_0x4382a4(0x128)]=imageExist;function generateRamdomContainerName(){var _0x5de198=a14_0x4382a4;return _0x5de198(0x163)+new Date()[_0x5de198(0x1cd)]()+'_'+Math[_0x5de198(0x10d)]()[_0x5de198(0x1c7)](0x24)[_0x5de198(0x122)](0x2,0x7);}exports[a14_0x4382a4(0x1c9)]=generateRamdomContainerName;function pullImageIfNeed(_0x3ea02e,_0x2f56eb,_0x29588c,_0xe5cbf8){return __awaiter(this,void 0x0,void 0x0,function(){var _0x435374,_0x12756f;return __generator(this,function(_0xdc3a26){var _0x44338f=a14_0x265f;switch(_0xdc3a26[_0x44338f(0x111)]){case 0x0:_0x435374=_0x3ea02e+'/'+_0x2f56eb+'/'+_0x29588c+':'+_0xe5cbf8,logger_1[_0x44338f(0x105)][_0x44338f(0x182)](_0x44338f(0x1b4)+_0x435374);return[0x4,imageExist(_0x435374)];case 0x1:if(!!_0xdc3a26['sent']())return[0x3,0x3];logger_1['default'][_0x44338f(0x182)]('Starting\x20docker\x20pull\x20'+_0x435374);return[0x4,docker['pull'](_0x435374)];case 0x2:_0x12756f=_0xdc3a26[_0x44338f(0x100)](),_0xdc3a26[_0x44338f(0x111)]=0x3;case 0x3:return[0x4,new Promise(function(_0x1ba67e,_0x3152a3){var _0x1796f0=_0x44338f;if(_0x12756f){var _0x3abf57=function(_0xdb3448){_0xdb3448&&_0x3152a3(_0xdb3448),_0x1ba67e(_0x435374);},_0x3a39e2={},_0x2195f0=function(_0x585d52){var _0x3be365=a14_0x265f,_0x1aa296=_0x585d52[_0x3be365(0x103)];_0x585d52['progress']&&(_0x1aa296=_0x585d52[_0x3be365(0x103)]+'\x20'+_0x585d52[_0x3be365(0x121)]);if(_0x585d52['id']){var _0x2b149a=_0x585d52['id'];!_0x3a39e2[_0x2b149a]&&(_0x3a39e2[_0x2b149a]=console[_0x3be365(0x180)]()),_0x3a39e2[_0x2b149a](_0x2b149a+':\x20'+_0x1aa296);}else{lodash_1[_0x3be365(0x105)][_0x3be365(0x146)](_0x585d52,_0x3be365(0x192))&&(_0x585d52[_0x3be365(0xf9)]=_0x585d52['aux']['ID']+'\x0a');var _0x5a96ae=_0x585d52[_0x3be365(0x103)]?_0x585d52['status']+'\x0a':_0x585d52[_0x3be365(0xf9)];process['stdout'][_0x3be365(0x17a)](_0x5a96ae);}};docker[_0x1796f0(0x132)][_0x1796f0(0x161)](_0x12756f,_0x3abf57,_0x2195f0);}else _0x1ba67e(_0x435374);})];case 0x4:return[0x2,_0xdc3a26['sent']()];}});});}exports[a14_0x4382a4(0xfe)]=pullImageIfNeed;function generateDockerCmd(_0x523264,_0x4256ae,_0x26dc02,_0x33fbd2,_0x4543ea,_0x1fbe94){var _0x2bbdbe=a14_0x4382a4;_0x4543ea===void 0x0&&(_0x4543ea=!![]);_0x1fbe94===void 0x0&&(_0x1fbe94=null);if(runtime_1[_0x2bbdbe(0x136)](_0x523264))return genDockerCmdOfCustomContainer(_0x26dc02);else{if(_0x4256ae)return['--server'];}return genDockerCmdOfNonCustomContainer(_0x26dc02,_0x33fbd2,_0x4543ea,_0x1fbe94);}exports[a14_0x4382a4(0x149)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x459cdc,_0x4a8dbd,_0x2dee02,_0x5aecce){var _0x11346f=a14_0x4382a4;_0x2dee02===void 0x0&&(_0x2dee02=!![]);_0x5aecce===void 0x0&&(_0x5aecce=null);var _0x3821ef=['-h',_0x459cdc['handler']];_0x5aecce!==null?(_0x3821ef['push'](_0x11346f(0x14e),Buffer['from'](_0x5aecce)['toString'](_0x11346f(0x150))),_0x3821ef[_0x11346f(0x151)]('--event-decode')):_0x3821ef[_0x11346f(0x151)](_0x11346f(0x1c8));_0x4a8dbd&&_0x3821ef[_0x11346f(0x151)](_0x11346f(0x154));var _0x4eddb8=_0x459cdc[_0x11346f(0x14c)];_0x4eddb8&&_0x2dee02&&_0x3821ef[_0x11346f(0x151)]('-i',_0x4eddb8);var _0x634dda=_0x459cdc[_0x11346f(0x13e)];return _0x634dda&&_0x3821ef[_0x11346f(0x151)](_0x11346f(0x1ba),_0x634dda[_0x11346f(0x1c7)]()),logger_1[_0x11346f(0x105)][_0x11346f(0x182)](_0x11346f(0x1b6)+_0x3821ef),_0x3821ef;}function genDockerCmdOfCustomContainer(_0x474624){var _0x5eb848=a14_0x4382a4,_0x3c35ff=_0x474624[_0x5eb848(0x19f)][_0x5eb848(0xf2)]?JSON[_0x5eb848(0x11f)](_0x474624[_0x5eb848(0x19f)]['command']):undefined,_0x313091=_0x474624[_0x5eb848(0x19f)][_0x5eb848(0x125)]?JSON[_0x5eb848(0x11f)](_0x474624[_0x5eb848(0x19f)][_0x5eb848(0x125)]):undefined;if(_0x3c35ff&&_0x313091)return __spreadArrays(_0x3c35ff,_0x313091);else{if(_0x3c35ff)return _0x3c35ff;else{if(_0x313091)return _0x313091;}}return[];}function generateDockerEnvs(_0x2c74d3,_0x3d9af0,_0x3e3565,_0x48692a,_0x41ec18,_0x3a6bb8,_0x20255d,_0x40bbff,_0x44b967,_0xf8c531,_0x298331,_0x46191b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x25be05,_0x2f5acf,_0x5e5ab7,_0x36b082,_0x101f76;return __generator(this,function(_0x2c3607){var _0x3b100f=a14_0x265f;switch(_0x2c3607[_0x3b100f(0x111)]){case 0x0:_0x25be05={};_0x44b967&&Object[_0x3b100f(0x1d5)](_0x25be05,{'FC_HTTP_PARAMS':_0x44b967});return[0x4,env_1[_0x3b100f(0xf5)](_0x3e3565,_0x20255d[_0x3b100f(0x123)])];case 0x1:_0x2f5acf=_0x2c3607['sent'](),Object[_0x3b100f(0x1d5)](_0x25be05,_0x2f5acf),_0x5e5ab7=_0x20255d[_0x3b100f(0x173)];if(_0x40bbff&&!_0x46191b)_0x36b082=debug_1[_0x3b100f(0x1b5)](_0x5e5ab7,_0x40bbff,_0x298331),Object['assign'](_0x25be05,_0x36b082);else _0x46191b&&Object[_0x3b100f(0x1d5)](_0x25be05,{'DEBUG_OPTIONS':_0x46191b});Object['assign'](_0x25be05,generateFunctionEnvs(_0x20255d));definition_1[_0x3b100f(0x1d0)](_0x41ec18===null||_0x41ec18===void 0x0?void 0x0:_0x41ec18[_0x3b100f(0x1a8)])?_0x101f76=definition_1[_0x3b100f(0x152)](_0x2c74d3===null||_0x2c74d3===void 0x0?void 0x0:_0x2c74d3[_0x3b100f(0x17f)],_0x3d9af0,_0x48692a):_0x101f76=_0x41ec18===null||_0x41ec18===void 0x0?void 0x0:_0x41ec18[_0x3b100f(0x1a8)];(_0x20255d===null||_0x20255d===void 0x0?void 0x0:_0x20255d[_0x3b100f(0x173)][_0x3b100f(0x1b7)](_0x3b100f(0x16b)))&&Object[_0x3b100f(0x1d5)](_0x25be05,{'fc_enable_new_java_ca':!![]});Object[_0x3b100f(0x1d5)](_0x25be05,{'local':!![],'FC_ACCESS_KEY_ID':_0x2c74d3===null||_0x2c74d3===void 0x0?void 0x0:_0x2c74d3[_0x3b100f(0x131)],'FC_ACCESS_KEY_SECRET':_0x2c74d3===null||_0x2c74d3===void 0x0?void 0x0:_0x2c74d3['AccessKeySecret'],'FC_SECURITY_TOKEN':_0x2c74d3===null||_0x2c74d3===void 0x0?void 0x0:_0x2c74d3[_0x3b100f(0x1da)],'FC_ACCOUNT_ID':_0x2c74d3===null||_0x2c74d3===void 0x0?void 0x0:_0x2c74d3[_0x3b100f(0x17f)],'FC_REGION':_0x3d9af0,'FC_FUNCTION_NAME':_0x3a6bb8,'FC_HANDLER':_0x20255d['handler'],'FC_MEMORY_SIZE':_0x20255d[_0x3b100f(0x1aa)]||0x80,'FC_TIMEOUT':_0x20255d[_0x3b100f(0x159)]||0x3,'FC_INITIALIZER':_0x20255d[_0x3b100f(0x14c)],'FC_INITIALIZATION_TIMEOUT':_0x20255d[_0x3b100f(0x13e)]||0x3,'FC_SERVICE_NAME':_0x48692a,'FC_SERVICE_LOG_PROJECT':_0x101f76===null||_0x101f76===void 0x0?void 0x0:_0x101f76['project'],'FC_SERVICE_LOG_STORE':_0x101f76===null||_0x101f76===void 0x0?void 0x0:_0x101f76['logstore']});if(runtime_1[_0x3b100f(0x136)](_0x20255d[_0x3b100f(0x173)]))return[0x2,_0x25be05];return[0x2,env_1['addEnv'](_0x25be05,_0xf8c531)];}});});}exports[a14_0x4382a4(0x1c2)]=generateDockerEnvs;function generateFunctionEnvs(_0x4fd944){var _0x406024=a14_0x4382a4,_0x705673=_0x4fd944[_0x406024(0x1cc)];if(!_0x705673)return{};return Object[_0x406024(0x1d5)]({},_0x705673);}exports[a14_0x4382a4(0x17e)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x30a82e){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1b3ee4;return __generator(this,function(_0x2c581){var _0x402a22=a14_0x265f;switch(_0x2c581[_0x402a22(0x111)]){case 0x0:return[0x4,imageExist(_0x30a82e)];case 0x1:_0x1b3ee4=_0x2c581[_0x402a22(0x100)]();if(!(!_0x1b3ee4||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x30a82e)];case 0x2:_0x2c581[_0x402a22(0x100)]();return[0x3,0x4];case 0x3:logger_1[_0x402a22(0x105)][_0x402a22(0x182)]('skip\x20pulling\x20image\x20'+_0x30a82e+_0x402a22(0x109)),logger_1[_0x402a22(0x105)][_0x402a22(0x199)](_0x402a22(0x179)+_0x30a82e+_0x402a22(0x109)),_0x2c581[_0x402a22(0x111)]=0x4;case 0x4:return[0x2];}});});}exports[a14_0x4382a4(0x12f)]=pullFcImageIfNeed;function pullImage(_0x2497eb){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3d2511,_0x2bc5a6,_0x1e24aa=this;return __generator(this,function(_0xdf7ce7){var _0x22e0c0=a14_0x265f;switch(_0xdf7ce7[_0x22e0c0(0x111)]){case 0x0:return[0x4,dockerOpts[_0x22e0c0(0x174)](_0x2497eb)];case 0x1:_0x3d2511=_0xdf7ce7['sent']();return[0x4,docker[_0x22e0c0(0x1b2)](_0x3d2511)];case 0x2:_0x2bc5a6=_0xdf7ce7[_0x22e0c0(0x100)]();return[0x4,new Promise(function(_0x41b783,_0x284caf){var _0x50a552=_0x22e0c0;logger_1[_0x50a552(0x105)][_0x50a552(0x199)](_0x50a552(0x1ad)+_0x3d2511+',\x20you\x20can\x20also\x20use\x20'+(_0x50a552(0x113)+_0x3d2511+'\x27')+_0x50a552(0x10e));var _0x47d369=function(_0x634897){return __awaiter(_0x1e24aa,void 0x0,void 0x0,function(){var _0x58b9b6,_0x1a6b0f,_0x229c6c,_0xfbfecc,_0xeced30,_0x382499;return __generator(this,function(_0x394fc5){var _0x38c633=a14_0x265f;switch(_0x394fc5['label']){case 0x0:_0x634897&&_0x284caf(_0x634897);containers['delete'](_0x2bc5a6),(_0x58b9b6=0x0,_0x1a6b0f=dockerOpts['DOCKER_REGISTRIES']),_0x394fc5[_0x38c633(0x111)]=0x1;case 0x1:if(!(_0x58b9b6<_0x1a6b0f[_0x38c633(0x114)]))return[0x3,0x5];_0x229c6c=_0x1a6b0f[_0x58b9b6];if(!(_0x3d2511[_0x38c633(0xf0)](_0x229c6c)===0x0))return[0x3,0x4];return[0x4,docker['getImage'](_0x3d2511)];case 0x2:_0xfbfecc=_0x394fc5[_0x38c633(0x100)](),_0xeced30=_0x3d2511[_0x38c633(0x145)](_0x229c6c[_0x38c633(0x114)]+0x1),_0x382499=_0xeced30[_0x38c633(0x19c)](':');return[0x4,_0xfbfecc[_0x38c633(0x17b)]({'name':_0x3d2511,'repo':lodash_1[_0x38c633(0x105)][_0x38c633(0x1a9)](_0x382499),'tag':lodash_1[_0x38c633(0x105)][_0x38c633(0x157)](_0x382499)})];case 0x3:_0x394fc5[_0x38c633(0x100)]();return[0x3,0x5];case 0x4:_0x58b9b6++;return[0x3,0x1];case 0x5:_0x41b783(_0x3d2511);return[0x2];}});});};containers[_0x50a552(0x170)](_0x2bc5a6),followProgress(_0x2bc5a6,_0x47d369);})];case 0x3:return[0x2,_0xdf7ce7[_0x22e0c0(0x100)]()];}});});}exports[a14_0x4382a4(0x119)]=pullImage;function followProgress(_0x3964f1,_0xc5bee3){var _0x293ce9=a14_0x4382a4,_0x308b3a={},_0x4a9f63=function(_0x2de458){var _0x524c68=a14_0x265f,_0x4526e4=_0x2de458['status'];_0x2de458[_0x524c68(0x121)]&&(_0x4526e4=_0x2de458[_0x524c68(0x103)]+'\x20'+_0x2de458[_0x524c68(0x121)]);if(_0x2de458['id']){var _0x3d6796=_0x2de458['id'];!_0x308b3a[_0x3d6796]&&(_0x308b3a[_0x3d6796]=console[_0x524c68(0x180)]()),_0x308b3a[_0x3d6796](_0x3d6796+':\x20'+_0x4526e4);}else{lodash_1['default'][_0x524c68(0x146)](_0x2de458,_0x524c68(0x192))&&(_0x2de458[_0x524c68(0xf9)]=_0x2de458['aux']['ID']+'\x0a');var _0x5c23c1=_0x2de458['status']?_0x2de458[_0x524c68(0x103)]+'\x0a':_0x2de458[_0x524c68(0xf9)];process[_0x524c68(0x117)][_0x524c68(0x17a)](_0x5c23c1);}};docker[_0x293ce9(0x132)][_0x293ce9(0x161)](_0x3964f1,_0xc5bee3,_0x4a9f63);}function runContainer(_0x121992,_0x47f4d9,_0x50f778,_0x43859b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5c287,_0xab80b4,_0x311474,_0xca0461,_0x3424a0;return __generator(this,function(_0xfd99fe){var _0x195cb6=a14_0x265f;switch(_0xfd99fe[_0x195cb6(0x111)]){case 0x0:return[0x4,createContainer(_0x121992)];case 0x1:_0x5c287=_0xfd99fe[_0x195cb6(0x100)](),_0xab80b4={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x5c287[_0x195cb6(0x15d)](_0xab80b4)];case 0x2:_0x311474=_0xfd99fe['sent']();!_0x47f4d9&&(_0x47f4d9=process[_0x195cb6(0x117)]);!_0x50f778&&(_0x50f778=process[_0x195cb6(0x102)]);_0xca0461=error_processor_1[_0x195cb6(0xf6)]({'serviceName':_0x43859b===null||_0x43859b===void 0x0?void 0x0:_0x43859b[_0x195cb6(0x107)],'functionName':_0x43859b===null||_0x43859b===void 0x0?void 0x0:_0x43859b[_0x195cb6(0x13c)],'errorStream':_0x50f778});!isWin&&_0x5c287[_0x195cb6(0x132)][_0x195cb6(0x15f)](_0x311474,_0x47f4d9,_0xca0461);return[0x4,_0x5c287[_0x195cb6(0x198)]()];case 0x3:_0xfd99fe[_0x195cb6(0x100)]();if(!isWin)return[0x3,0x5];return[0x4,_0x5c287[_0x195cb6(0x1c0)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0x3424a0=_0xfd99fe[_0x195cb6(0x100)](),_0x5c287[_0x195cb6(0x132)]['demuxStream'](_0x3424a0,_0x47f4d9,_0xca0461),_0xfd99fe[_0x195cb6(0x111)]=0x5;case 0x5:containers[_0x195cb6(0x170)](_0x5c287['id']),streams[_0x195cb6(0x170)](_0x311474);return[0x2,{'container':_0x5c287,'stream':_0x311474}];}});});}exports['runContainer']=runContainer;function resolveCodeUriToMount(_0x1c8cc9,_0x1297a3){return _0x1297a3===void 0x0&&(_0x1297a3=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x59bb78,_0x3a617d;return __generator(this,function(_0x394f21){var _0x52da59=a14_0x265f;switch(_0x394f21[_0x52da59(0x111)]){case 0x0:if(!_0x1c8cc9)return[0x2,null];_0x59bb78=null;return[0x4,fs[_0x52da59(0x14a)](_0x1c8cc9)];case 0x1:_0x3a617d=_0x394f21[_0x52da59(0x100)]();_0x3a617d['isDirectory']()?_0x59bb78=_0x52da59(0x14d):_0x59bb78=path_1['default']['posix']['join']('/code',path_1[_0x52da59(0x105)][_0x52da59(0x13a)](_0x1c8cc9));return[0x2,{'Type':'bind','Source':_0x1c8cc9,'Target':_0x59bb78,'ReadOnly':_0x1297a3}];}});});}exports['resolveCodeUriToMount']=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1f8b52,_0x1c7b6a;return __generator(this,function(_0x3b33a7){var _0x2640e4=a14_0x265f;switch(_0x3b33a7[_0x2640e4(0x111)]){case 0x0:return[0x4,docker[_0x2640e4(0x199)]()];case 0x1:_0x1f8b52=_0x3b33a7[_0x2640e4(0x100)]();return[0x4,detectDockerVersion(_0x1f8b52['ServerVersion']||'')];case 0x2:_0x3b33a7[_0x2640e4(0x100)](),_0x1c7b6a=(_0x1f8b52[_0x2640e4(0x1bf)]||[])['map'](function(_0x777dcf){var _0x110f81=_0x2640e4;return lodash_1[_0x110f81(0x105)][_0x110f81(0x19c)](_0x777dcf,'=',0x2);})['filter'](function(_0x393df6){var _0x3204c5=_0x2640e4;return _0x393df6[_0x3204c5(0x114)]===0x2;})[_0x2640e4(0x11d)](function(_0x293167,_0x1d1a3f){return _0x293167[_0x1d1a3f[0x0]]=_0x1d1a3f[0x1],_0x293167;},{});return[0x2,process['platform']==='win32'&&_0x1c7b6a[_0x2640e4(0x16f)]===_0x2640e4(0x1c5)];}});});}exports[a14_0x4382a4(0x168)]=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0x9c1ba1){return __awaiter(this,void 0x0,void 0x0,function(){var _0xf0087c;return __generator(this,function(_0x15deca){var _0x57bedf=a14_0x265f;_0xf0087c=_0x9c1ba1[_0x57bedf(0x19c)]('.');if(Number[_0x57bedf(0x1ca)](_0xf0087c[0x0])===0x1&&Number[_0x57bedf(0x1ca)](_0xf0087c[0x1])<=0xd)throw new Error(_0x57bedf(0x1b0)+_0x9c1ba1+_0x57bedf(0x135));return[0x2];});});}exports[a14_0x4382a4(0x1c1)]=detectDockerVersion;function createContainer(_0x4c359f){var _0xda8f27;return __awaiter(this,void 0x0,void 0x0,function(){var _0x1ddebb,_0x4d4736,_0x536d41,_0x33de05,_0x537446,_0x40b185;return __generator(this,function(_0x5a8b3a){var _0x216fab=a14_0x265f;switch(_0x5a8b3a[_0x216fab(0x111)]){case 0x0:_0x1ddebb=process[_0x216fab(0x16a)]==='win32',_0x4d4736=process[_0x216fab(0x16a)]==='darwin';if(!(_0x4c359f&&_0x4d4736))return[0x3,0x2];if(!_0x4c359f[_0x216fab(0x16d)])return[0x3,0x2];return[0x4,docker_support_1[_0x216fab(0x127)]((_0xda8f27=_0x4c359f['HostConfig'])===null||_0xda8f27===void 0x0?void 0x0:_0xda8f27[_0x216fab(0x17d)])];case 0x1:_0x536d41=_0x5a8b3a[_0x216fab(0x100)]();if(_0x4d4736&&_0x536d41[_0x216fab(0x114)]>0x0)throw new Error(_0x216fab(0x1d2)+_0x536d41+_0x216fab(0x176));_0x5a8b3a['label']=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x33de05=_0x5a8b3a['sent'](),_0x5a8b3a[_0x216fab(0x111)]=0x4;case 0x4:_0x5a8b3a[_0x216fab(0x147)][_0x216fab(0x151)]([0x4,0x6,,0x7]);return[0x4,docker[_0x216fab(0x1bd)](_0x4c359f)];case 0x5:_0x537446=_0x5a8b3a[_0x216fab(0x100)]();return[0x3,0x7];case 0x6:_0x40b185=_0x5a8b3a['sent']();if(_0x40b185['message'][_0x216fab(0xf0)](_0x216fab(0x12b))!==-0x1&&_0x33de05)throw new Error('The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.');if(_0x40b185['message'][_0x216fab(0xf0)](_0x216fab(0x185))!==-0x1&&_0x1ddebb)throw new Error(_0x40b185[_0x216fab(0x178)]+_0x216fab(0x104));throw _0x40b185;case 0x7:return[0x2,_0x537446];}});});}function resolveNasConfigToMounts(_0x2382b7,_0x257456,_0x4c43db,_0x25a3dd){return __awaiter(this,void 0x0,void 0x0,function(){var _0xfd0470;return __generator(this,function(_0x283a27){var _0x2d0e3b=a14_0x265f;switch(_0x283a27[_0x2d0e3b(0x111)]){case 0x0:return[0x4,nas['convertNasConfigToNasMappings'](_0x25a3dd,_0x4c43db,_0x257456)];case 0x1:_0xfd0470=_0x283a27[_0x2d0e3b(0x100)]();return[0x2,convertNasMappingsToMounts(devs_1[_0x2d0e3b(0x19d)](_0x2382b7),_0xfd0470)];}});});}exports[a14_0x4382a4(0x19b)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x4b8bba,_0x1629c5){return _0x1629c5['map'](function(_0x532992){var _0x5dfa69=a14_0x265f;return{'Type':_0x5dfa69(0x144),'Source':path_1[_0x5dfa69(0x105)][_0x5dfa69(0xff)](_0x4b8bba,_0x532992['localNasDir']),'Target':_0x532992[_0x5dfa69(0x11b)],'ReadOnly':![]};});}function resolveTmpDirToMount(_0xaefc1e){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x378b9a){var _0xbbbf69=a14_0x265f;if(!_0xaefc1e)return[0x2,{}];return[0x2,{'Type':_0xbbbf69(0x144),'Source':_0xaefc1e,'Target':_0xbbbf69(0x197),'ReadOnly':![]}];});});}exports['resolveTmpDirToMount']=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x1de5bf){return __awaiter(this,void 0x0,void 0x0,function(){var _0xb7e8f5;return __generator(this,function(_0x1e4de3){var _0x25170d=a14_0x265f;if(!_0x1de5bf)return[0x2,{}];return _0xb7e8f5=path_1[_0x25170d(0x105)]['resolve'](_0x1de5bf),[0x2,{'Type':'bind','Source':_0xb7e8f5,'Target':'/tmp/debugger_files','ReadOnly':![]}];});});}exports['resolveDebuggerPathToMount']=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x404c06;return __generator(this,function(_0x3e32ab){var _0x11b59d=a14_0x265f;switch(_0x3e32ab[_0x11b59d(0x111)]){case 0x0:if(!(process[_0x11b59d(0x16a)]===_0x11b59d(0x101)))return[0x3,0x2];_0x404c06={'Type':_0x11b59d(0x144)};return[0x4,passwd_1[_0x11b59d(0x15a)]()];case 0x1:return[0x2,(_0x404c06[_0x11b59d(0x129)]=_0x3e32ab['sent'](),_0x404c06[_0x11b59d(0x13f)]=_0x11b59d(0x1d1),_0x404c06[_0x11b59d(0xf8)]=!![],_0x404c06)];case 0x2:return[0x2,null];}});});}exports[a14_0x4382a4(0x10a)]=resolvePasswdMount;function createAndRunContainer(_0xe3586f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2cd84a;return __generator(this,function(_0x30149b){var _0x461972=a14_0x265f;switch(_0x30149b['label']){case 0x0:return[0x4,createContainer(_0xe3586f)];case 0x1:_0x2cd84a=_0x30149b[_0x461972(0x100)](),containers['add'](_0x2cd84a['id']);return[0x4,_0x2cd84a['start']({})];case 0x2:_0x30149b[_0x461972(0x100)]();return[0x2,_0x2cd84a];}});});}exports[a14_0x4382a4(0x138)]=createAndRunContainer;function showDebugIdeTipsForVscode(_0x52afe4,_0x5b6556,_0x3f86a7,_0x112a94,_0x54b986){return __awaiter(this,void 0x0,void 0x0,function(){var _0x415a2d;return __generator(this,function(_0x1cde6b){var _0xc69c64=a14_0x265f;switch(_0x1cde6b[_0xc69c64(0x111)]){case 0x0:return[0x4,debug_1[_0xc69c64(0x160)](_0x52afe4,_0x5b6556,_0x3f86a7,_0x112a94,_0x54b986)];case 0x1:_0x415a2d=_0x1cde6b['sent'](),logger_1[_0xc69c64(0x105)]['log'](_0xc69c64(0x15c),'yellow'),logger_1[_0xc69c64(0x105)][_0xc69c64(0x166)]('/////////////////\x20config\x20begin\x20/////////////////'),logger_1[_0xc69c64(0x105)][_0xc69c64(0x166)](JSON[_0xc69c64(0x134)](_0x415a2d,null,0x4)),logger_1[_0xc69c64(0x105)]['log'](_0xc69c64(0x10f));return[0x2];}});});}exports[a14_0x4382a4(0x1b3)]=showDebugIdeTipsForVscode;function writeDebugIdeConfigForVscode(_0x339e62,_0x3b474a,_0x29fa59,_0x46aab7,_0x428fd2,_0x28409c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5f3d09,_0x286fdf,_0x4b120d,_0x2aba04,_0x5afcfb,_0x6e7f1b,_0x5ea86c,_0x147242;return __generator(this,function(_0x483173){var _0x4c5d79=a14_0x265f;switch(_0x483173['label']){case 0x0:_0x5f3d09=path_1[_0x4c5d79(0x105)][_0x4c5d79(0x108)](_0x339e62,_0x4c5d79(0x12e)),_0x286fdf=path_1[_0x4c5d79(0x105)][_0x4c5d79(0x108)](_0x5f3d09,_0x4c5d79(0x19a)),_0x483173[_0x4c5d79(0x111)]=0x1;case 0x1:_0x483173[_0x4c5d79(0x147)][_0x4c5d79(0x151)]([0x1,0x3,,0x5]);return[0x4,fs[_0x4c5d79(0x11c)](path_1[_0x4c5d79(0x105)]['dirname'](_0x286fdf))];case 0x2:_0x483173[_0x4c5d79(0x100)]();return[0x3,0x5];case 0x3:_0x4b120d=_0x483173[_0x4c5d79(0x100)](),logger_1[_0x4c5d79(0x105)][_0x4c5d79(0x17c)](_0x4c5d79(0x16e)+_0x5f3d09+_0x4c5d79(0x1be));return[0x4,showDebugIdeTipsForVscode(_0x3b474a,_0x29fa59,_0x46aab7,_0x428fd2,_0x28409c)];case 0x4:_0x483173['sent'](),logger_1['default']['debug'](_0x4c5d79(0x16e)+_0x5f3d09+_0x4c5d79(0x11a)+_0x4b120d);return[0x2];case 0x5:return[0x4,debug_1[_0x4c5d79(0x160)](_0x3b474a,_0x29fa59,_0x46aab7,_0x428fd2,_0x28409c)];case 0x6:_0x2aba04=_0x483173[_0x4c5d79(0x100)]();if(!(fs[_0x4c5d79(0x16c)](_0x286fdf)&&fs[_0x4c5d79(0x1a1)](_0x286fdf)['isFile']()))return[0x3,0x9];_0x5ea86c=(_0x6e7f1b=JSON)[_0x4c5d79(0x11f)];return[0x4,fs[_0x4c5d79(0x1c4)](_0x286fdf,{'encoding':_0x4c5d79(0x1d6)})];case 0x7:_0x5afcfb=_0x5ea86c[_0x4c5d79(0x112)](_0x6e7f1b,[_0x483173[_0x4c5d79(0x100)]()]);if(lodash_1[_0x4c5d79(0x105)]['isEqual'](_0x5afcfb,_0x2aba04))return[0x2];logger_1[_0x4c5d79(0x105)][_0x4c5d79(0x17c)](_0x4c5d79(0x1a3)+_0x286fdf+_0x4c5d79(0x133));return[0x4,showDebugIdeTipsForVscode(_0x3b474a,_0x29fa59,_0x46aab7,_0x428fd2,_0x28409c)];case 0x8:_0x483173['sent']();return[0x2];case 0x9:_0x483173['trys'][_0x4c5d79(0x151)]([0x9,0xb,,0xd]);return[0x4,fs['writeFile'](_0x286fdf,JSON[_0x4c5d79(0x134)](_0x2aba04,null,'\x20\x20'),{'encoding':'utf8','flag':'w'})];case 0xa:_0x483173[_0x4c5d79(0x100)]();return[0x3,0xd];case 0xb:_0x147242=_0x483173[_0x4c5d79(0x100)](),logger_1[_0x4c5d79(0x105)]['warning'](_0x4c5d79(0x124)+_0x286fdf+_0x4c5d79(0x1be));return[0x4,showDebugIdeTipsForVscode(_0x3b474a,_0x29fa59,_0x46aab7,_0x428fd2,_0x28409c)];case 0xc:_0x483173[_0x4c5d79(0x100)](),logger_1[_0x4c5d79(0x105)][_0x4c5d79(0x182)](_0x4c5d79(0x124)+_0x286fdf+_0x4c5d79(0x11a)+_0x147242);return[0x3,0xd];case 0xd:return[0x2];}});});}exports[a14_0x4382a4(0x191)]=writeDebugIdeConfigForVscode;function showDebugIdeTipsForPycharm(_0x9fcc8f,_0x4c3291){return __awaiter(this,void 0x0,void 0x0,function(){var _0x302cdd;return __generator(this,function(_0x46524f){var _0x4fe8c8=a14_0x265f;switch(_0x46524f[_0x4fe8c8(0x111)]){case 0x0:return[0x4,fs[_0x4fe8c8(0x14a)](_0x9fcc8f)];case 0x1:_0x302cdd=_0x46524f[_0x4fe8c8(0x100)]();!_0x302cdd[_0x4fe8c8(0x196)]()&&(_0x9fcc8f=path_1[_0x4fe8c8(0x105)][_0x4fe8c8(0x15e)](_0x9fcc8f));logger_1['default'][_0x4fe8c8(0x166)](_0x4fe8c8(0x165)+ip['address']()+_0x4fe8c8(0x177)+_0x4c3291+'\x0aPath\x20mappings\x20\x20:\x20'+_0x9fcc8f+_0x4fe8c8(0x1d9)+ip[_0x4fe8c8(0x1c3)]()+_0x4fe8c8(0x1cf)+_0x4c3291+_0x4fe8c8(0x156),_0x4fe8c8(0x1bc));return[0x2];}});});}exports[a14_0x4382a4(0x189)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x254975,_0x8c9b7f){var _0x2f9772=a14_0x4382a4;_0x8c9b7f&&_0x254975[_0x2f9772(0x17a)](_0x8c9b7f),_0x254975['end']();}function startContainer(_0x55e8ae,_0x489add,_0x51c37c,_0x457e74){return __awaiter(this,void 0x0,void 0x0,function(){var _0x545fdb,_0xdfede7,_0x277f6a,_0x1393bf,_0xbb1784=this;return __generator(this,function(_0x6a4c6b){var _0x44ed76=a14_0x265f;switch(_0x6a4c6b['label']){case 0x0:return[0x4,createContainer(_0x55e8ae)];case 0x1:_0x545fdb=_0x6a4c6b[_0x44ed76(0x100)](),containers[_0x44ed76(0x170)](_0x545fdb['id']),_0x6a4c6b[_0x44ed76(0x111)]=0x2;case 0x2:_0x6a4c6b['trys'][_0x44ed76(0x151)]([0x2,0x4,,0x5]);return[0x4,_0x545fdb['start']({})];case 0x3:_0x6a4c6b['sent']();return[0x3,0x5];case 0x4:_0xdfede7=_0x6a4c6b[_0x44ed76(0x100)](),logger_1['default']['error'](_0xdfede7);return[0x3,0x5];case 0x5:_0x277f6a=_0x489add||_0x51c37c;if(!_0x277f6a)return[0x3,0x7];!_0x489add&&(_0x489add=dev_null_1[_0x44ed76(0x105)]());!_0x51c37c&&(_0x51c37c=dev_null_1[_0x44ed76(0x105)]());return[0x4,_0x545fdb[_0x44ed76(0x1c0)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x1393bf=_0x6a4c6b[_0x44ed76(0x100)](),_0x545fdb[_0x44ed76(0x132)]['demuxStream'](_0x1393bf,_0x489add,error_processor_1[_0x44ed76(0xf6)]({'serviceName':_0x457e74[_0x44ed76(0x107)],'functionName':_0x457e74['functionName'],'errorStream':_0x51c37c})),_0x6a4c6b[_0x44ed76(0x111)]=0x7;case 0x7:return[0x2,{'containerId':_0x545fdb===null||_0x545fdb===void 0x0?void 0x0:_0x545fdb['id'],'stop':function(){return __awaiter(_0xbb1784,void 0x0,void 0x0,function(){return __generator(this,function(_0x350829){var _0xac5ac8=a14_0x265f;switch(_0x350829[_0xac5ac8(0x111)]){case 0x0:logger_1[_0xac5ac8(0x105)][_0xac5ac8(0x182)]('Stopping\x20container:\x20'+_0x545fdb['id']);return[0x4,_0x545fdb['stop']()];case 0x1:_0x350829[_0xac5ac8(0x100)](),containers[_0xac5ac8(0x130)](_0x545fdb['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0xbb1784,void 0x0,void 0x0,function(){return __generator(this,function(_0x10b0a9){var _0x325e1e=a14_0x265f;switch(_0x10b0a9[_0x325e1e(0x111)]){case 0x0:logger_1[_0x325e1e(0x105)][_0x325e1e(0x182)](_0x325e1e(0x139)+_0x545fdb['id']);return[0x4,_0x545fdb[_0x325e1e(0x1af)]()];case 0x1:_0x10b0a9[_0x325e1e(0x100)](),containers[_0x325e1e(0x130)](_0x545fdb['id']);return[0x2];}});});},'exec':function(_0x2874ec,_0x54f51e){var _0x22285a=_0x44ed76,_0x364267=_0x54f51e===void 0x0?{}:_0x54f51e,_0x23a53c=_0x364267[_0x22285a(0x162)],_0x3b2fc6=_0x23a53c===void 0x0?'':_0x23a53c,_0x13f133=_0x364267[_0x22285a(0x18d)],_0x286404=_0x13f133===void 0x0?{}:_0x13f133,_0x35372e=_0x364267[_0x22285a(0x1d7)],_0x1dbc36=_0x35372e===void 0x0?process['stdout']:_0x35372e,_0x488b05=_0x364267['errorStream'],_0x28118a=_0x488b05===void 0x0?process[_0x22285a(0x102)]:_0x488b05,_0x20b4a4=_0x364267[_0x22285a(0x1c6)],_0x54e22d=_0x20b4a4===void 0x0?![]:_0x20b4a4,_0x3514ae=_0x364267[_0x22285a(0x18b)],_0x2245c2=_0x3514ae===void 0x0?{}:_0x3514ae,_0x430a72=_0x364267[_0x22285a(0xf3)],_0x4678b9=_0x430a72===void 0x0?null:_0x430a72;return __awaiter(_0xbb1784,void 0x0,void 0x0,function(){var _0x3f3caf,_0x306245,_0x20e528,_0x114627;return __generator(this,function(_0x3e4154){var _0x28dfb7=a14_0x265f;switch(_0x3e4154[_0x28dfb7(0x111)]){case 0x0:_0x3f3caf=_0x4678b9?!![]:![],_0x306245={'Env':dockerOpts[_0x28dfb7(0x171)](_0x286404),'Tty':![],'AttachStdin':_0x3f3caf,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x3b2fc6};_0x2874ec!==[]&&(_0x306245[_0x28dfb7(0x1a6)]=_0x2874ec);logger_1[_0x28dfb7(0x105)]['debug'](_0x28dfb7(0x18a)+JSON[_0x28dfb7(0x134)](_0x306245,null,0x4));return[0x4,_0x545fdb[_0x28dfb7(0x1a2)](_0x306245)];case 0x1:_0x20e528=_0x3e4154[_0x28dfb7(0x100)]();return[0x4,_0x20e528['start']({'hijack':!![],'stdin':_0x3f3caf})];case 0x2:_0x114627=_0x3e4154['sent']();return[0x4,new Promise(function(_0x17f735){return setTimeout(_0x17f735,0x1e);})];case 0x3:_0x3e4154[_0x28dfb7(0x100)]();_0x4678b9!==null&&writeEventToStreamAndClose(_0x114627,_0x4678b9);!_0x1dbc36&&(_0x1dbc36=process['stdout']);!_0x28118a&&(_0x28118a=process['stderr']);_0x54e22d?_0x545fdb['modem'][_0x28dfb7(0x15f)](_0x114627,_0x1dbc36,_0x28118a):_0x545fdb[_0x28dfb7(0x132)][_0x28dfb7(0x15f)](_0x114627,dev_null_1[_0x28dfb7(0x105)](),_0x28118a);return[0x4,waitForExec(_0x20e528)];case 0x4:return[0x2,_0x3e4154[_0x28dfb7(0x100)]()];}});});}}];}});});}exports[a14_0x4382a4(0x153)]=startContainer;function waitForExec(_0x2fe43c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x48929e){var _0x14cbd2=a14_0x265f;switch(_0x48929e[_0x14cbd2(0x111)]){case 0x0:return[0x4,new Promise(function(_0x3416ac,_0x1269b){function _0xc2d1ab(){_0x2fe43c['inspect'](function(_0x292ef7,_0x1acdc2){var _0x4c2b58=a14_0x265f;if(_0x1acdc2===null||_0x1acdc2===void 0x0?void 0x0:_0x1acdc2[_0x4c2b58(0x110)]){setTimeout(_0xc2d1ab,0x64);return;}if(_0x292ef7)_0x1269b(_0x292ef7);else _0x1acdc2[_0x4c2b58(0x11e)]!==0x0?_0x1269b(_0x1acdc2[_0x4c2b58(0x172)][_0x4c2b58(0x14f)]+_0x4c2b58(0xfb)+_0x1acdc2[_0x4c2b58(0x11e)]):_0x3416ac(_0x1acdc2[_0x4c2b58(0x11e)]);});}_0xc2d1ab();})];case 0x1:return[0x2,_0x48929e['sent']()];}});});}function run(_0xd063c8,_0x4518b5,_0x46be50,_0x32cd42,_0x30a875){return _0x30a875===void 0x0&&(_0x30a875={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x9b7b71,_0x4ea233,_0x3c36c2,_0x30cbdb;return __generator(this,function(_0x50943c){var _0x2435c4=a14_0x265f;switch(_0x50943c[_0x2435c4(0x111)]){case 0x0:return[0x4,runContainer(_0xd063c8,_0x46be50,_0x32cd42,_0x30a875)];case 0x1:_0x9b7b71=_0x50943c[_0x2435c4(0x100)](),_0x4ea233=_0x9b7b71[_0x2435c4(0x1a5)],_0x3c36c2=_0x9b7b71['stream'],writeEventToStreamAndClose(_0x3c36c2,_0x4518b5);return[0x4,_0x4ea233[_0x2435c4(0x1b9)]()];case 0x2:_0x30cbdb=_0x50943c[_0x2435c4(0x100)](),containers[_0x2435c4(0x130)](_0x4ea233['id']),streams[_0x2435c4(0x130)](_0x3c36c2);return[0x2,_0x30cbdb];}});});}exports[a14_0x4382a4(0x1ac)]=run;function stopContainer(_0x3d906c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x39c182,_0x2b05c9,_0x4e5587;return __generator(this,function(_0x1e1ab2){var _0x537a32=a14_0x265f;switch(_0x1e1ab2[_0x537a32(0x111)]){case 0x0:_0x39c182=core['spinner'](_0x537a32(0xf4)+_0x3d906c['id']),_0x1e1ab2[_0x537a32(0x111)]=0x1;case 0x1:_0x1e1ab2['trys'][_0x537a32(0x151)]([0x1,0x3,,0x8]);return[0x4,_0x3d906c[_0x537a32(0x18c)]()];case 0x2:_0x1e1ab2['sent'](),_0x39c182[_0x537a32(0x167)](_0x537a32(0x169));return[0x3,0x8];case 0x3:_0x2b05c9=_0x1e1ab2[_0x537a32(0x100)](),_0x39c182[_0x537a32(0x12a)](_0x537a32(0x14b)),logger_1[_0x537a32(0x105)][_0x537a32(0x182)](_0x537a32(0x1d8)+_0x3d906c['id']+_0x537a32(0x11a)+_0x2b05c9),_0x39c182=core['spinner']('Killing\x20the\x20container:\x20'+_0x3d906c['id']),_0x1e1ab2['label']=0x4;case 0x4:_0x1e1ab2[_0x537a32(0x147)][_0x537a32(0x151)]([0x4,0x6,,0x7]);return[0x4,_0x3d906c[_0x537a32(0x1af)]()];case 0x5:_0x1e1ab2[_0x537a32(0x100)](),_0x39c182['succeed'](_0x537a32(0x1d3));return[0x3,0x7];case 0x6:_0x4e5587=_0x1e1ab2[_0x537a32(0x100)](),_0x39c182[_0x537a32(0x12a)]('Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.'),logger_1[_0x537a32(0x105)][_0x537a32(0x182)](_0x537a32(0xfc)+_0x3d906c['id']+_0x537a32(0x11a)+_0x4e5587);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports['stopContainer']=stopContainer;