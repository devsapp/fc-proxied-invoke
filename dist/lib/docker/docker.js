'use strict';var a14_0x8df3=['__spreadArrays','handler','ExitCode','environmentVariables','../definition','DOCKER_REGISTRIES','outputStream','isCustomContainerRuntime','writeFile','ProcessConfig','context','aux.ID','\x20failed,\x20error:\x20','defineProperty','entrypoint','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','resolveLibPathsFromLdConf','/tmp','662713vHAzer','indexOf','...','Mounts','codeUri','lodash','progress','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','debug','logs','pullImage','267018AAUbDe','trys','\x20already\x20exists,\x20please\x20overwrite\x20it\x20with\x20the\x20following\x20config.','isDirectory','getImage','map','processorTransformFactory','--http','message','write','bind','followProgress','generateDebugEnv','logConfig','writeDebugIdeConfigForVscode','/code','virtualbox','stringify','errorStream','localNasDir','showDebugIdeTipsForVscode','AccessKeyID','log','function','generateVscodeDebugConfig','base64','resolve','createContainer','args','functionName','resolveNasConfigToMounts','serviceName','stdout','getTime','Kill\x20container\x20succeed','parseInt','__awaiter','length','warning','fs-extra','--server',',\x20you\x20can\x20also\x20use\x20','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','\x0aPath\x20mappings\x20\x20:\x20','includes','1fwjZma','provider','cwd','dev-null','hasOwnProperty','/////////////////\x20config\x20begin\x20/////////////////','info','58JJjjzS','basename','runContainer','linux','Please\x20add\x20directory\x20\x27','pathExistsSync','generateDockerEnvs','Write\x20','Cmd','stopContainer','generateFunctionEnvs','demuxStream','docker\x20cmd:\x20','error','getRootBaseDir','spinner','command','Stopping\x20container:\x20','create','win32','addEnv','\x27,\x20port=','has','14106ZRsyKn','fail','skip\x20pulling\x20image\x20','4DJbuNg','done','wait','initializer',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','772854gaoaqi','\x27docker\x20pull\x20','address','verbose','../devs','lstat','fc_local_','ops','HostConfig','lstatSync','tag','slice','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','608441WlTymq','reduce','File:\x20','then','delete','Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.','draft','resolveDebuggerPathToMount','launch.json','event','split','Failed\x20to\x20stop\x20the\x20container.','aux','docker\x20exec\x20opts:\x20','assign','label','../../common/logger','timeout','Generator\x20is\x20already\x20executing.','AccountID','../utils/passwd','initializationTimeout','call','--initializationTimeout','__importStar',',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.','stream','generatePwdFile','return','toString','into','--stdin','pullFcImageIfNeed','last','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','/etc/passwd','yellow','../local-invoke/debug','iterator','isDockerToolBoxAndEnsureDockerVersion','/tmp/debugger_files','kill','invalid\x20mount\x20config\x20for\x20type','showDebugIdeTipsForPycharm','--event','parse','startContainer','Source','pullImageIfNeed','Skip\x20pulling\x20image\x20','\x20exited\x20with\x20code\x20','runtime','add','next','__esModule','dirname','../local-invoke/env','generateDockerCmd','substr','exec','platform','\x20to\x20pull\x20image\x20by\x20yourself.','__setModuleDefault','logstore','customContainerConfig','utf8','Stop\x20container\x20succeed.','resolveDockerEnv','Kill\x20proxy\x20container:\x20','__importDefault','resolvePasswdMount','Running','throw','java','Killing\x20container:\x20','start','stop','../utils/runtime','join','status','modem','stderr','from','753055NSkPkh','drive\x20is\x20not\x20shared','imageExist','ServerVersion','../local-invoke/nas','findPathsOutofSharedPaths','ReadOnly','/////////////////\x20config\x20end\x20/////////////////','sent','createAndRunContainer','run','Proxy\x20image\x20url:\x20','@serverless-devs/core','default','succeed','pop','push','497399STUNde','detectDockerVersion','generateRamdomContainerName','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','pull','isEqual','dockerode','SecurityToken','value'];var a14_0x598652=a14_0x2a68;(function(_0x33b8c4,_0x31e876){var _0x56f7ea=a14_0x2a68;while(!![]){try{var _0x3c88ca=parseInt(_0x56f7ea(0x22e))*parseInt(_0x56f7ea(0x208))+-parseInt(_0x56f7ea(0x1db))+-parseInt(_0x56f7ea(0x28e))+-parseInt(_0x56f7ea(0x1b5))+-parseInt(_0x56f7ea(0x226))*parseInt(_0x56f7ea(0x20f))+-parseInt(_0x56f7ea(0x23b))+-parseInt(_0x56f7ea(0x1d0))*-parseInt(_0x56f7ea(0x229));if(_0x3c88ca===_0x31e876)break;else _0x33b8c4['push'](_0x33b8c4['shift']());}catch(_0x3b25f6){_0x33b8c4['push'](_0x33b8c4['shift']());}}}(a14_0x8df3,0x7519d));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x4a1468,_0x342a6b,_0x59a31e,_0x1b70dc){var _0x4dcaed=a14_0x2a68;if(_0x1b70dc===undefined)_0x1b70dc=_0x59a31e;Object[_0x4dcaed(0x1cb)](_0x4a1468,_0x1b70dc,{'enumerable':!![],'get':function(){return _0x342a6b[_0x59a31e];}});}:function(_0x2ce59c,_0x45a6be,_0x8d5107,_0x3aa7f9){if(_0x3aa7f9===undefined)_0x3aa7f9=_0x8d5107;_0x2ce59c[_0x3aa7f9]=_0x45a6be[_0x8d5107];}),__setModuleDefault=this&&this[a14_0x598652(0x279)]||(Object[a14_0x598652(0x221)]?function(_0x3a9b51,_0x59114b){var _0x10fa0d=a14_0x598652;Object[_0x10fa0d(0x1cb)](_0x3a9b51,'default',{'enumerable':!![],'value':_0x59114b});}:function(_0x16c2f6,_0x5f37af){_0x16c2f6['default']=_0x5f37af;}),__importStar=this&&this[a14_0x598652(0x253)]||function(_0x5f5b16){var _0x2a7f37=a14_0x598652;if(_0x5f5b16&&_0x5f5b16[_0x2a7f37(0x271)])return _0x5f5b16;var _0x50a18c={};if(_0x5f5b16!=null){for(var _0x7b378a in _0x5f5b16)if(_0x7b378a!=='default'&&Object[_0x2a7f37(0x20c)][_0x2a7f37(0x251)](_0x5f5b16,_0x7b378a))__createBinding(_0x50a18c,_0x5f5b16,_0x7b378a);}return __setModuleDefault(_0x50a18c,_0x5f5b16),_0x50a18c;},__awaiter=this&&this[a14_0x598652(0x1ff)]||function(_0x1903ff,_0x23bc33,_0x154bd7,_0x289d54){function _0x470ab5(_0x50892b){return _0x50892b instanceof _0x154bd7?_0x50892b:new _0x154bd7(function(_0x28245d){_0x28245d(_0x50892b);});}return new(_0x154bd7||(_0x154bd7=Promise))(function(_0x2137fc,_0x5ff61e){function _0x2d5520(_0x2a8d80){var _0x4f20b4=a14_0x2a68;try{_0x19b259(_0x289d54[_0x4f20b4(0x270)](_0x2a8d80));}catch(_0x34ffb1){_0x5ff61e(_0x34ffb1);}}function _0x42194c(_0x2db2d1){var _0x3e48e1=a14_0x2a68;try{_0x19b259(_0x289d54[_0x3e48e1(0x283)](_0x2db2d1));}catch(_0x1c0667){_0x5ff61e(_0x1c0667);}}function _0x19b259(_0x50f433){var _0x6608c4=a14_0x2a68;_0x50f433[_0x6608c4(0x22a)]?_0x2137fc(_0x50f433[_0x6608c4(0x1bd)]):_0x470ab5(_0x50f433[_0x6608c4(0x1bd)])[_0x6608c4(0x23e)](_0x2d5520,_0x42194c);}_0x19b259((_0x289d54=_0x289d54['apply'](_0x1903ff,_0x23bc33||[]))['next']());});},__generator=this&&this['__generator']||function(_0x518367,_0x2b2271){var _0x50cc6d=a14_0x598652,_0x1f5c85={'label':0x0,'sent':function(){if(_0x45b6f2[0x0]&0x1)throw _0x45b6f2[0x1];return _0x45b6f2[0x1];},'trys':[],'ops':[]},_0x1cb71d,_0x3998b1,_0x45b6f2,_0xdf76b4;return _0xdf76b4={'next':_0x31ac0c(0x0),'throw':_0x31ac0c(0x1),'return':_0x31ac0c(0x2)},typeof Symbol===_0x50cc6d(0x1f2)&&(_0xdf76b4[Symbol[_0x50cc6d(0x261)]]=function(){return this;}),_0xdf76b4;function _0x31ac0c(_0x5150ef){return function(_0x218a0e){return _0x2ae95a([_0x5150ef,_0x218a0e]);};}function _0x2ae95a(_0x5704bf){var _0x7bbab3=_0x50cc6d;if(_0x1cb71d)throw new TypeError(_0x7bbab3(0x24d));while(_0x1f5c85)try{if(_0x1cb71d=0x1,_0x3998b1&&(_0x45b6f2=_0x5704bf[0x0]&0x2?_0x3998b1['return']:_0x5704bf[0x0]?_0x3998b1[_0x7bbab3(0x283)]||((_0x45b6f2=_0x3998b1[_0x7bbab3(0x257)])&&_0x45b6f2[_0x7bbab3(0x251)](_0x3998b1),0x0):_0x3998b1[_0x7bbab3(0x270)])&&!(_0x45b6f2=_0x45b6f2[_0x7bbab3(0x251)](_0x3998b1,_0x5704bf[0x1]))[_0x7bbab3(0x22a)])return _0x45b6f2;if(_0x3998b1=0x0,_0x45b6f2)_0x5704bf=[_0x5704bf[0x0]&0x2,_0x45b6f2[_0x7bbab3(0x1bd)]];switch(_0x5704bf[0x0]){case 0x0:case 0x1:_0x45b6f2=_0x5704bf;break;case 0x4:_0x1f5c85['label']++;return{'value':_0x5704bf[0x1],'done':![]};case 0x5:_0x1f5c85[_0x7bbab3(0x24a)]++,_0x3998b1=_0x5704bf[0x1],_0x5704bf=[0x0];continue;case 0x7:_0x5704bf=_0x1f5c85[_0x7bbab3(0x235)]['pop'](),_0x1f5c85[_0x7bbab3(0x1dc)][_0x7bbab3(0x1b3)]();continue;default:if(!(_0x45b6f2=_0x1f5c85[_0x7bbab3(0x1dc)],_0x45b6f2=_0x45b6f2[_0x7bbab3(0x200)]>0x0&&_0x45b6f2[_0x45b6f2[_0x7bbab3(0x200)]-0x1])&&(_0x5704bf[0x0]===0x6||_0x5704bf[0x0]===0x2)){_0x1f5c85=0x0;continue;}if(_0x5704bf[0x0]===0x3&&(!_0x45b6f2||_0x5704bf[0x1]>_0x45b6f2[0x0]&&_0x5704bf[0x1]<_0x45b6f2[0x3])){_0x1f5c85[_0x7bbab3(0x24a)]=_0x5704bf[0x1];break;}if(_0x5704bf[0x0]===0x6&&_0x1f5c85[_0x7bbab3(0x24a)]<_0x45b6f2[0x1]){_0x1f5c85[_0x7bbab3(0x24a)]=_0x45b6f2[0x1],_0x45b6f2=_0x5704bf;break;}if(_0x45b6f2&&_0x1f5c85['label']<_0x45b6f2[0x2]){_0x1f5c85[_0x7bbab3(0x24a)]=_0x45b6f2[0x2],_0x1f5c85[_0x7bbab3(0x235)]['push'](_0x5704bf);break;}if(_0x45b6f2[0x2])_0x1f5c85[_0x7bbab3(0x235)][_0x7bbab3(0x1b3)]();_0x1f5c85[_0x7bbab3(0x1dc)]['pop']();continue;}_0x5704bf=_0x2b2271['call'](_0x518367,_0x1f5c85);}catch(_0x143a6b){_0x5704bf=[0x6,_0x143a6b],_0x3998b1=0x0;}finally{_0x1cb71d=_0x45b6f2=0x0;}if(_0x5704bf[0x0]&0x5)throw _0x5704bf[0x1];return{'value':_0x5704bf[0x0]?_0x5704bf[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x598652(0x1be)]||function(){var _0x212dba=a14_0x598652;for(var _0x18d57e=0x0,_0x59aa55=0x0,_0x3007f1=arguments[_0x212dba(0x200)];_0x59aa55<_0x3007f1;_0x59aa55++)_0x18d57e+=arguments[_0x59aa55][_0x212dba(0x200)];for(var _0x52fe66=Array(_0x18d57e),_0x2ec4cb=0x0,_0x59aa55=0x0;_0x59aa55<_0x3007f1;_0x59aa55++)for(var _0x517f03=arguments[_0x59aa55],_0x538a23=0x0,_0x4a8ee6=_0x517f03[_0x212dba(0x200)];_0x538a23<_0x4a8ee6;_0x538a23++,_0x2ec4cb++)_0x52fe66[_0x2ec4cb]=_0x517f03[_0x538a23];return _0x52fe66;},__importDefault=this&&this[a14_0x598652(0x280)]||function(_0x1130e5){var _0x3e72af=a14_0x598652;return _0x1130e5&&_0x1130e5[_0x3e72af(0x271)]?_0x1130e5:{'default':_0x1130e5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['stopContainer']=exports[a14_0x598652(0x1ae)]=exports[a14_0x598652(0x269)]=exports[a14_0x598652(0x266)]=exports[a14_0x598652(0x1e9)]=exports[a14_0x598652(0x1ef)]=exports[a14_0x598652(0x1ad)]=exports[a14_0x598652(0x281)]=exports[a14_0x598652(0x242)]=exports['resolveTmpDirToMount']=exports[a14_0x598652(0x1f9)]=exports[a14_0x598652(0x1b6)]=exports['isDockerToolBoxAndEnsureDockerVersion']=exports['resolveCodeUriToMount']=exports[a14_0x598652(0x211)]=exports[a14_0x598652(0x1da)]=exports['pullFcImageIfNeed']=exports[a14_0x598652(0x219)]=exports[a14_0x598652(0x215)]=exports['generateDockerCmd']=exports['pullImageIfNeed']=exports[a14_0x598652(0x1b7)]=exports[a14_0x598652(0x290)]=void 0x0;var dockerode_1=__importDefault(require(a14_0x598652(0x1bb))),logger_1=__importDefault(require(a14_0x598652(0x24b))),draftlog=__importStar(require('draftlog')),docker_support_1=require('./docker-support'),error_processor_1=require('../error-processor'),lodash_1=__importDefault(require(a14_0x598652(0x1d5))),nas=__importStar(require(a14_0x598652(0x292))),path_1=__importDefault(require('path')),devs_1=require(a14_0x598652(0x232)),fs=__importStar(require(a14_0x598652(0x202))),passwd_1=require(a14_0x598652(0x24f)),dockerOpts=__importStar(require('./docker-opts')),debug_1=require(a14_0x598652(0x260)),ip=__importStar(require('ip')),env_1=require(a14_0x598652(0x273)),runtime_1=require(a14_0x598652(0x288)),definition_1=require(a14_0x598652(0x1c2)),dev_null_1=__importDefault(require(a14_0x598652(0x20b))),core=__importStar(require(a14_0x598652(0x1b0))),isWin=process[a14_0x598652(0x277)]===a14_0x598652(0x222),docker=new dockerode_1[(a14_0x598652(0x1b1))]();draftlog[a14_0x598652(0x259)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x36c5d5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x200a22;return __generator(this,function(_0x562867){var _0x40479e=a14_0x2a68;switch(_0x562867[_0x40479e(0x24a)]){case 0x0:return[0x4,docker['listImages']({'filters':{'reference':[_0x36c5d5]}})];case 0x1:_0x200a22=_0x562867[_0x40479e(0x296)]();return[0x2,_0x200a22[_0x40479e(0x200)]>0x0];}});});}exports['imageExist']=imageExist;function generateRamdomContainerName(){var _0xba694f=a14_0x598652;return _0xba694f(0x234)+new Date()[_0xba694f(0x1fc)]()+'_'+Math['random']()[_0xba694f(0x258)](0x24)[_0xba694f(0x275)](0x2,0x7);}exports[a14_0x598652(0x1b7)]=generateRamdomContainerName;function pullImageIfNeed(_0x401d06,_0x5850cc,_0x3cc2af,_0x202bca){return __awaiter(this,void 0x0,void 0x0,function(){var _0x15a3e1,_0x1c0b8a;return __generator(this,function(_0x5351ef){var _0x31b977=a14_0x2a68;switch(_0x5351ef[_0x31b977(0x24a)]){case 0x0:_0x15a3e1=_0x401d06+'/'+_0x5850cc+'/'+_0x3cc2af+':'+_0x202bca,logger_1[_0x31b977(0x1b1)][_0x31b977(0x1d8)](_0x31b977(0x1af)+_0x15a3e1);return[0x4,imageExist(_0x15a3e1)];case 0x1:if(!!_0x5351ef[_0x31b977(0x296)]())return[0x3,0x3];logger_1[_0x31b977(0x1b1)][_0x31b977(0x1d8)]('Starting\x20docker\x20pull\x20'+_0x15a3e1);return[0x4,docker['pull'](_0x15a3e1)];case 0x2:_0x1c0b8a=_0x5351ef[_0x31b977(0x296)](),_0x5351ef['label']=0x3;case 0x3:return[0x4,new Promise(function(_0x5d8fc6,_0x46016b){var _0x203ab1=_0x31b977;if(_0x1c0b8a){var _0x91d981=function(_0x2341a1){_0x2341a1&&_0x46016b(_0x2341a1),_0x5d8fc6(_0x15a3e1);},_0x3c5b62={},_0x195768=function(_0x18a896){var _0x2dc4cf=a14_0x2a68,_0x5bd0fa=_0x18a896[_0x2dc4cf(0x28a)];_0x18a896[_0x2dc4cf(0x1d6)]&&(_0x5bd0fa=_0x18a896[_0x2dc4cf(0x28a)]+'\x20'+_0x18a896[_0x2dc4cf(0x1d6)]);if(_0x18a896['id']){var _0x249414=_0x18a896['id'];!_0x3c5b62[_0x249414]&&(_0x3c5b62[_0x249414]=console[_0x2dc4cf(0x241)]()),_0x3c5b62[_0x249414](_0x249414+':\x20'+_0x5bd0fa);}else{lodash_1['default'][_0x2dc4cf(0x225)](_0x18a896,_0x2dc4cf(0x1c9))&&(_0x18a896['stream']=_0x18a896[_0x2dc4cf(0x247)]['ID']+'\x0a');var _0x2685f2=_0x18a896[_0x2dc4cf(0x28a)]?_0x18a896[_0x2dc4cf(0x28a)]+'\x0a':_0x18a896[_0x2dc4cf(0x255)];process['stdout']['write'](_0x2685f2);}};docker['modem'][_0x203ab1(0x1e6)](_0x1c0b8a,_0x91d981,_0x195768);}else _0x5d8fc6(_0x15a3e1);})];case 0x4:return[0x2,_0x5351ef[_0x31b977(0x296)]()];}});});}exports[a14_0x598652(0x26b)]=pullImageIfNeed;function generateDockerCmd(_0x593215,_0x4e773a,_0x3afd46,_0x2a75ff,_0x42a867,_0x54d9ca){var _0x12eada=a14_0x598652;_0x42a867===void 0x0&&(_0x42a867=!![]);_0x54d9ca===void 0x0&&(_0x54d9ca=null);if(runtime_1[_0x12eada(0x1c5)](_0x593215))return genDockerCmdOfCustomContainer(_0x3afd46);else{if(_0x4e773a)return[_0x12eada(0x203)];}return genDockerCmdOfNonCustomContainer(_0x3afd46,_0x2a75ff,_0x42a867,_0x54d9ca);}exports[a14_0x598652(0x274)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x19b1a0,_0x3a9c98,_0xf0298c,_0x3137b2){var _0x1e71f9=a14_0x598652;_0xf0298c===void 0x0&&(_0xf0298c=!![]);_0x3137b2===void 0x0&&(_0x3137b2=null);var _0x5a953f=['-h',_0x19b1a0['handler']];_0x3137b2!==null?(_0x5a953f[_0x1e71f9(0x1b4)](_0x1e71f9(0x267),Buffer[_0x1e71f9(0x28d)](_0x3137b2)[_0x1e71f9(0x258)](_0x1e71f9(0x1f4))),_0x5a953f[_0x1e71f9(0x1b4)]('--event-decode')):_0x5a953f[_0x1e71f9(0x1b4)](_0x1e71f9(0x25a));_0x3a9c98&&_0x5a953f[_0x1e71f9(0x1b4)](_0x1e71f9(0x1e2));var _0x4cab0e=_0x19b1a0[_0x1e71f9(0x22c)];_0x4cab0e&&_0xf0298c&&_0x5a953f['push']('-i',_0x4cab0e);var _0x2d56eb=_0x19b1a0[_0x1e71f9(0x250)];return _0x2d56eb&&_0x5a953f['push'](_0x1e71f9(0x252),_0x2d56eb['toString']()),logger_1['default'][_0x1e71f9(0x1d8)](_0x1e71f9(0x21b)+_0x5a953f),_0x5a953f;}function genDockerCmdOfCustomContainer(_0x1762ad){var _0x46156b=a14_0x598652,_0x309cc2=_0x1762ad[_0x46156b(0x27b)]['command']?JSON[_0x46156b(0x268)](_0x1762ad[_0x46156b(0x27b)][_0x46156b(0x21f)]):undefined,_0x17cb10=_0x1762ad[_0x46156b(0x27b)][_0x46156b(0x1f7)]?JSON['parse'](_0x1762ad[_0x46156b(0x27b)]['args']):undefined;if(_0x309cc2&&_0x17cb10)return __spreadArrays(_0x309cc2,_0x17cb10);else{if(_0x309cc2)return _0x309cc2;else{if(_0x17cb10)return _0x17cb10;}}return[];}function generateDockerEnvs(_0x312fa2,_0x554ee3,_0x123475,_0x5be4bd,_0x432cfe,_0x13281b,_0x3f971c,_0x10a161,_0x358b3f,_0x163752,_0x477a12,_0x4292be){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3cd40d,_0x50f92c,_0x3e640f,_0x33c3af,_0x3592db;return __generator(this,function(_0x4d3279){var _0x1556be=a14_0x2a68;switch(_0x4d3279[_0x1556be(0x24a)]){case 0x0:_0x3cd40d={};_0x358b3f&&Object[_0x1556be(0x249)](_0x3cd40d,{'FC_HTTP_PARAMS':_0x358b3f});return[0x4,env_1[_0x1556be(0x1ce)](_0x123475,_0x3f971c[_0x1556be(0x1d4)])];case 0x1:_0x50f92c=_0x4d3279['sent'](),Object['assign'](_0x3cd40d,_0x50f92c),_0x3e640f=_0x3f971c[_0x1556be(0x26e)];if(_0x10a161&&!_0x4292be)_0x33c3af=debug_1[_0x1556be(0x1e7)](_0x3e640f,_0x10a161,_0x477a12),Object['assign'](_0x3cd40d,_0x33c3af);else _0x4292be&&Object[_0x1556be(0x249)](_0x3cd40d,{'DEBUG_OPTIONS':_0x4292be});Object[_0x1556be(0x249)](_0x3cd40d,generateFunctionEnvs(_0x3f971c));definition_1['isAutoConfig'](_0x432cfe===null||_0x432cfe===void 0x0?void 0x0:_0x432cfe[_0x1556be(0x1e8)])?_0x3592db=definition_1['resolveAutoLogConfig'](_0x312fa2===null||_0x312fa2===void 0x0?void 0x0:_0x312fa2[_0x1556be(0x24e)],_0x554ee3,_0x5be4bd):_0x3592db=_0x432cfe===null||_0x432cfe===void 0x0?void 0x0:_0x432cfe[_0x1556be(0x1e8)];(_0x3f971c===null||_0x3f971c===void 0x0?void 0x0:_0x3f971c['runtime'][_0x1556be(0x207)](_0x1556be(0x284)))&&Object['assign'](_0x3cd40d,{'fc_enable_new_java_ca':!![]});Object[_0x1556be(0x249)](_0x3cd40d,{'local':!![],'FC_ACCESS_KEY_ID':_0x312fa2===null||_0x312fa2===void 0x0?void 0x0:_0x312fa2[_0x1556be(0x1f0)],'FC_ACCESS_KEY_SECRET':_0x312fa2===null||_0x312fa2===void 0x0?void 0x0:_0x312fa2['AccessKeySecret'],'FC_SECURITY_TOKEN':_0x312fa2===null||_0x312fa2===void 0x0?void 0x0:_0x312fa2[_0x1556be(0x1bc)],'FC_ACCOUNT_ID':_0x312fa2===null||_0x312fa2===void 0x0?void 0x0:_0x312fa2[_0x1556be(0x24e)],'FC_REGION':_0x554ee3,'FC_FUNCTION_NAME':_0x13281b,'FC_HANDLER':_0x3f971c[_0x1556be(0x1bf)],'FC_MEMORY_SIZE':_0x3f971c['memorySize']||0x80,'FC_TIMEOUT':_0x3f971c[_0x1556be(0x24c)]||0x3,'FC_INITIALIZER':_0x3f971c[_0x1556be(0x22c)],'FC_INITIALIZATION_TIMEOUT':_0x3f971c[_0x1556be(0x250)]||0x3,'FC_SERVICE_NAME':_0x5be4bd,'FC_SERVICE_LOG_PROJECT':_0x3592db===null||_0x3592db===void 0x0?void 0x0:_0x3592db['project'],'FC_SERVICE_LOG_STORE':_0x3592db===null||_0x3592db===void 0x0?void 0x0:_0x3592db[_0x1556be(0x27a)]});if(runtime_1['isCustomContainerRuntime'](_0x3f971c['runtime']))return[0x2,_0x3cd40d];return[0x2,env_1[_0x1556be(0x223)](_0x3cd40d,_0x163752)];}});});}exports['generateDockerEnvs']=generateDockerEnvs;function generateFunctionEnvs(_0x55e575){var _0x502dbe=a14_0x598652,_0xd18ddb=_0x55e575[_0x502dbe(0x1c1)];if(!_0xd18ddb)return{};return Object['assign']({},_0xd18ddb);}exports[a14_0x598652(0x219)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x3d6c41){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3261d2;return __generator(this,function(_0x19ff88){var _0x292be1=a14_0x2a68;switch(_0x19ff88[_0x292be1(0x24a)]){case 0x0:return[0x4,imageExist(_0x3d6c41)];case 0x1:_0x3261d2=_0x19ff88['sent']();if(!(!_0x3261d2||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x3d6c41)];case 0x2:_0x19ff88[_0x292be1(0x296)]();return[0x3,0x4];case 0x3:logger_1['default']['debug'](_0x292be1(0x228)+_0x3d6c41+'...'),logger_1[_0x292be1(0x1b1)][_0x292be1(0x20e)](_0x292be1(0x26c)+_0x3d6c41+_0x292be1(0x1d2)),_0x19ff88['label']=0x4;case 0x4:return[0x2];}});});}exports[a14_0x598652(0x25b)]=pullFcImageIfNeed;function pullImage(_0x48cb0b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x85057,_0x3593f,_0x25f820=this;return __generator(this,function(_0x16a3f6){var _0x209d23=a14_0x2a68;switch(_0x16a3f6[_0x209d23(0x24a)]){case 0x0:return[0x4,dockerOpts['resolveImageNameForPull'](_0x48cb0b)];case 0x1:_0x85057=_0x16a3f6[_0x209d23(0x296)]();return[0x4,docker[_0x209d23(0x1b9)](_0x85057)];case 0x2:_0x3593f=_0x16a3f6[_0x209d23(0x296)]();return[0x4,new Promise(function(_0x368058,_0x4f180c){var _0x29bdf1=_0x209d23;logger_1[_0x29bdf1(0x1b1)][_0x29bdf1(0x20e)]('Pulling\x20image\x20'+_0x85057+_0x29bdf1(0x204)+(_0x29bdf1(0x22f)+_0x85057+'\x27')+_0x29bdf1(0x278));var _0x2a8bbe=function(_0x4000ae){return __awaiter(_0x25f820,void 0x0,void 0x0,function(){var _0x4194c1,_0x4bf271,_0x264b61,_0x3e2916,_0x15e98e,_0x16b201;return __generator(this,function(_0x54afa8){var _0x4c52ac=a14_0x2a68;switch(_0x54afa8['label']){case 0x0:_0x4000ae&&_0x4f180c(_0x4000ae);containers[_0x4c52ac(0x23f)](_0x3593f),(_0x4194c1=0x0,_0x4bf271=dockerOpts[_0x4c52ac(0x1c3)]),_0x54afa8['label']=0x1;case 0x1:if(!(_0x4194c1<_0x4bf271[_0x4c52ac(0x200)]))return[0x3,0x5];_0x264b61=_0x4bf271[_0x4194c1];if(!(_0x85057['indexOf'](_0x264b61)===0x0))return[0x3,0x4];return[0x4,docker[_0x4c52ac(0x1df)](_0x85057)];case 0x2:_0x3e2916=_0x54afa8[_0x4c52ac(0x296)](),_0x15e98e=_0x85057[_0x4c52ac(0x239)](_0x264b61[_0x4c52ac(0x200)]+0x1),_0x16b201=_0x15e98e['split'](':');return[0x4,_0x3e2916[_0x4c52ac(0x238)]({'name':_0x85057,'repo':lodash_1[_0x4c52ac(0x1b1)]['first'](_0x16b201),'tag':lodash_1['default'][_0x4c52ac(0x25c)](_0x16b201)})];case 0x3:_0x54afa8[_0x4c52ac(0x296)]();return[0x3,0x5];case 0x4:_0x4194c1++;return[0x3,0x1];case 0x5:_0x368058(_0x85057);return[0x2];}});});};containers['add'](_0x3593f),followProgress(_0x3593f,_0x2a8bbe);})];case 0x3:return[0x2,_0x16a3f6[_0x209d23(0x296)]()];}});});}exports[a14_0x598652(0x1da)]=pullImage;function followProgress(_0x3fc964,_0x5079ce){var _0x2eee5d={},_0x4c42f5=function(_0x17406e){var _0x2b234a=a14_0x2a68,_0x52c446=_0x17406e[_0x2b234a(0x28a)];_0x17406e[_0x2b234a(0x1d6)]&&(_0x52c446=_0x17406e[_0x2b234a(0x28a)]+'\x20'+_0x17406e[_0x2b234a(0x1d6)]);if(_0x17406e['id']){var _0x4cdf8e=_0x17406e['id'];!_0x2eee5d[_0x4cdf8e]&&(_0x2eee5d[_0x4cdf8e]=console['draft']()),_0x2eee5d[_0x4cdf8e](_0x4cdf8e+':\x20'+_0x52c446);}else{lodash_1[_0x2b234a(0x1b1)][_0x2b234a(0x225)](_0x17406e,_0x2b234a(0x1c9))&&(_0x17406e[_0x2b234a(0x255)]=_0x17406e[_0x2b234a(0x247)]['ID']+'\x0a');var _0x5e045c=_0x17406e[_0x2b234a(0x28a)]?_0x17406e['status']+'\x0a':_0x17406e[_0x2b234a(0x255)];process['stdout'][_0x2b234a(0x1e4)](_0x5e045c);}};docker['modem']['followProgress'](_0x3fc964,_0x5079ce,_0x4c42f5);}function runContainer(_0x1436fd,_0x1378ab,_0x3c858b,_0x22bf29){return __awaiter(this,void 0x0,void 0x0,function(){var _0x338909,_0x3e49bc,_0x43321a,_0x58036b,_0x3c6c77;return __generator(this,function(_0x1eedf8){var _0x2cc2be=a14_0x2a68;switch(_0x1eedf8['label']){case 0x0:return[0x4,createContainer(_0x1436fd)];case 0x1:_0x338909=_0x1eedf8[_0x2cc2be(0x296)](),_0x3e49bc={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x338909['attach'](_0x3e49bc)];case 0x2:_0x43321a=_0x1eedf8[_0x2cc2be(0x296)]();!_0x1378ab&&(_0x1378ab=process['stdout']);!_0x3c858b&&(_0x3c858b=process[_0x2cc2be(0x28c)]);_0x58036b=error_processor_1[_0x2cc2be(0x1e1)]({'serviceName':_0x22bf29===null||_0x22bf29===void 0x0?void 0x0:_0x22bf29[_0x2cc2be(0x1fa)],'functionName':_0x22bf29===null||_0x22bf29===void 0x0?void 0x0:_0x22bf29[_0x2cc2be(0x1f8)],'errorStream':_0x3c858b});!isWin&&_0x338909['modem'][_0x2cc2be(0x21a)](_0x43321a,_0x1378ab,_0x58036b);return[0x4,_0x338909[_0x2cc2be(0x286)]()];case 0x3:_0x1eedf8[_0x2cc2be(0x296)]();if(!isWin)return[0x3,0x5];return[0x4,_0x338909['logs']({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0x3c6c77=_0x1eedf8[_0x2cc2be(0x296)](),_0x338909[_0x2cc2be(0x28b)][_0x2cc2be(0x21a)](_0x3c6c77,_0x1378ab,_0x58036b),_0x1eedf8[_0x2cc2be(0x24a)]=0x5;case 0x5:containers[_0x2cc2be(0x26f)](_0x338909['id']),streams[_0x2cc2be(0x26f)](_0x43321a);return[0x2,{'container':_0x338909,'stream':_0x43321a}];}});});}exports[a14_0x598652(0x211)]=runContainer;function resolveCodeUriToMount(_0x29bd7c,_0x38fe3a){return _0x38fe3a===void 0x0&&(_0x38fe3a=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x1f662d,_0x2c5869;return __generator(this,function(_0x19c8ae){var _0x56d41c=a14_0x2a68;switch(_0x19c8ae['label']){case 0x0:if(!_0x29bd7c)return[0x2,null];_0x1f662d=null;return[0x4,fs[_0x56d41c(0x233)](_0x29bd7c)];case 0x1:_0x2c5869=_0x19c8ae[_0x56d41c(0x296)]();_0x2c5869[_0x56d41c(0x1de)]()?_0x1f662d=_0x56d41c(0x1ea):_0x1f662d=path_1[_0x56d41c(0x1b1)]['posix'][_0x56d41c(0x289)]('/code',path_1[_0x56d41c(0x1b1)][_0x56d41c(0x210)](_0x29bd7c));return[0x2,{'Type':_0x56d41c(0x1e5),'Source':_0x29bd7c,'Target':_0x1f662d,'ReadOnly':_0x38fe3a}];}});});}exports['resolveCodeUriToMount']=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1ba017,_0x22e607;return __generator(this,function(_0x21ece6){var _0x2e7928=a14_0x2a68;switch(_0x21ece6[_0x2e7928(0x24a)]){case 0x0:return[0x4,docker[_0x2e7928(0x20e)]()];case 0x1:_0x1ba017=_0x21ece6[_0x2e7928(0x296)]();return[0x4,detectDockerVersion(_0x1ba017[_0x2e7928(0x291)]||'')];case 0x2:_0x21ece6[_0x2e7928(0x296)](),_0x22e607=(_0x1ba017['Labels']||[])[_0x2e7928(0x1e0)](function(_0x27687f){var _0x40eb2c=_0x2e7928;return lodash_1[_0x40eb2c(0x1b1)]['split'](_0x27687f,'=',0x2);})['filter'](function(_0x1a293d){var _0x5ce917=_0x2e7928;return _0x1a293d[_0x5ce917(0x200)]===0x2;})[_0x2e7928(0x23c)](function(_0x3fa1fa,_0x475f6e){return _0x3fa1fa[_0x475f6e[0x0]]=_0x475f6e[0x1],_0x3fa1fa;},{});return[0x2,process[_0x2e7928(0x277)]===_0x2e7928(0x222)&&_0x22e607[_0x2e7928(0x209)]===_0x2e7928(0x1eb)];}});});}exports[a14_0x598652(0x262)]=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0xbea1b0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2d3899;return __generator(this,function(_0x13e4be){var _0x54bf65=a14_0x2a68;_0x2d3899=_0xbea1b0[_0x54bf65(0x245)]('.');if(Number[_0x54bf65(0x1fe)](_0x2d3899[0x0])===0x1&&Number[_0x54bf65(0x1fe)](_0x2d3899[0x1])<=0xd)throw new Error(_0x54bf65(0x1cd)+_0xbea1b0+_0x54bf65(0x254));return[0x2];});});}exports['detectDockerVersion']=detectDockerVersion;function createContainer(_0x5681df){var _0x10c976;return __awaiter(this,void 0x0,void 0x0,function(){var _0x140383,_0x4b98aa,_0x6f3e9f,_0x32429a,_0x4cc549,_0x34a6ab;return __generator(this,function(_0x5ea690){var _0x33359b=a14_0x2a68;switch(_0x5ea690[_0x33359b(0x24a)]){case 0x0:_0x140383=process['platform']===_0x33359b(0x222),_0x4b98aa=process[_0x33359b(0x277)]==='darwin';if(!(_0x5681df&&_0x4b98aa))return[0x3,0x2];if(!_0x5681df[_0x33359b(0x236)])return[0x3,0x2];return[0x4,docker_support_1[_0x33359b(0x293)]((_0x10c976=_0x5681df[_0x33359b(0x236)])===null||_0x10c976===void 0x0?void 0x0:_0x10c976[_0x33359b(0x1d3)])];case 0x1:_0x6f3e9f=_0x5ea690[_0x33359b(0x296)]();if(_0x4b98aa&&_0x6f3e9f[_0x33359b(0x200)]>0x0)throw new Error(_0x33359b(0x213)+_0x6f3e9f+_0x33359b(0x25d));_0x5ea690[_0x33359b(0x24a)]=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x32429a=_0x5ea690[_0x33359b(0x296)](),_0x5ea690[_0x33359b(0x24a)]=0x4;case 0x4:_0x5ea690[_0x33359b(0x1dc)][_0x33359b(0x1b4)]([0x4,0x6,,0x7]);return[0x4,docker[_0x33359b(0x1f6)](_0x5681df)];case 0x5:_0x4cc549=_0x5ea690[_0x33359b(0x296)]();return[0x3,0x7];case 0x6:_0x34a6ab=_0x5ea690[_0x33359b(0x296)]();if(_0x34a6ab[_0x33359b(0x1e3)][_0x33359b(0x1d1)](_0x33359b(0x265))!==-0x1&&_0x32429a)throw new Error('The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.');if(_0x34a6ab['message']['indexOf'](_0x33359b(0x28f))!==-0x1&&_0x140383)throw new Error(_0x34a6ab['message']+'More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives');throw _0x34a6ab;case 0x7:return[0x2,_0x4cc549];}});});}function resolveNasConfigToMounts(_0x2d27de,_0x48a1da,_0x3de640,_0x521ca9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d766f;return __generator(this,function(_0x41c24a){var _0x56580a=a14_0x2a68;switch(_0x41c24a[_0x56580a(0x24a)]){case 0x0:return[0x4,nas['convertNasConfigToNasMappings'](_0x521ca9,_0x3de640,_0x48a1da)];case 0x1:_0x5d766f=_0x41c24a['sent']();return[0x2,convertNasMappingsToMounts(devs_1[_0x56580a(0x21d)](_0x2d27de),_0x5d766f)];}});});}exports[a14_0x598652(0x1f9)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x3bf43d,_0x5e34b7){var _0x19efa4=a14_0x598652;return _0x5e34b7[_0x19efa4(0x1e0)](function(_0x3eaa9c){var _0x2717e2=_0x19efa4;return{'Type':'bind','Source':path_1[_0x2717e2(0x1b1)][_0x2717e2(0x1f5)](_0x3bf43d,_0x3eaa9c[_0x2717e2(0x1ee)]),'Target':_0x3eaa9c['remoteNasDir'],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x105023){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x12e159){var _0xd67e94=a14_0x2a68;if(!_0x105023)return[0x2,{}];return[0x2,{'Type':_0xd67e94(0x1e5),'Source':_0x105023,'Target':_0xd67e94(0x1cf),'ReadOnly':![]}];});});}exports['resolveTmpDirToMount']=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x2ba7ce){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2f49ed;return __generator(this,function(_0xe994c6){var _0x535bbd=a14_0x2a68;if(!_0x2ba7ce)return[0x2,{}];return _0x2f49ed=path_1[_0x535bbd(0x1b1)]['resolve'](_0x2ba7ce),[0x2,{'Type':'bind','Source':_0x2f49ed,'Target':_0x535bbd(0x263),'ReadOnly':![]}];});});}exports[a14_0x598652(0x242)]=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x9d62bd;return __generator(this,function(_0x3b9f79){var _0x3daed2=a14_0x2a68;switch(_0x3b9f79['label']){case 0x0:if(!(process['platform']===_0x3daed2(0x212)))return[0x3,0x2];_0x9d62bd={'Type':_0x3daed2(0x1e5)};return[0x4,passwd_1[_0x3daed2(0x256)]()];case 0x1:return[0x2,(_0x9d62bd[_0x3daed2(0x26a)]=_0x3b9f79[_0x3daed2(0x296)](),_0x9d62bd['Target']=_0x3daed2(0x25e),_0x9d62bd[_0x3daed2(0x294)]=!![],_0x9d62bd)];case 0x2:return[0x2,null];}});});}exports[a14_0x598652(0x281)]=resolvePasswdMount;function createAndRunContainer(_0xb087b5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x50bda0;return __generator(this,function(_0xfe629f){var _0x4aed55=a14_0x2a68;switch(_0xfe629f[_0x4aed55(0x24a)]){case 0x0:return[0x4,createContainer(_0xb087b5)];case 0x1:_0x50bda0=_0xfe629f[_0x4aed55(0x296)](),containers['add'](_0x50bda0['id']);return[0x4,_0x50bda0['start']({})];case 0x2:_0xfe629f[_0x4aed55(0x296)]();return[0x2,_0x50bda0];}});});}exports[a14_0x598652(0x1ad)]=createAndRunContainer;function showDebugIdeTipsForVscode(_0x54176b,_0x3eb4c6,_0x1a84dd,_0x4a5d92,_0x519cda){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4f9ddb;return __generator(this,function(_0x3fef15){var _0xee2a09=a14_0x2a68;switch(_0x3fef15[_0xee2a09(0x24a)]){case 0x0:return[0x4,debug_1[_0xee2a09(0x1f3)](_0x54176b,_0x3eb4c6,_0x1a84dd,_0x4a5d92,_0x519cda)];case 0x1:_0x4f9ddb=_0x3fef15[_0xee2a09(0x296)](),logger_1['default'][_0xee2a09(0x1f1)](_0xee2a09(0x23a),_0xee2a09(0x25f)),logger_1[_0xee2a09(0x1b1)][_0xee2a09(0x1f1)](_0xee2a09(0x20d)),logger_1[_0xee2a09(0x1b1)][_0xee2a09(0x1f1)](JSON[_0xee2a09(0x1ec)](_0x4f9ddb,null,0x4)),logger_1[_0xee2a09(0x1b1)][_0xee2a09(0x1f1)](_0xee2a09(0x295));return[0x2];}});});}exports[a14_0x598652(0x1ef)]=showDebugIdeTipsForVscode;function writeDebugIdeConfigForVscode(_0x1afed5,_0x1a0e04,_0x3c8b67,_0x41a2dd,_0x1fee47,_0x46a5e9){return __awaiter(this,void 0x0,void 0x0,function(){var _0x475a52,_0x1dce69,_0x568e4a,_0x2ed4ae,_0x3da6f7,_0x528e72,_0x3bc86e,_0x85bafe;return __generator(this,function(_0x45608f){var _0x1d6ba3=a14_0x2a68;switch(_0x45608f['label']){case 0x0:_0x475a52=path_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x289)](_0x1afed5,'.vscode'),_0x1dce69=path_1['default']['join'](_0x475a52,_0x1d6ba3(0x243)),_0x45608f[_0x1d6ba3(0x24a)]=0x1;case 0x1:_0x45608f[_0x1d6ba3(0x1dc)][_0x1d6ba3(0x1b4)]([0x1,0x3,,0x5]);return[0x4,fs['ensureDir'](path_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x272)](_0x1dce69))];case 0x2:_0x45608f[_0x1d6ba3(0x296)]();return[0x3,0x5];case 0x3:_0x568e4a=_0x45608f[_0x1d6ba3(0x296)](),logger_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x201)]('Ensure\x20directory:\x20'+_0x475a52+'\x20failed.');return[0x4,showDebugIdeTipsForVscode(_0x1a0e04,_0x3c8b67,_0x41a2dd,_0x1fee47,_0x46a5e9)];case 0x4:_0x45608f[_0x1d6ba3(0x296)](),logger_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x1d8)]('Ensure\x20directory:\x20'+_0x475a52+_0x1d6ba3(0x1ca)+_0x568e4a);return[0x2];case 0x5:return[0x4,debug_1[_0x1d6ba3(0x1f3)](_0x1a0e04,_0x3c8b67,_0x41a2dd,_0x1fee47,_0x46a5e9)];case 0x6:_0x2ed4ae=_0x45608f[_0x1d6ba3(0x296)]();if(!(fs[_0x1d6ba3(0x214)](_0x1dce69)&&fs[_0x1d6ba3(0x237)](_0x1dce69)['isFile']()))return[0x3,0x9];_0x3bc86e=(_0x528e72=JSON)[_0x1d6ba3(0x268)];return[0x4,fs['readFile'](_0x1dce69,{'encoding':_0x1d6ba3(0x27c)})];case 0x7:_0x3da6f7=_0x3bc86e['apply'](_0x528e72,[_0x45608f[_0x1d6ba3(0x296)]()]);if(lodash_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x1ba)](_0x3da6f7,_0x2ed4ae))return[0x2];logger_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x201)](_0x1d6ba3(0x23d)+_0x1dce69+_0x1d6ba3(0x1dd));return[0x4,showDebugIdeTipsForVscode(_0x1a0e04,_0x3c8b67,_0x41a2dd,_0x1fee47,_0x46a5e9)];case 0x8:_0x45608f['sent']();return[0x2];case 0x9:_0x45608f[_0x1d6ba3(0x1dc)][_0x1d6ba3(0x1b4)]([0x9,0xb,,0xd]);return[0x4,fs[_0x1d6ba3(0x1c6)](_0x1dce69,JSON[_0x1d6ba3(0x1ec)](_0x2ed4ae,null,'\x20\x20'),{'encoding':_0x1d6ba3(0x27c),'flag':'w'})];case 0xa:_0x45608f[_0x1d6ba3(0x296)]();return[0x3,0xd];case 0xb:_0x85bafe=_0x45608f['sent'](),logger_1[_0x1d6ba3(0x1b1)][_0x1d6ba3(0x201)](_0x1d6ba3(0x216)+_0x1dce69+'\x20failed.');return[0x4,showDebugIdeTipsForVscode(_0x1a0e04,_0x3c8b67,_0x41a2dd,_0x1fee47,_0x46a5e9)];case 0xc:_0x45608f[_0x1d6ba3(0x296)](),logger_1['default'][_0x1d6ba3(0x1d8)](_0x1d6ba3(0x216)+_0x1dce69+_0x1d6ba3(0x1ca)+_0x85bafe);return[0x3,0xd];case 0xd:return[0x2];}});});}exports[a14_0x598652(0x1e9)]=writeDebugIdeConfigForVscode;function showDebugIdeTipsForPycharm(_0x36b329,_0x5ad7b3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x282fbf;return __generator(this,function(_0x5c2e41){var _0x7d8dee=a14_0x2a68;switch(_0x5c2e41[_0x7d8dee(0x24a)]){case 0x0:return[0x4,fs[_0x7d8dee(0x233)](_0x36b329)];case 0x1:_0x282fbf=_0x5c2e41[_0x7d8dee(0x296)]();!_0x282fbf[_0x7d8dee(0x1de)]()&&(_0x36b329=path_1[_0x7d8dee(0x1b1)][_0x7d8dee(0x272)](_0x36b329));logger_1[_0x7d8dee(0x1b1)][_0x7d8dee(0x1f1)](_0x7d8dee(0x1d7)+ip['address']()+_0x7d8dee(0x205)+_0x5ad7b3+_0x7d8dee(0x206)+_0x36b329+_0x7d8dee(0x1b8)+ip[_0x7d8dee(0x230)]()+_0x7d8dee(0x224)+_0x5ad7b3+_0x7d8dee(0x22d),_0x7d8dee(0x25f));return[0x2];}});});}exports[a14_0x598652(0x266)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x55257e,_0x413f8c){var _0x172e96=a14_0x598652;_0x413f8c&&_0x55257e[_0x172e96(0x1e4)](_0x413f8c),_0x55257e['end']();}function startContainer(_0xd6640e,_0x1de334,_0x5ac4ab,_0x4752b5){return __awaiter(this,void 0x0,void 0x0,function(){var _0x53e95c,_0x4be9a0,_0x23af9d,_0x302643,_0x205d0c=this;return __generator(this,function(_0x2da60c){var _0xf1e560=a14_0x2a68;switch(_0x2da60c[_0xf1e560(0x24a)]){case 0x0:return[0x4,createContainer(_0xd6640e)];case 0x1:_0x53e95c=_0x2da60c['sent'](),containers[_0xf1e560(0x26f)](_0x53e95c['id']),_0x2da60c[_0xf1e560(0x24a)]=0x2;case 0x2:_0x2da60c[_0xf1e560(0x1dc)][_0xf1e560(0x1b4)]([0x2,0x4,,0x5]);return[0x4,_0x53e95c['start']({})];case 0x3:_0x2da60c['sent']();return[0x3,0x5];case 0x4:_0x4be9a0=_0x2da60c[_0xf1e560(0x296)](),logger_1[_0xf1e560(0x1b1)][_0xf1e560(0x21c)](_0x4be9a0);return[0x3,0x5];case 0x5:_0x23af9d=_0x1de334||_0x5ac4ab;if(!_0x23af9d)return[0x3,0x7];!_0x1de334&&(_0x1de334=dev_null_1[_0xf1e560(0x1b1)]());!_0x5ac4ab&&(_0x5ac4ab=dev_null_1[_0xf1e560(0x1b1)]());return[0x4,_0x53e95c[_0xf1e560(0x1d9)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x302643=_0x2da60c[_0xf1e560(0x296)](),_0x53e95c[_0xf1e560(0x28b)][_0xf1e560(0x21a)](_0x302643,_0x1de334,error_processor_1[_0xf1e560(0x1e1)]({'serviceName':_0x4752b5['serviceName'],'functionName':_0x4752b5[_0xf1e560(0x1f8)],'errorStream':_0x5ac4ab})),_0x2da60c[_0xf1e560(0x24a)]=0x7;case 0x7:return[0x2,{'containerId':_0x53e95c===null||_0x53e95c===void 0x0?void 0x0:_0x53e95c['id'],'stop':function(){return __awaiter(_0x205d0c,void 0x0,void 0x0,function(){return __generator(this,function(_0x4634ff){var _0x3aa098=a14_0x2a68;switch(_0x4634ff[_0x3aa098(0x24a)]){case 0x0:logger_1[_0x3aa098(0x1b1)][_0x3aa098(0x1d8)](_0x3aa098(0x220)+_0x53e95c['id']);return[0x4,_0x53e95c[_0x3aa098(0x287)]()];case 0x1:_0x4634ff['sent'](),containers[_0x3aa098(0x23f)](_0x53e95c['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x205d0c,void 0x0,void 0x0,function(){return __generator(this,function(_0x2e7214){var _0x8a5fbf=a14_0x2a68;switch(_0x2e7214['label']){case 0x0:logger_1[_0x8a5fbf(0x1b1)]['debug'](_0x8a5fbf(0x285)+_0x53e95c['id']);return[0x4,_0x53e95c[_0x8a5fbf(0x264)]()];case 0x1:_0x2e7214[_0x8a5fbf(0x296)](),containers[_0x8a5fbf(0x23f)](_0x53e95c['id']);return[0x2];}});});},'exec':function(_0x95cb2c,_0x9b8e74){var _0x370981=_0xf1e560,_0x12df50=_0x9b8e74===void 0x0?{}:_0x9b8e74,_0x260b19=_0x12df50[_0x370981(0x20a)],_0x821e64=_0x260b19===void 0x0?'':_0x260b19,_0x6e2c72=_0x12df50['env'],_0x34b70e=_0x6e2c72===void 0x0?{}:_0x6e2c72,_0x34020b=_0x12df50[_0x370981(0x1c4)],_0x95b49=_0x34020b===void 0x0?process[_0x370981(0x1fb)]:_0x34020b,_0x5872f3=_0x12df50[_0x370981(0x1ed)],_0xd6c99c=_0x5872f3===void 0x0?process[_0x370981(0x28c)]:_0x5872f3,_0x5c4b02=_0x12df50[_0x370981(0x231)],_0xd038d7=_0x5c4b02===void 0x0?![]:_0x5c4b02,_0x285312=_0x12df50[_0x370981(0x1c8)],_0x33d996=_0x285312===void 0x0?{}:_0x285312,_0x50ba1d=_0x12df50[_0x370981(0x244)],_0x36a558=_0x50ba1d===void 0x0?null:_0x50ba1d;return __awaiter(_0x205d0c,void 0x0,void 0x0,function(){var _0xb64a69,_0x2fac96,_0x594b13,_0x15d283;return __generator(this,function(_0x49f112){var _0x4c5509=a14_0x2a68;switch(_0x49f112[_0x4c5509(0x24a)]){case 0x0:_0xb64a69=_0x36a558?!![]:![],_0x2fac96={'Env':dockerOpts[_0x4c5509(0x27e)](_0x34b70e),'Tty':![],'AttachStdin':_0xb64a69,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x821e64};_0x95cb2c!==[]&&(_0x2fac96[_0x4c5509(0x217)]=_0x95cb2c);logger_1[_0x4c5509(0x1b1)]['debug'](_0x4c5509(0x248)+JSON[_0x4c5509(0x1ec)](_0x2fac96,null,0x4));return[0x4,_0x53e95c[_0x4c5509(0x276)](_0x2fac96)];case 0x1:_0x594b13=_0x49f112[_0x4c5509(0x296)]();return[0x4,_0x594b13[_0x4c5509(0x286)]({'hijack':!![],'stdin':_0xb64a69})];case 0x2:_0x15d283=_0x49f112[_0x4c5509(0x296)]();return[0x4,new Promise(function(_0x3b8226){return setTimeout(_0x3b8226,0x1e);})];case 0x3:_0x49f112[_0x4c5509(0x296)]();_0x36a558!==null&&writeEventToStreamAndClose(_0x15d283,_0x36a558);!_0x95b49&&(_0x95b49=process[_0x4c5509(0x1fb)]);!_0xd6c99c&&(_0xd6c99c=process[_0x4c5509(0x28c)]);_0xd038d7?_0x53e95c[_0x4c5509(0x28b)][_0x4c5509(0x21a)](_0x15d283,_0x95b49,_0xd6c99c):_0x53e95c[_0x4c5509(0x28b)][_0x4c5509(0x21a)](_0x15d283,dev_null_1[_0x4c5509(0x1b1)](),_0xd6c99c);return[0x4,waitForExec(_0x594b13)];case 0x4:return[0x2,_0x49f112[_0x4c5509(0x296)]()];}});});}}];}});});}exports['startContainer']=startContainer;function waitForExec(_0x139ca1){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x521bf1){var _0x21a395=a14_0x2a68;switch(_0x521bf1[_0x21a395(0x24a)]){case 0x0:return[0x4,new Promise(function(_0x57b0b3,_0x4e9260){function _0x3f7bd8(){_0x139ca1['inspect'](function(_0x330271,_0x233fba){var _0x5ea946=a14_0x2a68;if(_0x233fba[_0x5ea946(0x282)]){setTimeout(_0x3f7bd8,0x64);return;}if(_0x330271)_0x4e9260(_0x330271);else _0x233fba['ExitCode']!==0x0?_0x4e9260(_0x233fba[_0x5ea946(0x1c7)][_0x5ea946(0x1cc)]+_0x5ea946(0x26d)+_0x233fba[_0x5ea946(0x1c0)]):_0x57b0b3(_0x233fba[_0x5ea946(0x1c0)]);});}_0x3f7bd8();})];case 0x1:return[0x2,_0x521bf1[_0x21a395(0x296)]()];}});});}function a14_0x2a68(_0x5e1d12,_0x4a442c){return a14_0x2a68=function(_0x8df320,_0x2a68b3){_0x8df320=_0x8df320-0x1ad;var _0x5444c4=a14_0x8df3[_0x8df320];return _0x5444c4;},a14_0x2a68(_0x5e1d12,_0x4a442c);}function run(_0x4aa1af,_0x1f41e9,_0x45f06f,_0x2be8ba,_0x4501cf){return _0x4501cf===void 0x0&&(_0x4501cf={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x17b033,_0x52caf0,_0x40b349,_0x462d14;return __generator(this,function(_0x598a31){var _0xc0d72c=a14_0x2a68;switch(_0x598a31[_0xc0d72c(0x24a)]){case 0x0:return[0x4,runContainer(_0x4aa1af,_0x45f06f,_0x2be8ba,_0x4501cf)];case 0x1:_0x17b033=_0x598a31[_0xc0d72c(0x296)](),_0x52caf0=_0x17b033['container'],_0x40b349=_0x17b033[_0xc0d72c(0x255)],writeEventToStreamAndClose(_0x40b349,_0x1f41e9);return[0x4,_0x52caf0[_0xc0d72c(0x22b)]()];case 0x2:_0x462d14=_0x598a31[_0xc0d72c(0x296)](),containers[_0xc0d72c(0x23f)](_0x52caf0['id']),streams[_0xc0d72c(0x23f)](_0x40b349);return[0x2,_0x462d14];}});});}exports[a14_0x598652(0x1ae)]=run;function stopContainer(_0x32f317){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3fb016,_0x2a5845,_0x55a145;return __generator(this,function(_0xdf1d4c){var _0x1c5616=a14_0x2a68;switch(_0xdf1d4c[_0x1c5616(0x24a)]){case 0x0:_0x3fb016=core[_0x1c5616(0x21e)]('Stopping\x20the\x20container:\x20'+_0x32f317['id']),_0xdf1d4c[_0x1c5616(0x24a)]=0x1;case 0x1:_0xdf1d4c['trys'][_0x1c5616(0x1b4)]([0x1,0x3,,0x8]);return[0x4,_0x32f317[_0x1c5616(0x287)]()];case 0x2:_0xdf1d4c[_0x1c5616(0x296)](),_0x3fb016['succeed'](_0x1c5616(0x27d));return[0x3,0x8];case 0x3:_0x2a5845=_0xdf1d4c['sent'](),_0x3fb016['fail'](_0x1c5616(0x246)),logger_1['default'][_0x1c5616(0x1d8)]('Stop\x20the\x20container:\x20'+_0x32f317['id']+_0x1c5616(0x1ca)+_0x2a5845),_0x3fb016=core[_0x1c5616(0x21e)]('Killing\x20the\x20container:\x20'+_0x32f317['id']),_0xdf1d4c[_0x1c5616(0x24a)]=0x4;case 0x4:_0xdf1d4c[_0x1c5616(0x1dc)][_0x1c5616(0x1b4)]([0x4,0x6,,0x7]);return[0x4,_0x32f317[_0x1c5616(0x264)]()];case 0x5:_0xdf1d4c[_0x1c5616(0x296)](),_0x3fb016[_0x1c5616(0x1b2)](_0x1c5616(0x1fd));return[0x3,0x7];case 0x6:_0x55a145=_0xdf1d4c[_0x1c5616(0x296)](),_0x3fb016[_0x1c5616(0x227)](_0x1c5616(0x240)),logger_1[_0x1c5616(0x1b1)]['debug'](_0x1c5616(0x27f)+_0x32f317['id']+'\x20failed,\x20error:\x20'+_0x55a145);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x598652(0x218)]=stopContainer;