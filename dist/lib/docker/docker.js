'use strict';var a14_0x16f6=['DOCKER_REGISTRIES','createContainer','convertNasConfigToNasMappings','showDebugIdeTipsForPycharm','virtualbox','drive\x20is\x20not\x20shared','__awaiter','Labels','../utils/passwd','call','/tmp','env','resolveCodeUriToMount','defineProperty','/code','iterator','end','warning','Stop\x20container\x20succeed.','pullFcImageIfNeed','Skip\x20pulling\x20image\x20','functionName','slice','args','log','../error-processor','__importDefault','yellow','indexOf','pull','memorySize','__generator','stderr','toString','/tmp/debugger_files','start','2081elCOWd','utf8','info','581CJrtOn','isEqual','1539781aNaVXg','status','../devs','\x20to\x20pull\x20image\x20by\x20yourself.','aux.ID','invalid\x20mount\x20config\x20for\x20type','value','isAutoConfig','push','timeout','command','ProcessConfig','Stopping\x20container:\x20','dev-null','run','5419qXXtdh','Cmd','message','dirname','succeed','lstat','ops','address','sent','ExitCode','followProgress','getTime','\x20failed.','delete','debug','@serverless-devs/core','initializationTimeout','Killing\x20the\x20container:\x20','hasOwnProperty','\x20already\x20exists,\x20please\x20overwrite\x20it\x20with\x20the\x20following\x20config.','__importStar','Generator\x20is\x20already\x20executing.','__esModule','done','Stopping\x20the\x20container:\x20','createAndRunContainer','wait','demuxStream','verbose','apply','...','isDockerToolBoxAndEnsureDockerVersion','../utils/runtime','1611771UNUJUA','getImage','Source','readFile','progress','cwd','pathExistsSync','stop','--http','parse','initializer','runContainer','posix','reduce','./docker-support','first','imageExist','/////////////////\x20config\x20end\x20/////////////////','Running','resolvePasswdMount','handler','resolveNasConfigToMounts','serviceName','localNasDir','draft','return','resolveLibPathsFromLdConf','split','showDebugIdeTipsForVscode','throw','random','pullImage','basename',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','entrypoint','stdout','provider','Ensure\x20directory:\x20','stringify','__setModuleDefault','856882hFntTp','project','addEnv','Pulling\x20image\x20','length','HostConfig','findPathsOutofSharedPaths','win32','\x20exited\x20with\x20code\x20','resolveDebuggerPathToMount','--event','write','writeDebugIdeConfigForVscode','/////////////////\x20config\x20begin\x20/////////////////','Target','__createBinding','--event-decode','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','getRootBaseDir','__spreadArrays','Proxy\x20image\x20url:\x20','generatePwdFile','\x20failed,\x20error:\x20','ReadOnly','1152931omAcwc','Starting\x20docker\x20pull\x20','modem','stopContainer','then','ensureDir','generateFunctionEnvs','../definition','kill','isDirectory','generateDockerEnvs','logConfig','has','../local-invoke/nas','../local-invoke/debug','Please\x20add\x20directory\x20\x27','resolveTmpDirToMount','--initializationTimeout','Stop\x20the\x20container:\x20','startContainer','generateVscodeDebugConfig','skip\x20pulling\x20image\x20','tag','fail','listImages','writeFile','remoteNasDir','Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.','join','includes','docker\x20cmd:\x20','136DfNsuv','./docker-opts','event','lodash','runtime','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives','add','parseInt','ServerVersion','aux','File:\x20','detectDockerVersion','1241514SMfRJV','outputStream','\x0aPath\x20mappings\x20\x20:\x20','platform','/etc/passwd','AccountID','customContainerConfig','into','linux','fc_local_','default','draftlog','Kill\x20container\x20succeed','create','processorTransformFactory','generateDockerCmd','spinner','isCustomContainerRuntime','exec','errorStream','resolve','attach','bind','path','Mounts','pop',',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.','isFile','label','next','--stdin','inspect','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','lstatSync','last','codeUri','../../common/logger','stream','assign','logs','trys'];var a14_0x473524=a14_0xf6f1;(function(_0xa11116,_0x322124){var _0x589f00=a14_0xf6f1;while(!![]){try{var _0x21b450=-parseInt(_0x589f00(0x23c))+-parseInt(_0x589f00(0x20a))*parseInt(_0x589f00(0x207))+parseInt(_0x589f00(0x1ba))+-parseInt(_0x589f00(0x21b))*-parseInt(_0x589f00(0x1ae))+-parseInt(_0x589f00(0x264))+parseInt(_0x589f00(0x20c))+parseInt(_0x589f00(0x27e));if(_0x21b450===_0x322124)break;else _0xa11116['push'](_0xa11116['shift']());}catch(_0x254522){_0xa11116['push'](_0xa11116['shift']());}}}(a14_0x16f6,0xf28d8));var __createBinding=this&&this[a14_0x473524(0x273)]||(Object[a14_0x473524(0x1c7)]?function(_0x249ecc,_0x5c8077,_0x14e07f,_0x4372e8){var _0x40fa20=a14_0x473524;if(_0x4372e8===undefined)_0x4372e8=_0x14e07f;Object[_0x40fa20(0x1f0)](_0x249ecc,_0x4372e8,{'enumerable':!![],'get':function(){return _0x5c8077[_0x14e07f];}});}:function(_0x1596c6,_0x3f2b6d,_0x2b2807,_0x1a5cd8){if(_0x1a5cd8===undefined)_0x1a5cd8=_0x2b2807;_0x1596c6[_0x1a5cd8]=_0x3f2b6d[_0x2b2807];}),__setModuleDefault=this&&this[a14_0x473524(0x263)]||(Object[a14_0x473524(0x1c7)]?function(_0x2145c8,_0x1e45ee){var _0x2f3a6c=a14_0x473524;Object[_0x2f3a6c(0x1f0)](_0x2145c8,_0x2f3a6c(0x1c4),{'enumerable':!![],'value':_0x1e45ee});}:function(_0x234b65,_0x3e99da){_0x234b65['default']=_0x3e99da;}),__importStar=this&&this[a14_0x473524(0x22f)]||function(_0x3d287b){var _0x317964=a14_0x473524;if(_0x3d287b&&_0x3d287b['__esModule'])return _0x3d287b;var _0x134d7a={};if(_0x3d287b!=null){for(var _0x294b07 in _0x3d287b)if(_0x294b07!==_0x317964(0x1c4)&&Object[_0x317964(0x22d)]['call'](_0x3d287b,_0x294b07))__createBinding(_0x134d7a,_0x3d287b,_0x294b07);}return __setModuleDefault(_0x134d7a,_0x3d287b),_0x134d7a;},__awaiter=this&&this[a14_0x473524(0x1e9)]||function(_0x1bd46a,_0x47afd2,_0x3a0e81,_0x54d157){function _0x828e5b(_0x581532){return _0x581532 instanceof _0x3a0e81?_0x581532:new _0x3a0e81(function(_0x17da5f){_0x17da5f(_0x581532);});}return new(_0x3a0e81||(_0x3a0e81=Promise))(function(_0x168458,_0x73ab61){var _0x10c5d6=a14_0xf6f1;function _0xb0bd68(_0x268013){try{_0x35a4c6(_0x54d157['next'](_0x268013));}catch(_0x4e6a04){_0x73ab61(_0x4e6a04);}}function _0x431e82(_0x4b2d90){var _0x5d5dc0=a14_0xf6f1;try{_0x35a4c6(_0x54d157[_0x5d5dc0(0x259)](_0x4b2d90));}catch(_0x4d5861){_0x73ab61(_0x4d5861);}}function _0x35a4c6(_0x487ba9){var _0x11468f=a14_0xf6f1;_0x487ba9[_0x11468f(0x232)]?_0x168458(_0x487ba9[_0x11468f(0x212)]):_0x828e5b(_0x487ba9[_0x11468f(0x212)])[_0x11468f(0x282)](_0xb0bd68,_0x431e82);}_0x35a4c6((_0x54d157=_0x54d157[_0x10c5d6(0x238)](_0x1bd46a,_0x47afd2||[]))[_0x10c5d6(0x1d7)]());});},__generator=this&&this[a14_0x473524(0x202)]||function(_0x3df1f2,_0x40dc08){var _0x21e5cc=a14_0x473524,_0x161add={'label':0x0,'sent':function(){if(_0x918f5[0x0]&0x1)throw _0x918f5[0x1];return _0x918f5[0x1];},'trys':[],'ops':[]},_0x28b1b9,_0x4b9b59,_0x918f5,_0x121cca;return _0x121cca={'next':_0x24d6ba(0x0),'throw':_0x24d6ba(0x1),'return':_0x24d6ba(0x2)},typeof Symbol==='function'&&(_0x121cca[Symbol[_0x21e5cc(0x1f2)]]=function(){return this;}),_0x121cca;function _0x24d6ba(_0x56d0e9){return function(_0x7bdc4){return _0x4573bb([_0x56d0e9,_0x7bdc4]);};}function _0x4573bb(_0x42db03){var _0x386d47=_0x21e5cc;if(_0x28b1b9)throw new TypeError(_0x386d47(0x230));while(_0x161add)try{if(_0x28b1b9=0x1,_0x4b9b59&&(_0x918f5=_0x42db03[0x0]&0x2?_0x4b9b59[_0x386d47(0x255)]:_0x42db03[0x0]?_0x4b9b59['throw']||((_0x918f5=_0x4b9b59[_0x386d47(0x255)])&&_0x918f5[_0x386d47(0x1ec)](_0x4b9b59),0x0):_0x4b9b59[_0x386d47(0x1d7)])&&!(_0x918f5=_0x918f5['call'](_0x4b9b59,_0x42db03[0x1]))[_0x386d47(0x232)])return _0x918f5;if(_0x4b9b59=0x0,_0x918f5)_0x42db03=[_0x42db03[0x0]&0x2,_0x918f5[_0x386d47(0x212)]];switch(_0x42db03[0x0]){case 0x0:case 0x1:_0x918f5=_0x42db03;break;case 0x4:_0x161add[_0x386d47(0x1d6)]++;return{'value':_0x42db03[0x1],'done':![]};case 0x5:_0x161add[_0x386d47(0x1d6)]++,_0x4b9b59=_0x42db03[0x1],_0x42db03=[0x0];continue;case 0x7:_0x42db03=_0x161add[_0x386d47(0x221)]['pop'](),_0x161add[_0x386d47(0x1e2)][_0x386d47(0x1d3)]();continue;default:if(!(_0x918f5=_0x161add[_0x386d47(0x1e2)],_0x918f5=_0x918f5[_0x386d47(0x268)]>0x0&&_0x918f5[_0x918f5[_0x386d47(0x268)]-0x1])&&(_0x42db03[0x0]===0x6||_0x42db03[0x0]===0x2)){_0x161add=0x0;continue;}if(_0x42db03[0x0]===0x3&&(!_0x918f5||_0x42db03[0x1]>_0x918f5[0x0]&&_0x42db03[0x1]<_0x918f5[0x3])){_0x161add[_0x386d47(0x1d6)]=_0x42db03[0x1];break;}if(_0x42db03[0x0]===0x6&&_0x161add[_0x386d47(0x1d6)]<_0x918f5[0x1]){_0x161add['label']=_0x918f5[0x1],_0x918f5=_0x42db03;break;}if(_0x918f5&&_0x161add[_0x386d47(0x1d6)]<_0x918f5[0x2]){_0x161add['label']=_0x918f5[0x2],_0x161add['ops'][_0x386d47(0x214)](_0x42db03);break;}if(_0x918f5[0x2])_0x161add[_0x386d47(0x221)][_0x386d47(0x1d3)]();_0x161add[_0x386d47(0x1e2)]['pop']();continue;}_0x42db03=_0x40dc08[_0x386d47(0x1ec)](_0x3df1f2,_0x161add);}catch(_0x26f190){_0x42db03=[0x6,_0x26f190],_0x4b9b59=0x0;}finally{_0x28b1b9=_0x918f5=0x0;}if(_0x42db03[0x0]&0x5)throw _0x42db03[0x1];return{'value':_0x42db03[0x0]?_0x42db03[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x473524(0x279)]||function(){var _0x518272=a14_0x473524;for(var _0x552e9c=0x0,_0x2c2792=0x0,_0x3ea851=arguments[_0x518272(0x268)];_0x2c2792<_0x3ea851;_0x2c2792++)_0x552e9c+=arguments[_0x2c2792][_0x518272(0x268)];for(var _0x187068=Array(_0x552e9c),_0x448814=0x0,_0x2c2792=0x0;_0x2c2792<_0x3ea851;_0x2c2792++)for(var _0x15724a=arguments[_0x2c2792],_0x2e56d6=0x0,_0x2e9c1a=_0x15724a['length'];_0x2e56d6<_0x2e9c1a;_0x2e56d6++,_0x448814++)_0x187068[_0x448814]=_0x15724a[_0x2e56d6];return _0x187068;},__importDefault=this&&this[a14_0x473524(0x1fd)]||function(_0x4625d1){var _0x2a359a=a14_0x473524;return _0x4625d1&&_0x4625d1[_0x2a359a(0x231)]?_0x4625d1:{'default':_0x4625d1};};Object[a14_0x473524(0x1f0)](exports,'__esModule',{'value':!![]}),exports[a14_0x473524(0x281)]=exports[a14_0x473524(0x21a)]=exports[a14_0x473524(0x291)]=exports[a14_0x473524(0x1e6)]=exports[a14_0x473524(0x270)]=exports[a14_0x473524(0x258)]=exports[a14_0x473524(0x234)]=exports[a14_0x473524(0x24f)]=exports[a14_0x473524(0x26d)]=exports[a14_0x473524(0x28e)]=exports[a14_0x473524(0x251)]=exports[a14_0x473524(0x1b9)]=exports[a14_0x473524(0x23a)]=exports[a14_0x473524(0x1ef)]=exports['runContainer']=exports[a14_0x473524(0x25b)]=exports[a14_0x473524(0x1f6)]=exports['generateFunctionEnvs']=exports[a14_0x473524(0x288)]=exports[a14_0x473524(0x1c9)]=exports['pullImageIfNeed']=exports['generateRamdomContainerName']=exports[a14_0x473524(0x24c)]=void 0x0;var dockerode_1=__importDefault(require('dockerode')),logger_1=__importDefault(require(a14_0x473524(0x1de))),draftlog=__importStar(require(a14_0x473524(0x1c5))),docker_support_1=require(a14_0x473524(0x24a)),error_processor_1=require(a14_0x473524(0x1fc)),lodash_1=__importDefault(require(a14_0x473524(0x1b1))),nas=__importStar(require(a14_0x473524(0x28b))),path_1=__importDefault(require(a14_0x473524(0x1d1))),devs_1=require(a14_0x473524(0x20e)),fs=__importStar(require('fs-extra')),passwd_1=require(a14_0x473524(0x1eb)),dockerOpts=__importStar(require(a14_0x473524(0x1af))),debug_1=require(a14_0x473524(0x28c)),ip=__importStar(require('ip')),env_1=require('../local-invoke/env'),runtime_1=require(a14_0x473524(0x23b)),definition_1=require(a14_0x473524(0x285)),devnull=__importStar(require(a14_0x473524(0x219))),core=__importStar(require(a14_0x473524(0x22a))),isWin=process[a14_0x473524(0x1bd)]==='win32',docker=new dockerode_1['default']();draftlog[a14_0x473524(0x1c1)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x1947ca){return __awaiter(this,void 0x0,void 0x0,function(){var _0xeca3ac;return __generator(this,function(_0xd9b76c){var _0x49680e=a14_0xf6f1;switch(_0xd9b76c[_0x49680e(0x1d6)]){case 0x0:return[0x4,docker[_0x49680e(0x296)]({'filters':{'reference':[_0x1947ca]}})];case 0x1:_0xeca3ac=_0xd9b76c[_0x49680e(0x223)]();return[0x2,_0xeca3ac[_0x49680e(0x268)]>0x0];}});});}exports[a14_0x473524(0x24c)]=imageExist;function generateRamdomContainerName(){var _0x1c3528=a14_0x473524;return _0x1c3528(0x1c3)+new Date()[_0x1c3528(0x226)]()+'_'+Math[_0x1c3528(0x25a)]()[_0x1c3528(0x204)](0x24)['substr'](0x2,0x7);}exports['generateRamdomContainerName']=generateRamdomContainerName;function pullImageIfNeed(_0x2e6844,_0x249e23,_0x4b7b88,_0x2ed743){return __awaiter(this,void 0x0,void 0x0,function(){var _0xdfbe45,_0x19d81e;return __generator(this,function(_0x2173a5){var _0x48b35f=a14_0xf6f1;switch(_0x2173a5[_0x48b35f(0x1d6)]){case 0x0:_0xdfbe45=_0x2e6844+'/'+_0x249e23+'/'+_0x4b7b88+':'+_0x2ed743,logger_1['default']['debug'](_0x48b35f(0x27a)+_0xdfbe45);return[0x4,imageExist(_0xdfbe45)];case 0x1:if(!!_0x2173a5[_0x48b35f(0x223)]())return[0x3,0x3];logger_1[_0x48b35f(0x1c4)][_0x48b35f(0x229)](_0x48b35f(0x27f)+_0xdfbe45);return[0x4,docker[_0x48b35f(0x200)](_0xdfbe45)];case 0x2:_0x19d81e=_0x2173a5[_0x48b35f(0x223)](),_0x2173a5[_0x48b35f(0x1d6)]=0x3;case 0x3:return[0x4,new Promise(function(_0x24e1c0,_0x805c78){var _0x199001=_0x48b35f;if(_0x19d81e){var _0x312144=function(_0x1724d0){_0x1724d0&&_0x805c78(_0x1724d0),_0x24e1c0(_0xdfbe45);},_0x203260={},_0x16144c=function(_0x102705){var _0xe792a=a14_0xf6f1,_0x4c7ee4=_0x102705[_0xe792a(0x20d)];_0x102705[_0xe792a(0x240)]&&(_0x4c7ee4=_0x102705[_0xe792a(0x20d)]+'\x20'+_0x102705[_0xe792a(0x240)]);if(_0x102705['id']){var _0x558d24=_0x102705['id'];!_0x203260[_0x558d24]&&(_0x203260[_0x558d24]=console[_0xe792a(0x254)]()),_0x203260[_0x558d24](_0x558d24+':\x20'+_0x4c7ee4);}else{lodash_1[_0xe792a(0x1c4)]['has'](_0x102705,_0xe792a(0x210))&&(_0x102705[_0xe792a(0x1df)]=_0x102705[_0xe792a(0x1b7)]['ID']+'\x0a');var _0xb9bf3e=_0x102705['status']?_0x102705[_0xe792a(0x20d)]+'\x0a':_0x102705[_0xe792a(0x1df)];process[_0xe792a(0x25f)][_0xe792a(0x26f)](_0xb9bf3e);}};docker[_0x199001(0x280)][_0x199001(0x225)](_0x19d81e,_0x312144,_0x16144c);}else _0x24e1c0(_0xdfbe45);})];case 0x4:return[0x2,_0x2173a5[_0x48b35f(0x223)]()];}});});}exports['pullImageIfNeed']=pullImageIfNeed;function generateDockerCmd(_0x4ae139,_0x1e58bc,_0xf662e0,_0x1be747,_0x1caf9c,_0x1106d1){var _0x4ef67a=a14_0x473524;_0x1caf9c===void 0x0&&(_0x1caf9c=!![]);_0x1106d1===void 0x0&&(_0x1106d1=null);if(runtime_1[_0x4ef67a(0x1cb)](_0x4ae139))return genDockerCmdOfCustomContainer(_0xf662e0);else{if(_0x1e58bc)return['--server'];}return genDockerCmdOfNonCustomContainer(_0xf662e0,_0x1be747,_0x1caf9c,_0x1106d1);}exports[a14_0x473524(0x1c9)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x4d1053,_0x3ef323,_0x5bdfb6,_0x421e88){var _0xa48abf=a14_0x473524;_0x5bdfb6===void 0x0&&(_0x5bdfb6=!![]);_0x421e88===void 0x0&&(_0x421e88=null);var _0x1d5767=['-h',_0x4d1053['handler']];_0x421e88!==null?(_0x1d5767['push'](_0xa48abf(0x26e),Buffer['from'](_0x421e88)[_0xa48abf(0x204)]('base64')),_0x1d5767[_0xa48abf(0x214)](_0xa48abf(0x274))):_0x1d5767[_0xa48abf(0x214)](_0xa48abf(0x1d8));_0x3ef323&&_0x1d5767[_0xa48abf(0x214)](_0xa48abf(0x244));var _0x1bdc1a=_0x4d1053[_0xa48abf(0x246)];_0x1bdc1a&&_0x5bdfb6&&_0x1d5767[_0xa48abf(0x214)]('-i',_0x1bdc1a);var _0x423ec7=_0x4d1053[_0xa48abf(0x22b)];return _0x423ec7&&_0x1d5767[_0xa48abf(0x214)](_0xa48abf(0x28f),_0x423ec7[_0xa48abf(0x204)]()),logger_1[_0xa48abf(0x1c4)][_0xa48abf(0x229)](_0xa48abf(0x1ad)+_0x1d5767),_0x1d5767;}function genDockerCmdOfCustomContainer(_0x34c8b9){var _0x3fe270=a14_0x473524,_0x347ac2=_0x34c8b9['customContainerConfig'][_0x3fe270(0x216)]?JSON[_0x3fe270(0x245)](_0x34c8b9[_0x3fe270(0x1c0)][_0x3fe270(0x216)]):undefined,_0x59f825=_0x34c8b9['customContainerConfig'][_0x3fe270(0x1fa)]?JSON[_0x3fe270(0x245)](_0x34c8b9[_0x3fe270(0x1c0)]['args']):undefined;if(_0x347ac2&&_0x59f825)return __spreadArrays(_0x347ac2,_0x59f825);else{if(_0x347ac2)return _0x347ac2;else{if(_0x59f825)return _0x59f825;}}return[];}function generateDockerEnvs(_0x380e38,_0x3a9f10,_0x4966e0,_0x439db6,_0x164423,_0x20bc0a,_0x743247,_0x430b41,_0x44d22d,_0x21a39f,_0x86e529,_0x5433c1){return __awaiter(this,void 0x0,void 0x0,function(){var _0x104c34,_0xe88872,_0x58ba44,_0x201771,_0x3747ff;return __generator(this,function(_0x46e399){var _0x53efae=a14_0xf6f1;switch(_0x46e399[_0x53efae(0x1d6)]){case 0x0:_0x104c34={};_0x44d22d&&Object[_0x53efae(0x1e0)](_0x104c34,{'FC_HTTP_PARAMS':_0x44d22d});return[0x4,env_1[_0x53efae(0x256)](_0x4966e0,_0x743247[_0x53efae(0x1dd)])];case 0x1:_0xe88872=_0x46e399[_0x53efae(0x223)](),Object['assign'](_0x104c34,_0xe88872),_0x58ba44=_0x743247[_0x53efae(0x1b2)];if(_0x430b41&&!_0x5433c1)_0x201771=debug_1['generateDebugEnv'](_0x58ba44,_0x430b41,_0x86e529),Object[_0x53efae(0x1e0)](_0x104c34,_0x201771);else _0x5433c1&&Object[_0x53efae(0x1e0)](_0x104c34,{'DEBUG_OPTIONS':_0x5433c1});Object[_0x53efae(0x1e0)](_0x104c34,generateFunctionEnvs(_0x743247));definition_1[_0x53efae(0x213)](_0x164423===null||_0x164423===void 0x0?void 0x0:_0x164423[_0x53efae(0x289)])?_0x3747ff=definition_1['resolveAutoLogConfig'](_0x380e38===null||_0x380e38===void 0x0?void 0x0:_0x380e38[_0x53efae(0x1bf)],_0x3a9f10,_0x439db6):_0x3747ff=_0x164423===null||_0x164423===void 0x0?void 0x0:_0x164423[_0x53efae(0x289)];(_0x743247===null||_0x743247===void 0x0?void 0x0:_0x743247[_0x53efae(0x1b2)][_0x53efae(0x29b)]('java'))&&Object[_0x53efae(0x1e0)](_0x104c34,{'fc_enable_new_java_ca':!![]});Object[_0x53efae(0x1e0)](_0x104c34,{'local':!![],'FC_ACCESS_KEY_ID':_0x380e38===null||_0x380e38===void 0x0?void 0x0:_0x380e38['AccessKeyID'],'FC_ACCESS_KEY_SECRET':_0x380e38===null||_0x380e38===void 0x0?void 0x0:_0x380e38['AccessKeySecret'],'FC_SECURITY_TOKEN':_0x380e38===null||_0x380e38===void 0x0?void 0x0:_0x380e38['SecurityToken'],'FC_ACCOUNT_ID':_0x380e38===null||_0x380e38===void 0x0?void 0x0:_0x380e38[_0x53efae(0x1bf)],'FC_REGION':_0x3a9f10,'FC_FUNCTION_NAME':_0x20bc0a,'FC_HANDLER':_0x743247[_0x53efae(0x250)],'FC_MEMORY_SIZE':_0x743247[_0x53efae(0x201)]||0x80,'FC_TIMEOUT':_0x743247[_0x53efae(0x215)]||0x3,'FC_INITIALIZER':_0x743247[_0x53efae(0x246)],'FC_INITIALIZATION_TIMEOUT':_0x743247[_0x53efae(0x22b)]||0x3,'FC_SERVICE_NAME':_0x439db6,'FC_SERVICE_LOG_PROJECT':_0x3747ff===null||_0x3747ff===void 0x0?void 0x0:_0x3747ff[_0x53efae(0x265)],'FC_SERVICE_LOG_STORE':_0x3747ff===null||_0x3747ff===void 0x0?void 0x0:_0x3747ff['logstore']});if(runtime_1[_0x53efae(0x1cb)](_0x743247[_0x53efae(0x1b2)]))return[0x2,_0x104c34];return[0x2,env_1[_0x53efae(0x266)](_0x104c34,_0x21a39f)];}});});}exports[a14_0x473524(0x288)]=generateDockerEnvs;function generateFunctionEnvs(_0x1fa8be){var _0x4258f7=a14_0x473524,_0x28d096=_0x1fa8be['environmentVariables'];if(!_0x28d096)return{};return Object[_0x4258f7(0x1e0)]({},_0x28d096);}exports[a14_0x473524(0x284)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x240359){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5e46be;return __generator(this,function(_0x8766f7){var _0x42814d=a14_0xf6f1;switch(_0x8766f7['label']){case 0x0:return[0x4,imageExist(_0x240359)];case 0x1:_0x5e46be=_0x8766f7[_0x42814d(0x223)]();if(!(!_0x5e46be||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x240359)];case 0x2:_0x8766f7[_0x42814d(0x223)]();return[0x3,0x4];case 0x3:logger_1[_0x42814d(0x1c4)][_0x42814d(0x229)](_0x42814d(0x293)+_0x240359+_0x42814d(0x239)),logger_1[_0x42814d(0x1c4)][_0x42814d(0x209)](_0x42814d(0x1f7)+_0x240359+_0x42814d(0x239)),_0x8766f7[_0x42814d(0x1d6)]=0x4;case 0x4:return[0x2];}});});}exports['pullFcImageIfNeed']=pullFcImageIfNeed;function pullImage(_0x1094f4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x494041,_0xd8f9f8,_0x27993f=this;return __generator(this,function(_0x336634){var _0x569e35=a14_0xf6f1;switch(_0x336634[_0x569e35(0x1d6)]){case 0x0:return[0x4,dockerOpts['resolveImageNameForPull'](_0x1094f4)];case 0x1:_0x494041=_0x336634[_0x569e35(0x223)]();return[0x4,docker[_0x569e35(0x200)](_0x494041)];case 0x2:_0xd8f9f8=_0x336634[_0x569e35(0x223)]();return[0x4,new Promise(function(_0x41cd51,_0x3a202e){var _0x566248=_0x569e35;logger_1[_0x566248(0x1c4)][_0x566248(0x209)](_0x566248(0x267)+_0x494041+',\x20you\x20can\x20also\x20use\x20'+('\x27docker\x20pull\x20'+_0x494041+'\x27')+_0x566248(0x20f));var _0x4f3a0=function(_0x235f2b){return __awaiter(_0x27993f,void 0x0,void 0x0,function(){var _0x1fc612,_0x1a7e22,_0x3d8d9e,_0x4f11f5,_0x154562,_0x223f3d;return __generator(this,function(_0x2c2e7b){var _0xab10a6=a14_0xf6f1;switch(_0x2c2e7b['label']){case 0x0:_0x235f2b&&_0x3a202e(_0x235f2b);containers[_0xab10a6(0x228)](_0xd8f9f8),(_0x1fc612=0x0,_0x1a7e22=dockerOpts[_0xab10a6(0x1e3)]),_0x2c2e7b['label']=0x1;case 0x1:if(!(_0x1fc612<_0x1a7e22[_0xab10a6(0x268)]))return[0x3,0x5];_0x3d8d9e=_0x1a7e22[_0x1fc612];if(!(_0x494041[_0xab10a6(0x1ff)](_0x3d8d9e)===0x0))return[0x3,0x4];return[0x4,docker[_0xab10a6(0x23d)](_0x494041)];case 0x2:_0x4f11f5=_0x2c2e7b[_0xab10a6(0x223)](),_0x154562=_0x494041[_0xab10a6(0x1f9)](_0x3d8d9e[_0xab10a6(0x268)]+0x1),_0x223f3d=_0x154562[_0xab10a6(0x257)](':');return[0x4,_0x4f11f5[_0xab10a6(0x294)]({'name':_0x494041,'repo':lodash_1[_0xab10a6(0x1c4)][_0xab10a6(0x24b)](_0x223f3d),'tag':lodash_1[_0xab10a6(0x1c4)][_0xab10a6(0x1dc)](_0x223f3d)})];case 0x3:_0x2c2e7b[_0xab10a6(0x223)]();return[0x3,0x5];case 0x4:_0x1fc612++;return[0x3,0x1];case 0x5:_0x41cd51(_0x494041);return[0x2];}});});};containers[_0x566248(0x1b4)](_0xd8f9f8),followProgress(_0xd8f9f8,_0x4f3a0);})];case 0x3:return[0x2,_0x336634[_0x569e35(0x223)]()];}});});}function a14_0xf6f1(_0xdc66db,_0xef84d1){return a14_0xf6f1=function(_0x16f6b8,_0xf6f1fc){_0x16f6b8=_0x16f6b8-0x1ad;var _0x3b07d2=a14_0x16f6[_0x16f6b8];return _0x3b07d2;},a14_0xf6f1(_0xdc66db,_0xef84d1);}exports[a14_0x473524(0x25b)]=pullImage;function followProgress(_0x34a53c,_0x40e66c){var _0x3d4aba=a14_0x473524,_0x35cf71={},_0x4e6aed=function(_0x2819be){var _0x19b852=a14_0xf6f1,_0x520e3a=_0x2819be[_0x19b852(0x20d)];_0x2819be[_0x19b852(0x240)]&&(_0x520e3a=_0x2819be[_0x19b852(0x20d)]+'\x20'+_0x2819be[_0x19b852(0x240)]);if(_0x2819be['id']){var _0x3199a3=_0x2819be['id'];!_0x35cf71[_0x3199a3]&&(_0x35cf71[_0x3199a3]=console['draft']()),_0x35cf71[_0x3199a3](_0x3199a3+':\x20'+_0x520e3a);}else{lodash_1['default'][_0x19b852(0x28a)](_0x2819be,_0x19b852(0x210))&&(_0x2819be['stream']=_0x2819be[_0x19b852(0x1b7)]['ID']+'\x0a');var _0x365f6f=_0x2819be[_0x19b852(0x20d)]?_0x2819be['status']+'\x0a':_0x2819be[_0x19b852(0x1df)];process[_0x19b852(0x25f)]['write'](_0x365f6f);}};docker[_0x3d4aba(0x280)][_0x3d4aba(0x225)](_0x34a53c,_0x40e66c,_0x4e6aed);}function runContainer(_0x554cda,_0x330912,_0x593489,_0x1a5316){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4d9e7e,_0x5d55e7,_0xde0849,_0xd13b26,_0x44fc31;return __generator(this,function(_0x374d87){var _0x589721=a14_0xf6f1;switch(_0x374d87['label']){case 0x0:return[0x4,createContainer(_0x554cda)];case 0x1:_0x4d9e7e=_0x374d87[_0x589721(0x223)](),_0x5d55e7={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x4d9e7e[_0x589721(0x1cf)](_0x5d55e7)];case 0x2:_0xde0849=_0x374d87['sent']();!_0x330912&&(_0x330912=process['stdout']);!_0x593489&&(_0x593489=process[_0x589721(0x203)]);_0xd13b26=error_processor_1['processorTransformFactory']({'serviceName':_0x1a5316===null||_0x1a5316===void 0x0?void 0x0:_0x1a5316[_0x589721(0x252)],'functionName':_0x1a5316===null||_0x1a5316===void 0x0?void 0x0:_0x1a5316[_0x589721(0x1f8)],'errorStream':_0x593489});!isWin&&_0x4d9e7e['modem'][_0x589721(0x236)](_0xde0849,_0x330912,_0xd13b26);return[0x4,_0x4d9e7e[_0x589721(0x206)]()];case 0x3:_0x374d87['sent']();if(!isWin)return[0x3,0x5];return[0x4,_0x4d9e7e['logs']({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0x44fc31=_0x374d87[_0x589721(0x223)](),_0x4d9e7e[_0x589721(0x280)][_0x589721(0x236)](_0x44fc31,_0x330912,_0xd13b26),_0x374d87['label']=0x5;case 0x5:containers[_0x589721(0x1b4)](_0x4d9e7e['id']),streams[_0x589721(0x1b4)](_0xde0849);return[0x2,{'container':_0x4d9e7e,'stream':_0xde0849}];}});});}exports[a14_0x473524(0x247)]=runContainer;function resolveCodeUriToMount(_0x123825,_0x215920){return _0x215920===void 0x0&&(_0x215920=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x22cf33,_0x194430;return __generator(this,function(_0xed67c9){var _0x864683=a14_0xf6f1;switch(_0xed67c9[_0x864683(0x1d6)]){case 0x0:if(!_0x123825)return[0x2,null];_0x22cf33=null;return[0x4,fs[_0x864683(0x220)](_0x123825)];case 0x1:_0x194430=_0xed67c9[_0x864683(0x223)]();_0x194430[_0x864683(0x287)]()?_0x22cf33=_0x864683(0x1f1):_0x22cf33=path_1[_0x864683(0x1c4)][_0x864683(0x248)][_0x864683(0x29a)](_0x864683(0x1f1),path_1[_0x864683(0x1c4)][_0x864683(0x25c)](_0x123825));return[0x2,{'Type':_0x864683(0x1d0),'Source':_0x123825,'Target':_0x22cf33,'ReadOnly':_0x215920}];}});});}exports[a14_0x473524(0x1ef)]=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x592004,_0x135eeb;return __generator(this,function(_0x46a100){var _0x57559d=a14_0xf6f1;switch(_0x46a100[_0x57559d(0x1d6)]){case 0x0:return[0x4,docker['info']()];case 0x1:_0x592004=_0x46a100['sent']();return[0x4,detectDockerVersion(_0x592004[_0x57559d(0x1b6)]||'')];case 0x2:_0x46a100[_0x57559d(0x223)](),_0x135eeb=(_0x592004[_0x57559d(0x1ea)]||[])['map'](function(_0x1c2c9c){var _0x441f22=_0x57559d;return lodash_1[_0x441f22(0x1c4)][_0x441f22(0x257)](_0x1c2c9c,'=',0x2);})['filter'](function(_0x2af5f4){return _0x2af5f4['length']===0x2;})[_0x57559d(0x249)](function(_0x129e36,_0x3c7df3){return _0x129e36[_0x3c7df3[0x0]]=_0x3c7df3[0x1],_0x129e36;},{});return[0x2,process[_0x57559d(0x1bd)]===_0x57559d(0x26b)&&_0x135eeb[_0x57559d(0x260)]===_0x57559d(0x1e7)];}});});}exports['isDockerToolBoxAndEnsureDockerVersion']=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0x21047d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1c0bf5;return __generator(this,function(_0x33a893){var _0x15f0af=a14_0xf6f1;_0x1c0bf5=_0x21047d['split']('.');if(Number[_0x15f0af(0x1b5)](_0x1c0bf5[0x0])===0x1&&Number[_0x15f0af(0x1b5)](_0x1c0bf5[0x1])<=0xd)throw new Error(_0x15f0af(0x276)+_0x21047d+_0x15f0af(0x1d4));return[0x2];});});}exports[a14_0x473524(0x1b9)]=detectDockerVersion;function createContainer(_0x1b3b16){var _0x2f889c;return __awaiter(this,void 0x0,void 0x0,function(){var _0xf6cb6f,_0x254fef,_0x156b7c,_0x5ba48a,_0x330285,_0x4c244a;return __generator(this,function(_0x5ee8fb){var _0x482f9d=a14_0xf6f1;switch(_0x5ee8fb['label']){case 0x0:_0xf6cb6f=process[_0x482f9d(0x1bd)]===_0x482f9d(0x26b),_0x254fef=process[_0x482f9d(0x1bd)]==='darwin';if(!(_0x1b3b16&&_0x254fef))return[0x3,0x2];if(!_0x1b3b16[_0x482f9d(0x269)])return[0x3,0x2];return[0x4,docker_support_1[_0x482f9d(0x26a)]((_0x2f889c=_0x1b3b16[_0x482f9d(0x269)])===null||_0x2f889c===void 0x0?void 0x0:_0x2f889c[_0x482f9d(0x1d2)])];case 0x1:_0x156b7c=_0x5ee8fb[_0x482f9d(0x223)]();if(_0x254fef&&_0x156b7c[_0x482f9d(0x268)]>0x0)throw new Error(_0x482f9d(0x28d)+_0x156b7c+'\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md');_0x5ee8fb[_0x482f9d(0x1d6)]=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x5ba48a=_0x5ee8fb[_0x482f9d(0x223)](),_0x5ee8fb[_0x482f9d(0x1d6)]=0x4;case 0x4:_0x5ee8fb[_0x482f9d(0x1e2)][_0x482f9d(0x214)]([0x4,0x6,,0x7]);return[0x4,docker[_0x482f9d(0x1e4)](_0x1b3b16)];case 0x5:_0x330285=_0x5ee8fb[_0x482f9d(0x223)]();return[0x3,0x7];case 0x6:_0x4c244a=_0x5ee8fb[_0x482f9d(0x223)]();if(_0x4c244a[_0x482f9d(0x21d)][_0x482f9d(0x1ff)](_0x482f9d(0x211))!==-0x1&&_0x5ba48a)throw new Error('The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.');if(_0x4c244a[_0x482f9d(0x21d)][_0x482f9d(0x1ff)](_0x482f9d(0x1e8))!==-0x1&&_0xf6cb6f)throw new Error(_0x4c244a[_0x482f9d(0x21d)]+_0x482f9d(0x1b3));throw _0x4c244a;case 0x7:return[0x2,_0x330285];}});});}function resolveNasConfigToMounts(_0x169da0,_0xbab119,_0x3dd615,_0x2f3eac){return __awaiter(this,void 0x0,void 0x0,function(){var _0x48a81f;return __generator(this,function(_0x1b82ce){var _0xe3a597=a14_0xf6f1;switch(_0x1b82ce['label']){case 0x0:return[0x4,nas[_0xe3a597(0x1e5)](_0x2f3eac,_0x3dd615,_0xbab119)];case 0x1:_0x48a81f=_0x1b82ce[_0xe3a597(0x223)]();return[0x2,convertNasMappingsToMounts(devs_1[_0xe3a597(0x278)](_0x169da0),_0x48a81f)];}});});}exports['resolveNasConfigToMounts']=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x24dc79,_0x4c0a08){return _0x4c0a08['map'](function(_0x50edb0){var _0x3691ad=a14_0xf6f1;return{'Type':'bind','Source':path_1[_0x3691ad(0x1c4)][_0x3691ad(0x1ce)](_0x24dc79,_0x50edb0[_0x3691ad(0x253)]),'Target':_0x50edb0[_0x3691ad(0x298)],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x5b6dd1){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x16b2ba){var _0x5b4789=a14_0xf6f1;if(!_0x5b6dd1)return[0x2,{}];return[0x2,{'Type':_0x5b4789(0x1d0),'Source':_0x5b6dd1,'Target':_0x5b4789(0x1ed),'ReadOnly':![]}];});});}exports[a14_0x473524(0x28e)]=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x2705db){return __awaiter(this,void 0x0,void 0x0,function(){var _0x277007;return __generator(this,function(_0x4fd963){var _0x5f36d5=a14_0xf6f1;if(!_0x2705db)return[0x2,{}];return _0x277007=path_1[_0x5f36d5(0x1c4)][_0x5f36d5(0x1ce)](_0x2705db),[0x2,{'Type':'bind','Source':_0x277007,'Target':_0x5f36d5(0x205),'ReadOnly':![]}];});});}exports[a14_0x473524(0x26d)]=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x28c814;return __generator(this,function(_0x51aa31){var _0x4e7816=a14_0xf6f1;switch(_0x51aa31[_0x4e7816(0x1d6)]){case 0x0:if(!(process[_0x4e7816(0x1bd)]===_0x4e7816(0x1c2)))return[0x3,0x2];_0x28c814={'Type':_0x4e7816(0x1d0)};return[0x4,passwd_1[_0x4e7816(0x27b)]()];case 0x1:return[0x2,(_0x28c814[_0x4e7816(0x23e)]=_0x51aa31[_0x4e7816(0x223)](),_0x28c814[_0x4e7816(0x272)]=_0x4e7816(0x1be),_0x28c814[_0x4e7816(0x27d)]=!![],_0x28c814)];case 0x2:return[0x2,null];}});});}exports[a14_0x473524(0x24f)]=resolvePasswdMount;function createAndRunContainer(_0x12387f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x20a0b9;return __generator(this,function(_0x2c108c){var _0x14eb69=a14_0xf6f1;switch(_0x2c108c['label']){case 0x0:return[0x4,createContainer(_0x12387f)];case 0x1:_0x20a0b9=_0x2c108c[_0x14eb69(0x223)](),containers[_0x14eb69(0x1b4)](_0x20a0b9['id']);return[0x4,_0x20a0b9['start']({})];case 0x2:_0x2c108c[_0x14eb69(0x223)]();return[0x2,_0x20a0b9];}});});}exports[a14_0x473524(0x234)]=createAndRunContainer;function showDebugIdeTipsForVscode(_0x139eb8,_0x730320,_0x55b37a,_0x28e3c8,_0x76bb88){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1ab766;return __generator(this,function(_0x490453){var _0x443724=a14_0xf6f1;switch(_0x490453[_0x443724(0x1d6)]){case 0x0:return[0x4,debug_1[_0x443724(0x292)](_0x139eb8,_0x730320,_0x55b37a,_0x28e3c8,_0x76bb88)];case 0x1:_0x1ab766=_0x490453['sent'](),logger_1[_0x443724(0x1c4)][_0x443724(0x1fb)]('You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function',_0x443724(0x1fe)),logger_1[_0x443724(0x1c4)]['log'](_0x443724(0x271)),logger_1['default'][_0x443724(0x1fb)](JSON[_0x443724(0x262)](_0x1ab766,null,0x4)),logger_1[_0x443724(0x1c4)][_0x443724(0x1fb)](_0x443724(0x24d));return[0x2];}});});}exports[a14_0x473524(0x258)]=showDebugIdeTipsForVscode;function writeDebugIdeConfigForVscode(_0x56fcc9,_0x1cc7f2,_0x24bcab,_0x38831d,_0x50e899,_0x1183a7){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4cf18d,_0x508e00,_0x5cf083,_0x56641e,_0x548ea4,_0x4757ba,_0x1d8048,_0x5f3b21;return __generator(this,function(_0x399d4c){var _0x4e9789=a14_0xf6f1;switch(_0x399d4c[_0x4e9789(0x1d6)]){case 0x0:_0x4cf18d=path_1[_0x4e9789(0x1c4)][_0x4e9789(0x29a)](_0x56fcc9,'.vscode'),_0x508e00=path_1[_0x4e9789(0x1c4)][_0x4e9789(0x29a)](_0x4cf18d,'launch.json'),_0x399d4c[_0x4e9789(0x1d6)]=0x1;case 0x1:_0x399d4c['trys'][_0x4e9789(0x214)]([0x1,0x3,,0x5]);return[0x4,fs[_0x4e9789(0x283)](path_1[_0x4e9789(0x1c4)][_0x4e9789(0x21e)](_0x508e00))];case 0x2:_0x399d4c[_0x4e9789(0x223)]();return[0x3,0x5];case 0x3:_0x5cf083=_0x399d4c[_0x4e9789(0x223)](),logger_1[_0x4e9789(0x1c4)][_0x4e9789(0x1f4)](_0x4e9789(0x261)+_0x4cf18d+_0x4e9789(0x227));return[0x4,showDebugIdeTipsForVscode(_0x1cc7f2,_0x24bcab,_0x38831d,_0x50e899,_0x1183a7)];case 0x4:_0x399d4c[_0x4e9789(0x223)](),logger_1[_0x4e9789(0x1c4)][_0x4e9789(0x229)](_0x4e9789(0x261)+_0x4cf18d+_0x4e9789(0x27c)+_0x5cf083);return[0x2];case 0x5:return[0x4,debug_1[_0x4e9789(0x292)](_0x1cc7f2,_0x24bcab,_0x38831d,_0x50e899,_0x1183a7)];case 0x6:_0x56641e=_0x399d4c[_0x4e9789(0x223)]();if(!(fs[_0x4e9789(0x242)](_0x508e00)&&fs[_0x4e9789(0x1db)](_0x508e00)[_0x4e9789(0x1d5)]()))return[0x3,0x9];_0x1d8048=(_0x4757ba=JSON)[_0x4e9789(0x245)];return[0x4,fs[_0x4e9789(0x23f)](_0x508e00,{'encoding':'utf8'})];case 0x7:_0x548ea4=_0x1d8048[_0x4e9789(0x238)](_0x4757ba,[_0x399d4c['sent']()]);if(lodash_1[_0x4e9789(0x1c4)][_0x4e9789(0x20b)](_0x548ea4,_0x56641e))return[0x2];logger_1[_0x4e9789(0x1c4)][_0x4e9789(0x1f4)](_0x4e9789(0x1b8)+_0x508e00+_0x4e9789(0x22e));return[0x4,showDebugIdeTipsForVscode(_0x1cc7f2,_0x24bcab,_0x38831d,_0x50e899,_0x1183a7)];case 0x8:_0x399d4c[_0x4e9789(0x223)]();return[0x2];case 0x9:_0x399d4c['trys'][_0x4e9789(0x214)]([0x9,0xb,,0xd]);return[0x4,fs[_0x4e9789(0x297)](_0x508e00,JSON[_0x4e9789(0x262)](_0x56641e,null,'\x20\x20'),{'encoding':_0x4e9789(0x208),'flag':'w'})];case 0xa:_0x399d4c['sent']();return[0x3,0xd];case 0xb:_0x5f3b21=_0x399d4c[_0x4e9789(0x223)](),logger_1['default']['warning']('Write\x20'+_0x508e00+_0x4e9789(0x227));return[0x4,showDebugIdeTipsForVscode(_0x1cc7f2,_0x24bcab,_0x38831d,_0x50e899,_0x1183a7)];case 0xc:_0x399d4c['sent'](),logger_1[_0x4e9789(0x1c4)][_0x4e9789(0x229)]('Write\x20'+_0x508e00+_0x4e9789(0x27c)+_0x5f3b21);return[0x3,0xd];case 0xd:return[0x2];}});});}exports[a14_0x473524(0x270)]=writeDebugIdeConfigForVscode;function showDebugIdeTipsForPycharm(_0x20c805,_0x378b08){return __awaiter(this,void 0x0,void 0x0,function(){var _0x52de8c;return __generator(this,function(_0x2111a0){var _0x1898b5=a14_0xf6f1;switch(_0x2111a0['label']){case 0x0:return[0x4,fs[_0x1898b5(0x220)](_0x20c805)];case 0x1:_0x52de8c=_0x2111a0['sent']();!_0x52de8c[_0x1898b5(0x287)]()&&(_0x20c805=path_1[_0x1898b5(0x1c4)][_0x1898b5(0x21e)](_0x20c805));logger_1['default'][_0x1898b5(0x1fb)](_0x1898b5(0x1da)+ip[_0x1898b5(0x222)]()+_0x1898b5(0x277)+_0x378b08+_0x1898b5(0x1bc)+_0x20c805+_0x1898b5(0x275)+ip[_0x1898b5(0x222)]()+'\x27,\x20port='+_0x378b08+_0x1898b5(0x25d),_0x1898b5(0x1fe));return[0x2];}});});}exports[a14_0x473524(0x1e6)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x1680e8,_0x29f4cc){var _0x5dee9c=a14_0x473524;_0x29f4cc&&_0x1680e8[_0x5dee9c(0x26f)](_0x29f4cc),_0x1680e8[_0x5dee9c(0x1f3)]();}function startContainer(_0x5ba109,_0x55955b,_0xe71782,_0x3a2743){return __awaiter(this,void 0x0,void 0x0,function(){var _0x480d47,_0x407d27,_0x6d3a9,_0x2b1605,_0x55ff9b=this;return __generator(this,function(_0x202ad0){var _0x47dd9e=a14_0xf6f1;switch(_0x202ad0[_0x47dd9e(0x1d6)]){case 0x0:return[0x4,createContainer(_0x5ba109)];case 0x1:_0x480d47=_0x202ad0[_0x47dd9e(0x223)](),containers[_0x47dd9e(0x1b4)](_0x480d47['id']),_0x202ad0['label']=0x2;case 0x2:_0x202ad0['trys'][_0x47dd9e(0x214)]([0x2,0x4,,0x5]);return[0x4,_0x480d47[_0x47dd9e(0x206)]({})];case 0x3:_0x202ad0['sent']();return[0x3,0x5];case 0x4:_0x407d27=_0x202ad0[_0x47dd9e(0x223)](),logger_1[_0x47dd9e(0x1c4)]['error'](_0x407d27);return[0x3,0x5];case 0x5:_0x6d3a9=_0x55955b||_0xe71782;if(!_0x6d3a9)return[0x3,0x7];!_0x55955b&&(_0x55955b=devnull());!_0xe71782&&(_0xe71782=devnull());return[0x4,_0x480d47[_0x47dd9e(0x1e1)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x2b1605=_0x202ad0['sent'](),_0x480d47[_0x47dd9e(0x280)][_0x47dd9e(0x236)](_0x2b1605,_0x55955b,error_processor_1[_0x47dd9e(0x1c8)]({'serviceName':_0x3a2743['serviceName'],'functionName':_0x3a2743[_0x47dd9e(0x1f8)],'errorStream':_0xe71782})),_0x202ad0[_0x47dd9e(0x1d6)]=0x7;case 0x7:return[0x2,{'containerId':_0x480d47===null||_0x480d47===void 0x0?void 0x0:_0x480d47['id'],'stop':function(){return __awaiter(_0x55ff9b,void 0x0,void 0x0,function(){return __generator(this,function(_0x1de168){var _0x5020d6=a14_0xf6f1;switch(_0x1de168[_0x5020d6(0x1d6)]){case 0x0:logger_1[_0x5020d6(0x1c4)][_0x5020d6(0x229)](_0x5020d6(0x218)+_0x480d47['id']);return[0x4,_0x480d47[_0x5020d6(0x243)]()];case 0x1:_0x1de168[_0x5020d6(0x223)](),containers[_0x5020d6(0x228)](_0x480d47['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x55ff9b,void 0x0,void 0x0,function(){return __generator(this,function(_0x230a7f){var _0x505d87=a14_0xf6f1;switch(_0x230a7f[_0x505d87(0x1d6)]){case 0x0:logger_1[_0x505d87(0x1c4)][_0x505d87(0x229)]('Killing\x20container:\x20'+_0x480d47['id']);return[0x4,_0x480d47['kill']()];case 0x1:_0x230a7f[_0x505d87(0x223)](),containers[_0x505d87(0x228)](_0x480d47['id']);return[0x2];}});});},'exec':function(_0x21f534,_0x33827d){var _0x445e70=_0x47dd9e,_0x20f761=_0x33827d===void 0x0?{}:_0x33827d,_0xf97fee=_0x20f761[_0x445e70(0x241)],_0x67581e=_0xf97fee===void 0x0?'':_0xf97fee,_0x580bb9=_0x20f761[_0x445e70(0x1ee)],_0x527f36=_0x580bb9===void 0x0?{}:_0x580bb9,_0x2ac8ec=_0x20f761[_0x445e70(0x1bb)],_0x997d8=_0x2ac8ec===void 0x0?process['stdout']:_0x2ac8ec,_0x338483=_0x20f761[_0x445e70(0x1cd)],_0x34a011=_0x338483===void 0x0?process['stderr']:_0x338483,_0x2b467f=_0x20f761[_0x445e70(0x237)],_0x5603b0=_0x2b467f===void 0x0?![]:_0x2b467f,_0x4b0622=_0x20f761['context'],_0x463c2f=_0x4b0622===void 0x0?{}:_0x4b0622,_0xefb106=_0x20f761[_0x445e70(0x1b0)],_0x349525=_0xefb106===void 0x0?null:_0xefb106;return __awaiter(_0x55ff9b,void 0x0,void 0x0,function(){var _0x21b5a8,_0x43e773,_0x5c2b92,_0x580617;return __generator(this,function(_0x19e3c5){var _0x387726=a14_0xf6f1;switch(_0x19e3c5[_0x387726(0x1d6)]){case 0x0:_0x21b5a8=_0x349525?!![]:![],_0x43e773={'Env':dockerOpts['resolveDockerEnv'](_0x527f36),'Tty':![],'AttachStdin':_0x21b5a8,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x67581e};_0x21f534!==[]&&(_0x43e773[_0x387726(0x21c)]=_0x21f534);logger_1[_0x387726(0x1c4)][_0x387726(0x229)]('docker\x20exec\x20opts:\x20'+JSON[_0x387726(0x262)](_0x43e773,null,0x4));return[0x4,_0x480d47[_0x387726(0x1cc)](_0x43e773)];case 0x1:_0x5c2b92=_0x19e3c5[_0x387726(0x223)]();return[0x4,_0x5c2b92[_0x387726(0x206)]({'hijack':!![],'stdin':_0x21b5a8})];case 0x2:_0x580617=_0x19e3c5[_0x387726(0x223)]();return[0x4,new Promise(function(_0x27eb28){return setTimeout(_0x27eb28,0x1e);})];case 0x3:_0x19e3c5[_0x387726(0x223)]();_0x349525!==null&&writeEventToStreamAndClose(_0x580617,_0x349525);!_0x997d8&&(_0x997d8=process[_0x387726(0x25f)]);!_0x34a011&&(_0x34a011=process[_0x387726(0x203)]);_0x5603b0?_0x480d47[_0x387726(0x280)][_0x387726(0x236)](_0x580617,_0x997d8,_0x34a011):_0x480d47[_0x387726(0x280)][_0x387726(0x236)](_0x580617,devnull(),_0x34a011);return[0x4,waitForExec(_0x5c2b92)];case 0x4:return[0x2,_0x19e3c5[_0x387726(0x223)]()];}});});}}];}});});}exports[a14_0x473524(0x291)]=startContainer;function waitForExec(_0x31b332){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2bf762){var _0x589c65=a14_0xf6f1;switch(_0x2bf762[_0x589c65(0x1d6)]){case 0x0:return[0x4,new Promise(function(_0x3b0619,_0x1fd2eb){function _0xaa7932(){var _0x4e3a68=a14_0xf6f1;_0x31b332[_0x4e3a68(0x1d9)](function(_0x2b503d,_0x2d6fc0){var _0x18e9cf=_0x4e3a68;if(_0x2d6fc0[_0x18e9cf(0x24e)]){setTimeout(_0xaa7932,0x64);return;}if(_0x2b503d)_0x1fd2eb(_0x2b503d);else _0x2d6fc0[_0x18e9cf(0x224)]!==0x0?_0x1fd2eb(_0x2d6fc0[_0x18e9cf(0x217)][_0x18e9cf(0x25e)]+_0x18e9cf(0x26c)+_0x2d6fc0['ExitCode']):_0x3b0619(_0x2d6fc0[_0x18e9cf(0x224)]);});}_0xaa7932();})];case 0x1:return[0x2,_0x2bf762[_0x589c65(0x223)]()];}});});}function run(_0x254974,_0x19393e,_0x3413e8,_0x14dcd6,_0x2e017a){return _0x2e017a===void 0x0&&(_0x2e017a={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x4df6d0,_0x573c6f,_0x24f032,_0x345dac;return __generator(this,function(_0x55960d){var _0x268e4c=a14_0xf6f1;switch(_0x55960d[_0x268e4c(0x1d6)]){case 0x0:return[0x4,runContainer(_0x254974,_0x3413e8,_0x14dcd6,_0x2e017a)];case 0x1:_0x4df6d0=_0x55960d[_0x268e4c(0x223)](),_0x573c6f=_0x4df6d0['container'],_0x24f032=_0x4df6d0[_0x268e4c(0x1df)],writeEventToStreamAndClose(_0x24f032,_0x19393e);return[0x4,_0x573c6f[_0x268e4c(0x235)]()];case 0x2:_0x345dac=_0x55960d[_0x268e4c(0x223)](),containers[_0x268e4c(0x228)](_0x573c6f['id']),streams['delete'](_0x24f032);return[0x2,_0x345dac];}});});}exports['run']=run;function stopContainer(_0x3333ce){return __awaiter(this,void 0x0,void 0x0,function(){var _0x36d6b0,_0x459543,_0x1b4667;return __generator(this,function(_0x413faf){var _0x2743b2=a14_0xf6f1;switch(_0x413faf[_0x2743b2(0x1d6)]){case 0x0:_0x36d6b0=core[_0x2743b2(0x1ca)](_0x2743b2(0x233)+_0x3333ce['id']),_0x413faf[_0x2743b2(0x1d6)]=0x1;case 0x1:_0x413faf[_0x2743b2(0x1e2)][_0x2743b2(0x214)]([0x1,0x3,,0x8]);return[0x4,_0x3333ce[_0x2743b2(0x243)]()];case 0x2:_0x413faf['sent'](),_0x36d6b0['succeed'](_0x2743b2(0x1f5));return[0x3,0x8];case 0x3:_0x459543=_0x413faf[_0x2743b2(0x223)](),_0x36d6b0[_0x2743b2(0x295)]('Failed\x20to\x20stop\x20the\x20container.'),logger_1['default'][_0x2743b2(0x229)](_0x2743b2(0x290)+_0x3333ce['id']+'\x20failed,\x20error:\x20'+_0x459543),_0x36d6b0=core[_0x2743b2(0x1ca)](_0x2743b2(0x22c)+_0x3333ce['id']),_0x413faf[_0x2743b2(0x1d6)]=0x4;case 0x4:_0x413faf[_0x2743b2(0x1e2)]['push']([0x4,0x6,,0x7]);return[0x4,_0x3333ce[_0x2743b2(0x286)]()];case 0x5:_0x413faf[_0x2743b2(0x223)](),_0x36d6b0[_0x2743b2(0x21f)](_0x2743b2(0x1c6));return[0x3,0x7];case 0x6:_0x1b4667=_0x413faf[_0x2743b2(0x223)](),_0x36d6b0[_0x2743b2(0x295)](_0x2743b2(0x299)),logger_1[_0x2743b2(0x1c4)][_0x2743b2(0x229)]('Kill\x20proxy\x20container:\x20'+_0x3333ce['id']+_0x2743b2(0x27c)+_0x1b4667);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x473524(0x281)]=stopContainer;