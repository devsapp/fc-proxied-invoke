'use strict';var a14_0x5c7a=['pullImage','followProgress','cwd','errorStream','succeed','Please\x20add\x20directory\x20\x27','Cmd','outputStream','includes','isCustomContainerRuntime','Failed\x20to\x20stop\x20the\x20container.','processorTransformFactory','689822MrBNFl','resolvePasswdMount','exec','1017803wlDdPp','pop','writeFile','Target','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','Source','initializer','aux.ID','ReadOnly','default','108044BDodcD','__awaiter','iterator','serviceName','map','\x20exited\x20with\x20code\x20','__setModuleDefault','resolveImageNameForPull','last','sent','Ensure\x20directory:\x20','ProcessConfig','Write\x20','2TYqncZ','error','push','logs','stdout','start','return','showDebugIdeTipsForPycharm','posix',',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.','throw','indexOf','142543HbNgDK','generateFunctionEnvs','showDebugIdeTipsForVscode','resolveAutoLogConfig','resolveNasConfigToMounts','Mounts','getTime','base64','info','aux','into','join','tag','\x0aPath\x20mappings\x20\x20:\x20','listImages','customContainerConfig','createAndRunContainer','parseInt','../../common/logger','\x20already\x20exists,\x20please\x20overwrite\x20it\x20with\x20the\x20following\x20config.','Stopping\x20the\x20container:\x20','label','debug','stderr','addEnv','address','1034046aQBpab','virtualbox','\x20failed.','The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.','./docker-support','yellow','java','message','apply','environmentVariables','end','getRootBaseDir','generateDebugEnv','modem','ops','lodash','wait','handler','resolveTmpDirToMount','generateRamdomContainerName','pathExistsSync','isFile','ExitCode','remoteNasDir','skip\x20pulling\x20image\x20','runtime','fs-extra','__esModule','utf8','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27',',\x20you\x20can\x20also\x20use\x20','dockerode','toString','filter','timeout','done','pullImageIfNeed','generatePwdFile','length','args','first','has','attach','imageExist','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','memorySize','createContainer','fail','Stop\x20container\x20succeed.','progress','isAutoConfig','split','runContainer','../devs','resolveLibPathsFromLdConf','--http','dev-null','\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20','event','bind','command','warning','resolve','spinner','container','918679zKuRHc','__createBinding','startContainer','status','resolveCodeUriToMount','Stop\x20the\x20container:\x20','detectDockerVersion','writeDebugIdeConfigForVscode','Generator\x20is\x20already\x20executing.','generateDockerEnvs','\x27,\x20port=','functionName','value','ServerVersion','Running','AccountID','pull','\x27docker\x20pull\x20','defineProperty','win32','Proxy\x20image\x20url:\x20','3hIfiEl','--event-decode','codeUri','random','call','SecurityToken','entrypoint','Kill\x20container\x20succeed','path','parse','/tmp','slice','Skip\x20pulling\x20image\x20','1BURJpA','draft','assign','trys','../local-invoke/debug','logConfig','reduce','--initializationTimeout','linux','kill','verbose','23072ueGUxw','docker\x20exec\x20opts:\x20','pullFcImageIfNeed','stopContainer','lstat','from','basename','generateVscodeDebugConfig','dirname','HostConfig','add','/////////////////\x20config\x20begin\x20/////////////////','stream',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','lstatSync','getImage','Pulling\x20image\x20','inspect','stop','\x20failed,\x20error:\x20','../error-processor','Killing\x20container:\x20','../local-invoke/env','next','DOCKER_REGISTRIES','3muCUzJ','/code','stringify','delete','demuxStream','initializationTimeout','__spreadArrays','platform','provider','...','--stdin','generateDockerCmd','Killing\x20the\x20container:\x20','invalid\x20mount\x20config\x20for\x20type','../definition','File:\x20','write','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','isDockerToolBoxAndEnsureDockerVersion','__importDefault','then','__generator','run','logstore','log','readFile','../utils/passwd','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives'];var a14_0x282501=a14_0x40cb;(function(_0xc8d84f,_0xa506ce){var _0x4aad39=a14_0x40cb;while(!![]){try{var _0x113248=-parseInt(_0x4aad39(0x180))+-parseInt(_0x4aad39(0x10f))*parseInt(_0x4aad39(0x131))+parseInt(_0x4aad39(0x13c))+-parseInt(_0x4aad39(0xb4))*-parseInt(_0x4aad39(0x155))+-parseInt(_0x4aad39(0x18a))*parseInt(_0x4aad39(0x197))+-parseInt(_0x4aad39(0x17d))+parseInt(_0x4aad39(0x124))*parseInt(_0x4aad39(0xce));if(_0x113248===_0xa506ce)break;else _0xc8d84f['push'](_0xc8d84f['shift']());}catch(_0xc65103){_0xc8d84f['push'](_0xc8d84f['shift']());}}}(a14_0x5c7a,0xad72f));var __createBinding=this&&this[a14_0x282501(0x110)]||(Object['create']?function(_0x40989a,_0x4ad439,_0x3869a6,_0x26c2e6){var _0x223ac8=a14_0x282501;if(_0x26c2e6===undefined)_0x26c2e6=_0x3869a6;Object[_0x223ac8(0x121)](_0x40989a,_0x26c2e6,{'enumerable':!![],'get':function(){return _0x4ad439[_0x3869a6];}});}:function(_0x3ea88c,_0xbbc942,_0x1b37e2,_0x49e74a){if(_0x49e74a===undefined)_0x49e74a=_0x1b37e2;_0x3ea88c[_0x49e74a]=_0xbbc942[_0x1b37e2];}),__setModuleDefault=this&&this[a14_0x282501(0x190)]||(Object['create']?function(_0x25d164,_0xc138b7){var _0x4aa8b0=a14_0x282501;Object[_0x4aa8b0(0x121)](_0x25d164,_0x4aa8b0(0x189),{'enumerable':!![],'value':_0xc138b7});}:function(_0x4d5d92,_0x36e1ce){var _0xb1e795=a14_0x282501;_0x4d5d92[_0xb1e795(0x189)]=_0x36e1ce;}),__importStar=this&&this['__importStar']||function(_0xb29d2b){var _0x184a59=a14_0x282501;if(_0xb29d2b&&_0xb29d2b[_0x184a59(0xe9)])return _0xb29d2b;var _0x5d219c={};if(_0xb29d2b!=null){for(var _0x45f4f0 in _0xb29d2b)if(_0x45f4f0!==_0x184a59(0x189)&&Object['hasOwnProperty'][_0x184a59(0x128)](_0xb29d2b,_0x45f4f0))__createBinding(_0x5d219c,_0xb29d2b,_0x45f4f0);}return __setModuleDefault(_0x5d219c,_0xb29d2b),_0x5d219c;},__awaiter=this&&this[a14_0x282501(0x18b)]||function(_0x226150,_0x3bd0d5,_0x4fd5e1,_0x34550f){function _0x2f455e(_0x3659d7){return _0x3659d7 instanceof _0x4fd5e1?_0x3659d7:new _0x4fd5e1(function(_0x3be53d){_0x3be53d(_0x3659d7);});}return new(_0x4fd5e1||(_0x4fd5e1=Promise))(function(_0x484704,_0x39ed2c){var _0x3be768=a14_0x40cb;function _0x3c971b(_0x5ee312){var _0x3a04e1=a14_0x40cb;try{_0x4085b3(_0x34550f[_0x3a04e1(0x153)](_0x5ee312));}catch(_0xe3494c){_0x39ed2c(_0xe3494c);}}function _0xb8d9e0(_0x4b1064){var _0x5dc00f=a14_0x40cb;try{_0x4085b3(_0x34550f[_0x5dc00f(0xb2)](_0x4b1064));}catch(_0xd289a8){_0x39ed2c(_0xd289a8);}}function _0x4085b3(_0x3b2be0){var _0x406010=a14_0x40cb;_0x3b2be0[_0x406010(0xf1)]?_0x484704(_0x3b2be0[_0x406010(0x11b)]):_0x2f455e(_0x3b2be0['value'])[_0x406010(0x169)](_0x3c971b,_0xb8d9e0);}_0x4085b3((_0x34550f=_0x34550f['apply'](_0x226150,_0x3bd0d5||[]))[_0x3be768(0x153)]());});},__generator=this&&this[a14_0x282501(0x16a)]||function(_0x5d3b42,_0x50b899){var _0x28a1b9=a14_0x282501,_0x40669d={'label':0x0,'sent':function(){if(_0x2052c9[0x0]&0x1)throw _0x2052c9[0x1];return _0x2052c9[0x1];},'trys':[],'ops':[]},_0x4d2702,_0x27000b,_0x2052c9,_0x246c35;return _0x246c35={'next':_0x4d3477(0x0),'throw':_0x4d3477(0x1),'return':_0x4d3477(0x2)},typeof Symbol==='function'&&(_0x246c35[Symbol[_0x28a1b9(0x18c)]]=function(){return this;}),_0x246c35;function _0x4d3477(_0x3532ca){return function(_0x2f5ab3){return _0x778428([_0x3532ca,_0x2f5ab3]);};}function _0x778428(_0x164930){var _0x27f0f3=_0x28a1b9;if(_0x4d2702)throw new TypeError(_0x27f0f3(0x117));while(_0x40669d)try{if(_0x4d2702=0x1,_0x27000b&&(_0x2052c9=_0x164930[0x0]&0x2?_0x27000b['return']:_0x164930[0x0]?_0x27000b[_0x27f0f3(0xb2)]||((_0x2052c9=_0x27000b[_0x27f0f3(0xae)])&&_0x2052c9[_0x27f0f3(0x128)](_0x27000b),0x0):_0x27000b[_0x27f0f3(0x153)])&&!(_0x2052c9=_0x2052c9['call'](_0x27000b,_0x164930[0x1]))['done'])return _0x2052c9;if(_0x27000b=0x0,_0x2052c9)_0x164930=[_0x164930[0x0]&0x2,_0x2052c9[_0x27f0f3(0x11b)]];switch(_0x164930[0x0]){case 0x0:case 0x1:_0x2052c9=_0x164930;break;case 0x4:_0x40669d[_0x27f0f3(0xc9)]++;return{'value':_0x164930[0x1],'done':![]};case 0x5:_0x40669d[_0x27f0f3(0xc9)]++,_0x27000b=_0x164930[0x1],_0x164930=[0x0];continue;case 0x7:_0x164930=_0x40669d[_0x27f0f3(0xdc)]['pop'](),_0x40669d[_0x27f0f3(0x134)][_0x27f0f3(0x181)]();continue;default:if(!(_0x2052c9=_0x40669d[_0x27f0f3(0x134)],_0x2052c9=_0x2052c9[_0x27f0f3(0xf4)]>0x0&&_0x2052c9[_0x2052c9[_0x27f0f3(0xf4)]-0x1])&&(_0x164930[0x0]===0x6||_0x164930[0x0]===0x2)){_0x40669d=0x0;continue;}if(_0x164930[0x0]===0x3&&(!_0x2052c9||_0x164930[0x1]>_0x2052c9[0x0]&&_0x164930[0x1]<_0x2052c9[0x3])){_0x40669d[_0x27f0f3(0xc9)]=_0x164930[0x1];break;}if(_0x164930[0x0]===0x6&&_0x40669d['label']<_0x2052c9[0x1]){_0x40669d[_0x27f0f3(0xc9)]=_0x2052c9[0x1],_0x2052c9=_0x164930;break;}if(_0x2052c9&&_0x40669d['label']<_0x2052c9[0x2]){_0x40669d['label']=_0x2052c9[0x2],_0x40669d['ops'][_0x27f0f3(0xaa)](_0x164930);break;}if(_0x2052c9[0x2])_0x40669d['ops'][_0x27f0f3(0x181)]();_0x40669d['trys'][_0x27f0f3(0x181)]();continue;}_0x164930=_0x50b899['call'](_0x5d3b42,_0x40669d);}catch(_0x2c2230){_0x164930=[0x6,_0x2c2230],_0x27000b=0x0;}finally{_0x4d2702=_0x2052c9=0x0;}if(_0x164930[0x0]&0x5)throw _0x164930[0x1];return{'value':_0x164930[0x0]?_0x164930[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this[a14_0x282501(0x15b)]||function(){var _0x131dc0=a14_0x282501;for(var _0x35efc9=0x0,_0x2d8ecd=0x0,_0x593f21=arguments['length'];_0x2d8ecd<_0x593f21;_0x2d8ecd++)_0x35efc9+=arguments[_0x2d8ecd][_0x131dc0(0xf4)];for(var _0x3b714a=Array(_0x35efc9),_0x7e2f76=0x0,_0x2d8ecd=0x0;_0x2d8ecd<_0x593f21;_0x2d8ecd++)for(var _0x1615ac=arguments[_0x2d8ecd],_0xbab1a4=0x0,_0x563b05=_0x1615ac[_0x131dc0(0xf4)];_0xbab1a4<_0x563b05;_0xbab1a4++,_0x7e2f76++)_0x3b714a[_0x7e2f76]=_0x1615ac[_0xbab1a4];return _0x3b714a;},__importDefault=this&&this[a14_0x282501(0x168)]||function(_0x41ceb9){var _0x53fdb2=a14_0x282501;return _0x41ceb9&&_0x41ceb9[_0x53fdb2(0xe9)]?_0x41ceb9:{'default':_0x41ceb9};};Object[a14_0x282501(0x121)](exports,a14_0x282501(0xe9),{'value':!![]}),exports[a14_0x282501(0x13f)]=exports[a14_0x282501(0x16b)]=exports[a14_0x282501(0x111)]=exports[a14_0x282501(0xaf)]=exports[a14_0x282501(0x116)]=exports[a14_0x282501(0xb6)]=exports[a14_0x282501(0xc4)]=exports[a14_0x282501(0x17e)]=exports['resolveDebuggerPathToMount']=exports[a14_0x282501(0xe0)]=exports[a14_0x282501(0xb8)]=exports[a14_0x282501(0x115)]=exports['isDockerToolBoxAndEnsureDockerVersion']=exports['resolveCodeUriToMount']=exports[a14_0x282501(0x102)]=exports[a14_0x282501(0x171)]=exports[a14_0x282501(0x13e)]=exports['generateFunctionEnvs']=exports[a14_0x282501(0x118)]=exports[a14_0x282501(0x160)]=exports[a14_0x282501(0xf2)]=exports['generateRamdomContainerName']=exports[a14_0x282501(0xf9)]=void 0x0;var dockerode_1=__importDefault(require(a14_0x282501(0xed))),logger_1=__importDefault(require(a14_0x282501(0xc6))),draftlog=__importStar(require('draftlog')),docker_support_1=require(a14_0x282501(0xd2)),error_processor_1=require(a14_0x282501(0x150)),lodash_1=__importDefault(require(a14_0x282501(0xdd))),nas=__importStar(require('../local-invoke/nas')),path_1=__importDefault(require(a14_0x282501(0x12c))),devs_1=require(a14_0x282501(0x103)),fs=__importStar(require(a14_0x282501(0xe8))),passwd_1=require(a14_0x282501(0x16f)),dockerOpts=__importStar(require('./docker-opts')),debug_1=require(a14_0x282501(0x135)),ip=__importStar(require('ip')),env_1=require(a14_0x282501(0x152)),runtime_1=require('../utils/runtime'),definition_1=require(a14_0x282501(0x163)),dev_null_1=__importDefault(require(a14_0x282501(0x106))),core=__importStar(require('@serverless-devs/core')),isWin=process[a14_0x282501(0x15c)]==='win32',docker=new dockerode_1[(a14_0x282501(0x189))]();draftlog[a14_0x282501(0xbe)](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x38fa49){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2f08df;return __generator(this,function(_0x949226){var _0x40ce64=a14_0x40cb;switch(_0x949226[_0x40ce64(0xc9)]){case 0x0:return[0x4,docker[_0x40ce64(0xc2)]({'filters':{'reference':[_0x38fa49]}})];case 0x1:_0x2f08df=_0x949226[_0x40ce64(0x193)]();return[0x2,_0x2f08df[_0x40ce64(0xf4)]>0x0];}});});}exports[a14_0x282501(0xf9)]=imageExist;function generateRamdomContainerName(){var _0x2c85cc=a14_0x282501;return'fc_local_'+new Date()[_0x2c85cc(0xba)]()+'_'+Math[_0x2c85cc(0x127)]()[_0x2c85cc(0xee)](0x24)['substr'](0x2,0x7);}exports[a14_0x282501(0xe1)]=generateRamdomContainerName;function pullImageIfNeed(_0x531ea5,_0x121e81,_0x5ebcba,_0x1eb152){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4014ab,_0x35bbbb;return __generator(this,function(_0xd8cddf){var _0x1d3bd9=a14_0x40cb;switch(_0xd8cddf[_0x1d3bd9(0xc9)]){case 0x0:_0x4014ab=_0x531ea5+'/'+_0x121e81+'/'+_0x5ebcba+':'+_0x1eb152,logger_1[_0x1d3bd9(0x189)][_0x1d3bd9(0xca)](_0x1d3bd9(0x123)+_0x4014ab);return[0x4,imageExist(_0x4014ab)];case 0x1:if(!!_0xd8cddf[_0x1d3bd9(0x193)]())return[0x3,0x3];logger_1['default'][_0x1d3bd9(0xca)]('Starting\x20docker\x20pull\x20'+_0x4014ab);return[0x4,docker[_0x1d3bd9(0x11f)](_0x4014ab)];case 0x2:_0x35bbbb=_0xd8cddf[_0x1d3bd9(0x193)](),_0xd8cddf[_0x1d3bd9(0xc9)]=0x3;case 0x3:return[0x4,new Promise(function(_0x28dc55,_0x15fb83){if(_0x35bbbb){var _0x249585=function(_0x258a75){_0x258a75&&_0x15fb83(_0x258a75),_0x28dc55(_0x4014ab);},_0x141772={},_0x4c833c=function(_0x224a08){var _0xb602f0=a14_0x40cb,_0x40b031=_0x224a08['status'];_0x224a08[_0xb602f0(0xff)]&&(_0x40b031=_0x224a08['status']+'\x20'+_0x224a08[_0xb602f0(0xff)]);if(_0x224a08['id']){var _0x45f5ac=_0x224a08['id'];!_0x141772[_0x45f5ac]&&(_0x141772[_0x45f5ac]=console[_0xb602f0(0x132)]()),_0x141772[_0x45f5ac](_0x45f5ac+':\x20'+_0x40b031);}else{lodash_1['default'][_0xb602f0(0xf7)](_0x224a08,'aux.ID')&&(_0x224a08['stream']=_0x224a08[_0xb602f0(0xbd)]['ID']+'\x0a');var _0x24c3b0=_0x224a08['status']?_0x224a08[_0xb602f0(0x112)]+'\x0a':_0x224a08[_0xb602f0(0x148)];process[_0xb602f0(0xac)][_0xb602f0(0x165)](_0x24c3b0);}};docker['modem']['followProgress'](_0x35bbbb,_0x249585,_0x4c833c);}else _0x28dc55(_0x4014ab);})];case 0x4:return[0x2,_0xd8cddf[_0x1d3bd9(0x193)]()];}});});}exports[a14_0x282501(0xf2)]=pullImageIfNeed;function generateDockerCmd(_0x4802bd,_0x3e9b16,_0x273959,_0x45c682,_0x377752,_0x254d90){var _0x50735b=a14_0x282501;_0x377752===void 0x0&&(_0x377752=!![]);_0x254d90===void 0x0&&(_0x254d90=null);if(runtime_1[_0x50735b(0x17a)](_0x4802bd))return genDockerCmdOfCustomContainer(_0x273959);else{if(_0x3e9b16)return['--server'];}return genDockerCmdOfNonCustomContainer(_0x273959,_0x45c682,_0x377752,_0x254d90);}exports['generateDockerCmd']=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x5225b4,_0x5b40da,_0x263303,_0x4a3897){var _0x2be904=a14_0x282501;_0x263303===void 0x0&&(_0x263303=!![]);_0x4a3897===void 0x0&&(_0x4a3897=null);var _0x47dc64=['-h',_0x5225b4[_0x2be904(0xdf)]];_0x4a3897!==null?(_0x47dc64['push']('--event',Buffer[_0x2be904(0x141)](_0x4a3897)[_0x2be904(0xee)](_0x2be904(0xbb))),_0x47dc64[_0x2be904(0xaa)](_0x2be904(0x125))):_0x47dc64[_0x2be904(0xaa)](_0x2be904(0x15f));_0x5b40da&&_0x47dc64[_0x2be904(0xaa)](_0x2be904(0x105));var _0x5e86f3=_0x5225b4[_0x2be904(0x186)];_0x5e86f3&&_0x263303&&_0x47dc64['push']('-i',_0x5e86f3);var _0x19df84=_0x5225b4[_0x2be904(0x15a)];return _0x19df84&&_0x47dc64[_0x2be904(0xaa)](_0x2be904(0x138),_0x19df84[_0x2be904(0xee)]()),logger_1['default'][_0x2be904(0xca)]('docker\x20cmd:\x20'+_0x47dc64),_0x47dc64;}function genDockerCmdOfCustomContainer(_0x251203){var _0x7a51c4=a14_0x282501,_0x1c1ce4=_0x251203[_0x7a51c4(0xc3)][_0x7a51c4(0x10a)]?JSON[_0x7a51c4(0x12d)](_0x251203['customContainerConfig'][_0x7a51c4(0x10a)]):undefined,_0x45751b=_0x251203[_0x7a51c4(0xc3)]['args']?JSON[_0x7a51c4(0x12d)](_0x251203[_0x7a51c4(0xc3)][_0x7a51c4(0xf5)]):undefined;if(_0x1c1ce4&&_0x45751b)return __spreadArrays(_0x1c1ce4,_0x45751b);else{if(_0x1c1ce4)return _0x1c1ce4;else{if(_0x45751b)return _0x45751b;}}return[];}function a14_0x40cb(_0x21ba50,_0x1184e0){return a14_0x40cb=function(_0x5c7a70,_0x40cbe9){_0x5c7a70=_0x5c7a70-0xaa;var _0x4a0f2e=a14_0x5c7a[_0x5c7a70];return _0x4a0f2e;},a14_0x40cb(_0x21ba50,_0x1184e0);}function generateDockerEnvs(_0x3ac71c,_0xb124e1,_0x43e3d1,_0x568ff5,_0x5a0a70,_0x3f2178,_0x2b1bab,_0x50d800,_0x5e607b,_0x2b1ae9,_0x5d3798,_0x2ae831){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4cbc16,_0x4dcfa2,_0x1c441f,_0x38ff60,_0x3a15de;return __generator(this,function(_0x510d66){var _0x219d9f=a14_0x40cb;switch(_0x510d66[_0x219d9f(0xc9)]){case 0x0:_0x4cbc16={};_0x5e607b&&Object[_0x219d9f(0x133)](_0x4cbc16,{'FC_HTTP_PARAMS':_0x5e607b});return[0x4,env_1[_0x219d9f(0x104)](_0x43e3d1,_0x2b1bab[_0x219d9f(0x126)])];case 0x1:_0x4dcfa2=_0x510d66[_0x219d9f(0x193)](),Object[_0x219d9f(0x133)](_0x4cbc16,_0x4dcfa2),_0x1c441f=_0x2b1bab[_0x219d9f(0xe7)];if(_0x50d800&&!_0x2ae831)_0x38ff60=debug_1[_0x219d9f(0xda)](_0x1c441f,_0x50d800,_0x5d3798),Object[_0x219d9f(0x133)](_0x4cbc16,_0x38ff60);else _0x2ae831&&Object[_0x219d9f(0x133)](_0x4cbc16,{'DEBUG_OPTIONS':_0x2ae831});Object[_0x219d9f(0x133)](_0x4cbc16,generateFunctionEnvs(_0x2b1bab));definition_1[_0x219d9f(0x100)](_0x5a0a70===null||_0x5a0a70===void 0x0?void 0x0:_0x5a0a70[_0x219d9f(0x136)])?_0x3a15de=definition_1[_0x219d9f(0xb7)](_0x3ac71c===null||_0x3ac71c===void 0x0?void 0x0:_0x3ac71c['AccountID'],_0xb124e1,_0x568ff5):_0x3a15de=_0x5a0a70===null||_0x5a0a70===void 0x0?void 0x0:_0x5a0a70[_0x219d9f(0x136)];(_0x2b1bab===null||_0x2b1bab===void 0x0?void 0x0:_0x2b1bab[_0x219d9f(0xe7)][_0x219d9f(0x179)](_0x219d9f(0xd4)))&&Object[_0x219d9f(0x133)](_0x4cbc16,{'fc_enable_new_java_ca':!![]});Object[_0x219d9f(0x133)](_0x4cbc16,{'local':!![],'FC_ACCESS_KEY_ID':_0x3ac71c===null||_0x3ac71c===void 0x0?void 0x0:_0x3ac71c['AccessKeyID'],'FC_ACCESS_KEY_SECRET':_0x3ac71c===null||_0x3ac71c===void 0x0?void 0x0:_0x3ac71c['AccessKeySecret'],'FC_SECURITY_TOKEN':_0x3ac71c===null||_0x3ac71c===void 0x0?void 0x0:_0x3ac71c[_0x219d9f(0x129)],'FC_ACCOUNT_ID':_0x3ac71c===null||_0x3ac71c===void 0x0?void 0x0:_0x3ac71c[_0x219d9f(0x11e)],'FC_REGION':_0xb124e1,'FC_FUNCTION_NAME':_0x3f2178,'FC_HANDLER':_0x2b1bab[_0x219d9f(0xdf)],'FC_MEMORY_SIZE':_0x2b1bab[_0x219d9f(0xfb)]||0x80,'FC_TIMEOUT':_0x2b1bab[_0x219d9f(0xf0)]||0x3,'FC_INITIALIZER':_0x2b1bab['initializer'],'FC_INITIALIZATION_TIMEOUT':_0x2b1bab[_0x219d9f(0x15a)]||0x3,'FC_SERVICE_NAME':_0x568ff5,'FC_SERVICE_LOG_PROJECT':_0x3a15de===null||_0x3a15de===void 0x0?void 0x0:_0x3a15de['project'],'FC_SERVICE_LOG_STORE':_0x3a15de===null||_0x3a15de===void 0x0?void 0x0:_0x3a15de[_0x219d9f(0x16c)]});if(runtime_1['isCustomContainerRuntime'](_0x2b1bab[_0x219d9f(0xe7)]))return[0x2,_0x4cbc16];return[0x2,env_1[_0x219d9f(0xcc)](_0x4cbc16,_0x2b1ae9)];}});});}exports[a14_0x282501(0x118)]=generateDockerEnvs;function generateFunctionEnvs(_0x9546cd){var _0x454d0a=a14_0x282501,_0x3c7d3a=_0x9546cd[_0x454d0a(0xd7)];if(!_0x3c7d3a)return{};return Object[_0x454d0a(0x133)]({},_0x3c7d3a);}exports[a14_0x282501(0xb5)]=generateFunctionEnvs;function pullFcImageIfNeed(_0x52cf54){return __awaiter(this,void 0x0,void 0x0,function(){var _0x534cc9;return __generator(this,function(_0x11e8fd){var _0x278594=a14_0x40cb;switch(_0x11e8fd['label']){case 0x0:return[0x4,imageExist(_0x52cf54)];case 0x1:_0x534cc9=_0x11e8fd[_0x278594(0x193)]();if(!(!_0x534cc9||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0x52cf54)];case 0x2:_0x11e8fd['sent']();return[0x3,0x4];case 0x3:logger_1['default'][_0x278594(0xca)](_0x278594(0xe6)+_0x52cf54+_0x278594(0x15e)),logger_1[_0x278594(0x189)][_0x278594(0xbc)](_0x278594(0x130)+_0x52cf54+_0x278594(0x15e)),_0x11e8fd[_0x278594(0xc9)]=0x4;case 0x4:return[0x2];}});});}exports[a14_0x282501(0x13e)]=pullFcImageIfNeed;function pullImage(_0x156a55){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2a3ce3,_0x66458d,_0xfe2685=this;return __generator(this,function(_0x92cb8b){var _0x2c26c9=a14_0x40cb;switch(_0x92cb8b[_0x2c26c9(0xc9)]){case 0x0:return[0x4,dockerOpts[_0x2c26c9(0x191)](_0x156a55)];case 0x1:_0x2a3ce3=_0x92cb8b[_0x2c26c9(0x193)]();return[0x4,docker[_0x2c26c9(0x11f)](_0x2a3ce3)];case 0x2:_0x66458d=_0x92cb8b[_0x2c26c9(0x193)]();return[0x4,new Promise(function(_0x16df19,_0x5e63a9){var _0x1ae064=_0x2c26c9;logger_1['default'][_0x1ae064(0xbc)](_0x1ae064(0x14c)+_0x2a3ce3+_0x1ae064(0xec)+(_0x1ae064(0x120)+_0x2a3ce3+'\x27')+'\x20to\x20pull\x20image\x20by\x20yourself.');var _0x254b1b=function(_0x14107c){return __awaiter(_0xfe2685,void 0x0,void 0x0,function(){var _0x43ec8a,_0xee5ff3,_0x4dec35,_0x57a4e9,_0x1e93d4,_0x28009d;return __generator(this,function(_0x472306){var _0x5a3284=a14_0x40cb;switch(_0x472306['label']){case 0x0:_0x14107c&&_0x5e63a9(_0x14107c);containers[_0x5a3284(0x158)](_0x66458d),(_0x43ec8a=0x0,_0xee5ff3=dockerOpts[_0x5a3284(0x154)]),_0x472306[_0x5a3284(0xc9)]=0x1;case 0x1:if(!(_0x43ec8a<_0xee5ff3[_0x5a3284(0xf4)]))return[0x3,0x5];_0x4dec35=_0xee5ff3[_0x43ec8a];if(!(_0x2a3ce3[_0x5a3284(0xb3)](_0x4dec35)===0x0))return[0x3,0x4];return[0x4,docker[_0x5a3284(0x14b)](_0x2a3ce3)];case 0x2:_0x57a4e9=_0x472306[_0x5a3284(0x193)](),_0x1e93d4=_0x2a3ce3[_0x5a3284(0x12f)](_0x4dec35['length']+0x1),_0x28009d=_0x1e93d4[_0x5a3284(0x101)](':');return[0x4,_0x57a4e9[_0x5a3284(0xc0)]({'name':_0x2a3ce3,'repo':lodash_1[_0x5a3284(0x189)][_0x5a3284(0xf6)](_0x28009d),'tag':lodash_1[_0x5a3284(0x189)][_0x5a3284(0x192)](_0x28009d)})];case 0x3:_0x472306[_0x5a3284(0x193)]();return[0x3,0x5];case 0x4:_0x43ec8a++;return[0x3,0x1];case 0x5:_0x16df19(_0x2a3ce3);return[0x2];}});});};containers[_0x1ae064(0x146)](_0x66458d),followProgress(_0x66458d,_0x254b1b);})];case 0x3:return[0x2,_0x92cb8b[_0x2c26c9(0x193)]()];}});});}exports[a14_0x282501(0x171)]=pullImage;function followProgress(_0x33c705,_0x11b8b5){var _0x463d6f=a14_0x282501,_0x4abb6b={},_0xa0f7bc=function(_0x5096a7){var _0x2e152a=a14_0x40cb,_0x5e90f7=_0x5096a7[_0x2e152a(0x112)];_0x5096a7['progress']&&(_0x5e90f7=_0x5096a7[_0x2e152a(0x112)]+'\x20'+_0x5096a7[_0x2e152a(0xff)]);if(_0x5096a7['id']){var _0x2de643=_0x5096a7['id'];!_0x4abb6b[_0x2de643]&&(_0x4abb6b[_0x2de643]=console[_0x2e152a(0x132)]()),_0x4abb6b[_0x2de643](_0x2de643+':\x20'+_0x5e90f7);}else{lodash_1[_0x2e152a(0x189)][_0x2e152a(0xf7)](_0x5096a7,_0x2e152a(0x187))&&(_0x5096a7[_0x2e152a(0x148)]=_0x5096a7[_0x2e152a(0xbd)]['ID']+'\x0a');var _0x5f2bb0=_0x5096a7[_0x2e152a(0x112)]?_0x5096a7['status']+'\x0a':_0x5096a7[_0x2e152a(0x148)];process[_0x2e152a(0xac)][_0x2e152a(0x165)](_0x5f2bb0);}};docker['modem'][_0x463d6f(0x172)](_0x33c705,_0x11b8b5,_0xa0f7bc);}function runContainer(_0x3cf32c,_0x3213cd,_0x53cdcb,_0x1ec0f0){return __awaiter(this,void 0x0,void 0x0,function(){var _0x27f1ed,_0x30ea51,_0x2d1c0c,_0x473fd4,_0x12680e;return __generator(this,function(_0x5e4afd){var _0xe7e951=a14_0x40cb;switch(_0x5e4afd[_0xe7e951(0xc9)]){case 0x0:return[0x4,createContainer(_0x3cf32c)];case 0x1:_0x27f1ed=_0x5e4afd['sent'](),_0x30ea51={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x27f1ed[_0xe7e951(0xf8)](_0x30ea51)];case 0x2:_0x2d1c0c=_0x5e4afd[_0xe7e951(0x193)]();!_0x3213cd&&(_0x3213cd=process[_0xe7e951(0xac)]);!_0x53cdcb&&(_0x53cdcb=process[_0xe7e951(0xcb)]);_0x473fd4=error_processor_1[_0xe7e951(0x17c)]({'serviceName':_0x1ec0f0===null||_0x1ec0f0===void 0x0?void 0x0:_0x1ec0f0[_0xe7e951(0x18d)],'functionName':_0x1ec0f0===null||_0x1ec0f0===void 0x0?void 0x0:_0x1ec0f0[_0xe7e951(0x11a)],'errorStream':_0x53cdcb});!isWin&&_0x27f1ed[_0xe7e951(0xdb)][_0xe7e951(0x159)](_0x2d1c0c,_0x3213cd,_0x473fd4);return[0x4,_0x27f1ed['start']()];case 0x3:_0x5e4afd['sent']();if(!isWin)return[0x3,0x5];return[0x4,_0x27f1ed[_0xe7e951(0xab)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0x12680e=_0x5e4afd['sent'](),_0x27f1ed[_0xe7e951(0xdb)][_0xe7e951(0x159)](_0x12680e,_0x3213cd,_0x473fd4),_0x5e4afd[_0xe7e951(0xc9)]=0x5;case 0x5:containers[_0xe7e951(0x146)](_0x27f1ed['id']),streams['add'](_0x2d1c0c);return[0x2,{'container':_0x27f1ed,'stream':_0x2d1c0c}];}});});}exports[a14_0x282501(0x102)]=runContainer;function resolveCodeUriToMount(_0x52c819,_0x70fc6){return _0x70fc6===void 0x0&&(_0x70fc6=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x40735d,_0x21d22b;return __generator(this,function(_0x9595d6){var _0x1040c0=a14_0x40cb;switch(_0x9595d6['label']){case 0x0:if(!_0x52c819)return[0x2,null];_0x40735d=null;return[0x4,fs[_0x1040c0(0x140)](_0x52c819)];case 0x1:_0x21d22b=_0x9595d6[_0x1040c0(0x193)]();_0x21d22b['isDirectory']()?_0x40735d=_0x1040c0(0x156):_0x40735d=path_1['default'][_0x1040c0(0xb0)][_0x1040c0(0xbf)](_0x1040c0(0x156),path_1[_0x1040c0(0x189)][_0x1040c0(0x142)](_0x52c819));return[0x2,{'Type':_0x1040c0(0x109),'Source':_0x52c819,'Target':_0x40735d,'ReadOnly':_0x70fc6}];}});});}exports[a14_0x282501(0x113)]=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x307547,_0x42c35d;return __generator(this,function(_0x481acb){var _0x642dbb=a14_0x40cb;switch(_0x481acb[_0x642dbb(0xc9)]){case 0x0:return[0x4,docker[_0x642dbb(0xbc)]()];case 0x1:_0x307547=_0x481acb[_0x642dbb(0x193)]();return[0x4,detectDockerVersion(_0x307547[_0x642dbb(0x11c)]||'')];case 0x2:_0x481acb[_0x642dbb(0x193)](),_0x42c35d=(_0x307547['Labels']||[])['map'](function(_0x305b91){var _0x4543d9=_0x642dbb;return lodash_1[_0x4543d9(0x189)]['split'](_0x305b91,'=',0x2);})[_0x642dbb(0xef)](function(_0x26d737){var _0x33683f=_0x642dbb;return _0x26d737[_0x33683f(0xf4)]===0x2;})[_0x642dbb(0x137)](function(_0x3dd14e,_0x5b1a2d){return _0x3dd14e[_0x5b1a2d[0x0]]=_0x5b1a2d[0x1],_0x3dd14e;},{});return[0x2,process['platform']===_0x642dbb(0x122)&&_0x42c35d[_0x642dbb(0x15d)]===_0x642dbb(0xcf)];}});});}exports[a14_0x282501(0x167)]=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0xef3913){return __awaiter(this,void 0x0,void 0x0,function(){var _0x377b2b;return __generator(this,function(_0x441790){var _0x14a5d1=a14_0x40cb;_0x377b2b=_0xef3913[_0x14a5d1(0x101)]('.');if(Number[_0x14a5d1(0xc5)](_0x377b2b[0x0])===0x1&&Number[_0x14a5d1(0xc5)](_0x377b2b[0x1])<=0xd)throw new Error('\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20'+_0xef3913+_0x14a5d1(0xb1));return[0x2];});});}exports[a14_0x282501(0x115)]=detectDockerVersion;function createContainer(_0x32123f){var _0x1859e3;return __awaiter(this,void 0x0,void 0x0,function(){var _0x5821cf,_0x1eb71c,_0x2e1813,_0x3efd05,_0x2c11dd,_0x4eab7b;return __generator(this,function(_0x24ca1a){var _0x52d3ba=a14_0x40cb;switch(_0x24ca1a['label']){case 0x0:_0x5821cf=process[_0x52d3ba(0x15c)]==='win32',_0x1eb71c=process[_0x52d3ba(0x15c)]==='darwin';if(!(_0x32123f&&_0x1eb71c))return[0x3,0x2];if(!_0x32123f[_0x52d3ba(0x145)])return[0x3,0x2];return[0x4,docker_support_1['findPathsOutofSharedPaths']((_0x1859e3=_0x32123f[_0x52d3ba(0x145)])===null||_0x1859e3===void 0x0?void 0x0:_0x1859e3[_0x52d3ba(0xb9)])];case 0x1:_0x2e1813=_0x24ca1a['sent']();if(_0x1eb71c&&_0x2e1813['length']>0x0)throw new Error(_0x52d3ba(0x176)+_0x2e1813+_0x52d3ba(0xfa));_0x24ca1a[_0x52d3ba(0xc9)]=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0x3efd05=_0x24ca1a[_0x52d3ba(0x193)](),_0x24ca1a[_0x52d3ba(0xc9)]=0x4;case 0x4:_0x24ca1a[_0x52d3ba(0x134)]['push']([0x4,0x6,,0x7]);return[0x4,docker[_0x52d3ba(0xfc)](_0x32123f)];case 0x5:_0x2c11dd=_0x24ca1a[_0x52d3ba(0x193)]();return[0x3,0x7];case 0x6:_0x4eab7b=_0x24ca1a[_0x52d3ba(0x193)]();if(_0x4eab7b[_0x52d3ba(0xd5)][_0x52d3ba(0xb3)](_0x52d3ba(0x162))!==-0x1&&_0x3efd05)throw new Error(_0x52d3ba(0xd1));if(_0x4eab7b[_0x52d3ba(0xd5)][_0x52d3ba(0xb3)]('drive\x20is\x20not\x20shared')!==-0x1&&_0x5821cf)throw new Error(_0x4eab7b[_0x52d3ba(0xd5)]+_0x52d3ba(0x170));throw _0x4eab7b;case 0x7:return[0x2,_0x2c11dd];}});});}function resolveNasConfigToMounts(_0xdd01f5,_0x4a617b,_0x5843b4,_0x35445d){return __awaiter(this,void 0x0,void 0x0,function(){var _0x31ba61;return __generator(this,function(_0x54e16a){var _0x1dfd23=a14_0x40cb;switch(_0x54e16a[_0x1dfd23(0xc9)]){case 0x0:return[0x4,nas['convertNasConfigToNasMappings'](_0x35445d,_0x5843b4,_0x4a617b)];case 0x1:_0x31ba61=_0x54e16a['sent']();return[0x2,convertNasMappingsToMounts(devs_1[_0x1dfd23(0xd9)](_0xdd01f5),_0x31ba61)];}});});}exports[a14_0x282501(0xb8)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0xe551a3,_0x5c0db6){var _0x12adc0=a14_0x282501;return _0x5c0db6[_0x12adc0(0x18e)](function(_0x515484){var _0x598104=_0x12adc0;return{'Type':_0x598104(0x109),'Source':path_1['default']['resolve'](_0xe551a3,_0x515484['localNasDir']),'Target':_0x515484[_0x598104(0xe5)],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x38bf71){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0xe18f31){var _0x30fda0=a14_0x40cb;if(!_0x38bf71)return[0x2,{}];return[0x2,{'Type':_0x30fda0(0x109),'Source':_0x38bf71,'Target':_0x30fda0(0x12e),'ReadOnly':![]}];});});}exports[a14_0x282501(0xe0)]=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x28c3a4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x16f9e7;return __generator(this,function(_0x469762){var _0xd7afd2=a14_0x40cb;if(!_0x28c3a4)return[0x2,{}];return _0x16f9e7=path_1[_0xd7afd2(0x189)][_0xd7afd2(0x10c)](_0x28c3a4),[0x2,{'Type':_0xd7afd2(0x109),'Source':_0x16f9e7,'Target':'/tmp/debugger_files','ReadOnly':![]}];});});}exports['resolveDebuggerPathToMount']=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2479c4;return __generator(this,function(_0x3f86a5){var _0x2680c3=a14_0x40cb;switch(_0x3f86a5[_0x2680c3(0xc9)]){case 0x0:if(!(process[_0x2680c3(0x15c)]===_0x2680c3(0x139)))return[0x3,0x2];_0x2479c4={'Type':_0x2680c3(0x109)};return[0x4,passwd_1[_0x2680c3(0xf3)]()];case 0x1:return[0x2,(_0x2479c4[_0x2680c3(0x185)]=_0x3f86a5[_0x2680c3(0x193)](),_0x2479c4[_0x2680c3(0x183)]='/etc/passwd',_0x2479c4[_0x2680c3(0x188)]=!![],_0x2479c4)];case 0x2:return[0x2,null];}});});}exports[a14_0x282501(0x17e)]=resolvePasswdMount;function createAndRunContainer(_0x44eeb3){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2fac79;return __generator(this,function(_0x10f3d9){var _0x19f3f2=a14_0x40cb;switch(_0x10f3d9[_0x19f3f2(0xc9)]){case 0x0:return[0x4,createContainer(_0x44eeb3)];case 0x1:_0x2fac79=_0x10f3d9[_0x19f3f2(0x193)](),containers['add'](_0x2fac79['id']);return[0x4,_0x2fac79[_0x19f3f2(0xad)]({})];case 0x2:_0x10f3d9[_0x19f3f2(0x193)]();return[0x2,_0x2fac79];}});});}exports['createAndRunContainer']=createAndRunContainer;function showDebugIdeTipsForVscode(_0x46aef5,_0x4c8036,_0x5765fb,_0x441f23,_0x472728){return __awaiter(this,void 0x0,void 0x0,function(){var _0x21d690;return __generator(this,function(_0x596312){var _0x3a6447=a14_0x40cb;switch(_0x596312['label']){case 0x0:return[0x4,debug_1[_0x3a6447(0x143)](_0x46aef5,_0x4c8036,_0x5765fb,_0x441f23,_0x472728)];case 0x1:_0x21d690=_0x596312[_0x3a6447(0x193)](),logger_1[_0x3a6447(0x189)][_0x3a6447(0x16d)](_0x3a6447(0x184),'yellow'),logger_1[_0x3a6447(0x189)][_0x3a6447(0x16d)](_0x3a6447(0x147)),logger_1[_0x3a6447(0x189)][_0x3a6447(0x16d)](JSON[_0x3a6447(0x157)](_0x21d690,null,0x4)),logger_1[_0x3a6447(0x189)][_0x3a6447(0x16d)]('/////////////////\x20config\x20end\x20/////////////////');return[0x2];}});});}exports[a14_0x282501(0xb6)]=showDebugIdeTipsForVscode;function writeDebugIdeConfigForVscode(_0x31d912,_0x241629,_0x333578,_0x89e1a9,_0x353e10,_0x52d9dc){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5bef65,_0x4d5d7d,_0x18f110,_0x8ca853,_0x573e7f,_0x472858,_0x40749b,_0x4bcc5e;return __generator(this,function(_0x582289){var _0x4b7252=a14_0x40cb;switch(_0x582289['label']){case 0x0:_0x5bef65=path_1[_0x4b7252(0x189)][_0x4b7252(0xbf)](_0x31d912,'.vscode'),_0x4d5d7d=path_1[_0x4b7252(0x189)][_0x4b7252(0xbf)](_0x5bef65,'launch.json'),_0x582289[_0x4b7252(0xc9)]=0x1;case 0x1:_0x582289['trys'][_0x4b7252(0xaa)]([0x1,0x3,,0x5]);return[0x4,fs['ensureDir'](path_1[_0x4b7252(0x189)][_0x4b7252(0x144)](_0x4d5d7d))];case 0x2:_0x582289[_0x4b7252(0x193)]();return[0x3,0x5];case 0x3:_0x18f110=_0x582289['sent'](),logger_1['default'][_0x4b7252(0x10b)](_0x4b7252(0x194)+_0x5bef65+_0x4b7252(0xd0));return[0x4,showDebugIdeTipsForVscode(_0x241629,_0x333578,_0x89e1a9,_0x353e10,_0x52d9dc)];case 0x4:_0x582289['sent'](),logger_1[_0x4b7252(0x189)][_0x4b7252(0xca)](_0x4b7252(0x194)+_0x5bef65+_0x4b7252(0x14f)+_0x18f110);return[0x2];case 0x5:return[0x4,debug_1[_0x4b7252(0x143)](_0x241629,_0x333578,_0x89e1a9,_0x353e10,_0x52d9dc)];case 0x6:_0x8ca853=_0x582289[_0x4b7252(0x193)]();if(!(fs[_0x4b7252(0xe2)](_0x4d5d7d)&&fs[_0x4b7252(0x14a)](_0x4d5d7d)[_0x4b7252(0xe3)]()))return[0x3,0x9];_0x40749b=(_0x472858=JSON)[_0x4b7252(0x12d)];return[0x4,fs[_0x4b7252(0x16e)](_0x4d5d7d,{'encoding':_0x4b7252(0xea)})];case 0x7:_0x573e7f=_0x40749b[_0x4b7252(0xd6)](_0x472858,[_0x582289[_0x4b7252(0x193)]()]);if(lodash_1[_0x4b7252(0x189)]['isEqual'](_0x573e7f,_0x8ca853))return[0x2];logger_1[_0x4b7252(0x189)][_0x4b7252(0x10b)](_0x4b7252(0x164)+_0x4d5d7d+_0x4b7252(0xc7));return[0x4,showDebugIdeTipsForVscode(_0x241629,_0x333578,_0x89e1a9,_0x353e10,_0x52d9dc)];case 0x8:_0x582289['sent']();return[0x2];case 0x9:_0x582289['trys'][_0x4b7252(0xaa)]([0x9,0xb,,0xd]);return[0x4,fs[_0x4b7252(0x182)](_0x4d5d7d,JSON[_0x4b7252(0x157)](_0x8ca853,null,'\x20\x20'),{'encoding':'utf8','flag':'w'})];case 0xa:_0x582289[_0x4b7252(0x193)]();return[0x3,0xd];case 0xb:_0x4bcc5e=_0x582289[_0x4b7252(0x193)](),logger_1[_0x4b7252(0x189)][_0x4b7252(0x10b)](_0x4b7252(0x196)+_0x4d5d7d+_0x4b7252(0xd0));return[0x4,showDebugIdeTipsForVscode(_0x241629,_0x333578,_0x89e1a9,_0x353e10,_0x52d9dc)];case 0xc:_0x582289[_0x4b7252(0x193)](),logger_1[_0x4b7252(0x189)][_0x4b7252(0xca)]('Write\x20'+_0x4d5d7d+'\x20failed,\x20error:\x20'+_0x4bcc5e);return[0x3,0xd];case 0xd:return[0x2];}});});}exports[a14_0x282501(0x116)]=writeDebugIdeConfigForVscode;function showDebugIdeTipsForPycharm(_0x2f26fc,_0x496117){return __awaiter(this,void 0x0,void 0x0,function(){var _0xa0c34e;return __generator(this,function(_0x50c3d4){var _0x536f7a=a14_0x40cb;switch(_0x50c3d4[_0x536f7a(0xc9)]){case 0x0:return[0x4,fs['lstat'](_0x2f26fc)];case 0x1:_0xa0c34e=_0x50c3d4[_0x536f7a(0x193)]();!_0xa0c34e['isDirectory']()&&(_0x2f26fc=path_1[_0x536f7a(0x189)][_0x536f7a(0x144)](_0x2f26fc));logger_1[_0x536f7a(0x189)][_0x536f7a(0x16d)](_0x536f7a(0x166)+ip[_0x536f7a(0xcd)]()+_0x536f7a(0x107)+_0x496117+_0x536f7a(0xc1)+_0x2f26fc+_0x536f7a(0xeb)+ip[_0x536f7a(0xcd)]()+_0x536f7a(0x119)+_0x496117+_0x536f7a(0x149),_0x536f7a(0xd3));return[0x2];}});});}exports['showDebugIdeTipsForPycharm']=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0x1eaedf,_0x2f3f88){var _0x2b7df3=a14_0x282501;_0x2f3f88&&_0x1eaedf[_0x2b7df3(0x165)](_0x2f3f88),_0x1eaedf[_0x2b7df3(0xd8)]();}function startContainer(_0x54c7b0,_0x534187,_0x4b97aa,_0x12fe5c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4fd0ec,_0xd29b1a,_0x34466e,_0x534642,_0x4b9075=this;return __generator(this,function(_0x316acd){var _0x18a191=a14_0x40cb;switch(_0x316acd['label']){case 0x0:return[0x4,createContainer(_0x54c7b0)];case 0x1:_0x4fd0ec=_0x316acd[_0x18a191(0x193)](),containers[_0x18a191(0x146)](_0x4fd0ec['id']),_0x316acd['label']=0x2;case 0x2:_0x316acd[_0x18a191(0x134)][_0x18a191(0xaa)]([0x2,0x4,,0x5]);return[0x4,_0x4fd0ec[_0x18a191(0xad)]({})];case 0x3:_0x316acd['sent']();return[0x3,0x5];case 0x4:_0xd29b1a=_0x316acd[_0x18a191(0x193)](),logger_1['default'][_0x18a191(0x198)](_0xd29b1a);return[0x3,0x5];case 0x5:_0x34466e=_0x534187||_0x4b97aa;if(!_0x34466e)return[0x3,0x7];!_0x534187&&(_0x534187=dev_null_1[_0x18a191(0x189)]());!_0x4b97aa&&(_0x4b97aa=dev_null_1['default']());return[0x4,_0x4fd0ec[_0x18a191(0xab)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x534642=_0x316acd[_0x18a191(0x193)](),_0x4fd0ec['modem'][_0x18a191(0x159)](_0x534642,_0x534187,error_processor_1[_0x18a191(0x17c)]({'serviceName':_0x12fe5c[_0x18a191(0x18d)],'functionName':_0x12fe5c[_0x18a191(0x11a)],'errorStream':_0x4b97aa})),_0x316acd[_0x18a191(0xc9)]=0x7;case 0x7:return[0x2,{'containerId':_0x4fd0ec===null||_0x4fd0ec===void 0x0?void 0x0:_0x4fd0ec['id'],'stop':function(){return __awaiter(_0x4b9075,void 0x0,void 0x0,function(){return __generator(this,function(_0xc0ec2f){var _0x2edf45=a14_0x40cb;switch(_0xc0ec2f[_0x2edf45(0xc9)]){case 0x0:logger_1[_0x2edf45(0x189)][_0x2edf45(0xca)]('Stopping\x20container:\x20'+_0x4fd0ec['id']);return[0x4,_0x4fd0ec[_0x2edf45(0x14e)]()];case 0x1:_0xc0ec2f[_0x2edf45(0x193)](),containers[_0x2edf45(0x158)](_0x4fd0ec['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x4b9075,void 0x0,void 0x0,function(){return __generator(this,function(_0x3ce12c){var _0x1ad626=a14_0x40cb;switch(_0x3ce12c[_0x1ad626(0xc9)]){case 0x0:logger_1[_0x1ad626(0x189)][_0x1ad626(0xca)](_0x1ad626(0x151)+_0x4fd0ec['id']);return[0x4,_0x4fd0ec[_0x1ad626(0x13a)]()];case 0x1:_0x3ce12c[_0x1ad626(0x193)](),containers[_0x1ad626(0x158)](_0x4fd0ec['id']);return[0x2];}});});},'exec':function(_0x365831,_0x4419d2){var _0x1e2b42=_0x18a191,_0x3fb38e=_0x4419d2===void 0x0?{}:_0x4419d2,_0x5de9a1=_0x3fb38e[_0x1e2b42(0x173)],_0x2c93b1=_0x5de9a1===void 0x0?'':_0x5de9a1,_0x2171fa=_0x3fb38e['env'],_0x1894f5=_0x2171fa===void 0x0?{}:_0x2171fa,_0xd95de3=_0x3fb38e[_0x1e2b42(0x178)],_0x42f000=_0xd95de3===void 0x0?process[_0x1e2b42(0xac)]:_0xd95de3,_0x5a66b6=_0x3fb38e[_0x1e2b42(0x174)],_0x1b4976=_0x5a66b6===void 0x0?process[_0x1e2b42(0xcb)]:_0x5a66b6,_0x59dfdf=_0x3fb38e[_0x1e2b42(0x13b)],_0x4734e9=_0x59dfdf===void 0x0?![]:_0x59dfdf,_0x41ce8f=_0x3fb38e['context'],_0x5f5a8b=_0x41ce8f===void 0x0?{}:_0x41ce8f,_0xd919c7=_0x3fb38e[_0x1e2b42(0x108)],_0x589c3d=_0xd919c7===void 0x0?null:_0xd919c7;return __awaiter(_0x4b9075,void 0x0,void 0x0,function(){var _0xc30096,_0x372404,_0x171bd8,_0x41d0fc;return __generator(this,function(_0xb9a4cb){var _0x47df63=a14_0x40cb;switch(_0xb9a4cb[_0x47df63(0xc9)]){case 0x0:_0xc30096=_0x589c3d?!![]:![],_0x372404={'Env':dockerOpts['resolveDockerEnv'](_0x1894f5),'Tty':![],'AttachStdin':_0xc30096,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x2c93b1};_0x365831!==[]&&(_0x372404[_0x47df63(0x177)]=_0x365831);logger_1['default'][_0x47df63(0xca)](_0x47df63(0x13d)+JSON['stringify'](_0x372404,null,0x4));return[0x4,_0x4fd0ec[_0x47df63(0x17f)](_0x372404)];case 0x1:_0x171bd8=_0xb9a4cb['sent']();return[0x4,_0x171bd8[_0x47df63(0xad)]({'hijack':!![],'stdin':_0xc30096})];case 0x2:_0x41d0fc=_0xb9a4cb[_0x47df63(0x193)]();return[0x4,new Promise(function(_0x5ee5b7){return setTimeout(_0x5ee5b7,0x1e);})];case 0x3:_0xb9a4cb[_0x47df63(0x193)]();_0x589c3d!==null&&writeEventToStreamAndClose(_0x41d0fc,_0x589c3d);!_0x42f000&&(_0x42f000=process['stdout']);!_0x1b4976&&(_0x1b4976=process[_0x47df63(0xcb)]);_0x4734e9?_0x4fd0ec[_0x47df63(0xdb)][_0x47df63(0x159)](_0x41d0fc,_0x42f000,_0x1b4976):_0x4fd0ec[_0x47df63(0xdb)][_0x47df63(0x159)](_0x41d0fc,dev_null_1['default'](),_0x1b4976);return[0x4,waitForExec(_0x171bd8)];case 0x4:return[0x2,_0xb9a4cb[_0x47df63(0x193)]()];}});});}}];}});});}exports['startContainer']=startContainer;function waitForExec(_0x4854d8){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x5244fb){var _0x10a312=a14_0x40cb;switch(_0x5244fb[_0x10a312(0xc9)]){case 0x0:return[0x4,new Promise(function(_0x30a9aa,_0x1a7751){function _0x20bbfb(){var _0x36adbf=a14_0x40cb;_0x4854d8[_0x36adbf(0x14d)](function(_0x26bfcd,_0x4f008c){var _0x1b427e=_0x36adbf;if(_0x4f008c[_0x1b427e(0x11d)]){setTimeout(_0x20bbfb,0x64);return;}if(_0x26bfcd)_0x1a7751(_0x26bfcd);else _0x4f008c['ExitCode']!==0x0?_0x1a7751(_0x4f008c[_0x1b427e(0x195)][_0x1b427e(0x12a)]+_0x1b427e(0x18f)+_0x4f008c[_0x1b427e(0xe4)]):_0x30a9aa(_0x4f008c[_0x1b427e(0xe4)]);});}_0x20bbfb();})];case 0x1:return[0x2,_0x5244fb[_0x10a312(0x193)]()];}});});}function run(_0x1c0521,_0x2b200d,_0x286fab,_0x73ab1e,_0x9374bd){return _0x9374bd===void 0x0&&(_0x9374bd={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x694bd1,_0x1b1444,_0x490e3a,_0x5c5fa;return __generator(this,function(_0xea807c){var _0x179fbc=a14_0x40cb;switch(_0xea807c[_0x179fbc(0xc9)]){case 0x0:return[0x4,runContainer(_0x1c0521,_0x286fab,_0x73ab1e,_0x9374bd)];case 0x1:_0x694bd1=_0xea807c[_0x179fbc(0x193)](),_0x1b1444=_0x694bd1[_0x179fbc(0x10e)],_0x490e3a=_0x694bd1[_0x179fbc(0x148)],writeEventToStreamAndClose(_0x490e3a,_0x2b200d);return[0x4,_0x1b1444[_0x179fbc(0xde)]()];case 0x2:_0x5c5fa=_0xea807c[_0x179fbc(0x193)](),containers['delete'](_0x1b1444['id']),streams[_0x179fbc(0x158)](_0x490e3a);return[0x2,_0x5c5fa];}});});}exports[a14_0x282501(0x16b)]=run;function stopContainer(_0x5edd1e){return __awaiter(this,void 0x0,void 0x0,function(){var _0x497901,_0x44c8e5,_0x2237e5;return __generator(this,function(_0x4efe79){var _0x4e7dd7=a14_0x40cb;switch(_0x4efe79[_0x4e7dd7(0xc9)]){case 0x0:_0x497901=core['spinner'](_0x4e7dd7(0xc8)+_0x5edd1e['id']),_0x4efe79[_0x4e7dd7(0xc9)]=0x1;case 0x1:_0x4efe79[_0x4e7dd7(0x134)][_0x4e7dd7(0xaa)]([0x1,0x3,,0x8]);return[0x4,_0x5edd1e[_0x4e7dd7(0x14e)]()];case 0x2:_0x4efe79[_0x4e7dd7(0x193)](),_0x497901[_0x4e7dd7(0x175)](_0x4e7dd7(0xfe));return[0x3,0x8];case 0x3:_0x44c8e5=_0x4efe79[_0x4e7dd7(0x193)](),_0x497901[_0x4e7dd7(0xfd)](_0x4e7dd7(0x17b)),logger_1[_0x4e7dd7(0x189)]['debug'](_0x4e7dd7(0x114)+_0x5edd1e['id']+_0x4e7dd7(0x14f)+_0x44c8e5),_0x497901=core[_0x4e7dd7(0x10d)](_0x4e7dd7(0x161)+_0x5edd1e['id']),_0x4efe79[_0x4e7dd7(0xc9)]=0x4;case 0x4:_0x4efe79['trys']['push']([0x4,0x6,,0x7]);return[0x4,_0x5edd1e[_0x4e7dd7(0x13a)]()];case 0x5:_0x4efe79['sent'](),_0x497901['succeed'](_0x4e7dd7(0x12b));return[0x3,0x7];case 0x6:_0x2237e5=_0x4efe79[_0x4e7dd7(0x193)](),_0x497901[_0x4e7dd7(0xfd)]('Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.'),logger_1[_0x4e7dd7(0x189)]['debug']('Kill\x20proxy\x20container:\x20'+_0x5edd1e['id']+_0x4e7dd7(0x14f)+_0x2237e5);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x282501(0x13f)]=stopContainer;