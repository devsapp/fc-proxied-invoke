'use strict';var a14_0x587b=['resolveCodeUriToMount','path','resolveLibPathsFromLdConf','Generator\x20is\x20already\x20executing.','error','base64','trys','=/code\x0a\x0aDebug\x20Code\x20needed\x20to:\x0a\x201.\x20Install\x20pydevd-pycharm:\x0a\x20\x0a\x20pip\x20install\x20pydevd-pycharm~=203.5981.165\x0a\x20\x0a\x202.\x20copy\x20to\x20your\x20function\x20code:\x0a\x0aimport\x20pydevd_pycharm\x0apydevd_pycharm.settrace(\x27','then','Running','basename','--event-decode','--http','Proxy\x20image\x20url:\x20','Stopping\x20the\x20container:\x20','environmentVariables','cwd','\x27\x20to\x20Docker\x20File\x20sharing\x20list,\x20more\x20information\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md','drive\x20is\x20not\x20shared','More\x20information\x20please\x20refer\x20to\x20https://docs.docker.com/docker-for-windows/#shared-drives','Please\x20add\x20directory\x20\x27','./docker-opts','write','__esModule','indexOf','project','create','1538MzgKyW','attach','\x0aPath\x20mappings\x20\x20:\x20','functionName','inspect','1404537jmuLKE','java','resolveDebuggerPathToMount','__importDefault','run','pullImage','You\x20can\x20paste\x20these\x20config\x20to\x20.vscode/launch.json,\x20and\x20then\x20attach\x20to\x20your\x20running\x20function','runContainer','assign','ExitCode','aux','processorTransformFactory','start','has','../utils/passwd','convertNasConfigToNasMappings','followProgress','Mounts','__setModuleDefault','Skip\x20pulling\x20image\x20','remoteNasDir','27653eBsUhx','platform','localNasDir','../devs','startContainer','stdout','stopContainer','pullImageIfNeed','generateFunctionEnvs','slice','runtime','wait','ops','2237VmNZrK','Cmd','toString','args','../../common/logger','push','status','./docker-support',',\x20for\x20a\x20better\x20experience,\x20please\x20upgrade\x20the\x20docker\x20version.','AccountID','timeout','initializer','progress','stringify','fail','__importStar','1184045OEJxRL','logstore','Failed\x20to\x20kill\x20the\x20container.Please\x20stop\x20it\x20manually.','substr','Stop\x20container\x20succeed.','Kill\x20container\x20succeed','Kill\x20proxy\x20container:\x20','delete','pop','generateDockerCmd','logs','hasOwnProperty','The\x20default\x20host\x20machine\x20path\x20for\x20docker\x20toolbox\x20is\x20under\x20\x27C:\x5cUsers\x27,\x20Please\x20make\x20sure\x20your\x20project\x20is\x20in\x20this\x20directory.\x20If\x20you\x20want\x20to\x20mount\x20other\x20disk\x20paths,\x20please\x20refer\x20to\x20https://github.com/alibaba/funcraft/blob/master/docs/usage/faq-zh.md\x20.','reduce','../local-invoke/env','DOCKER_REGISTRIES','/////////////////\x20config\x20end\x20/////////////////','parse','../utils/runtime','parseInt','info','kill','generateDebugEnv','lodash','verbose','AccessKeySecret','debug','end','/code','memorySize',',\x20you\x20can\x20also\x20use\x20','Pulling\x20image\x20','\x0aWe\x20detected\x20that\x20your\x20docker\x20version\x20is\x20','51JlkyUK','errorStream','demuxStream','Stopping\x20container:\x20','341JeJPGh','message','\x20failed,\x20error:\x20','next','ReadOnly','log','1299966ikJjZz','fs-extra','modem','--initializationTimeout','env','add','done','HostConfig','\x27docker\x20pull\x20','dev-null','showDebugIdeTipsForPycharm','length',',\x20stdoutToServer=True,\x20stderrToServer=True)\x0a\x0a=========================================================================\x0a','608842ybkVgf','listImages','stderr','generateRamdomContainerName','generateVscodeDebugConfig','defineProperty','context','pullFcImageIfNeed','createAndRunContainer','/tmp','filter','draft','logConfig','serviceName','--event','\x20exited\x20with\x20code\x20','resolveDockerEnv','--stdin','call','detectDockerVersion','resolveTmpDirToMount','succeed','createContainer','showDebugIdeTipsForVscode','split','Killing\x20the\x20container:\x20','Stop\x20the\x20container:\x20','bind','default','pull','../local-invoke/debug','customContainerConfig','tag','resolveImageNameForPull','--server','@serverless-devs/core','yellow','invalid\x20mount\x20config\x20for\x20type','first','map','handler','skip\x20pulling\x20image\x20','1487LJJQiE','../local-invoke/nas','aux.ID','AccessKeyID','resolveNasConfigToMounts','/etc/passwd','generateDockerEnvs','ServerVersion','value','resolve','win32','label','stream','throw','posix','Source','docker\x20exec\x20opts:\x20','isCustomContainerRuntime','command','isDockerToolBoxAndEnsureDockerVersion','getRootBaseDir','function','dirname','Starting\x20docker\x20pull\x20','virtualbox','\x0a=========\x20Tips\x20for\x20PyCharm\x20remote\x20debug\x20=========\x0aLocal\x20host\x20name:\x20','isDirectory','lstat','spinner','sent','isAutoConfig','address','draftlog','\x20to\x20pull\x20image\x20by\x20yourself.','includes','exec','linux'];var a14_0x3e6451=a14_0x5262;(function(_0x1e7af0,_0xfa851c){var _0x53c16f=a14_0x5262;while(!![]){try{var _0xf0223a=-parseInt(_0x53c16f(0x217))+parseInt(_0x53c16f(0x1e5))+parseInt(_0x53c16f(0x1fa))*-parseInt(_0x53c16f(0x238))+-parseInt(_0x53c16f(0x242))+-parseInt(_0x53c16f(0x24f))+-parseInt(_0x53c16f(0x1e0))*-parseInt(_0x53c16f(0x23c))+-parseInt(_0x53c16f(0x207))*-parseInt(_0x53c16f(0x279));if(_0xf0223a===_0xfa851c)break;else _0x1e7af0['push'](_0x1e7af0['shift']());}catch(_0x4e4316){_0x1e7af0['push'](_0x1e7af0['shift']());}}}(a14_0x587b,0xb7a82));var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x3a08b7,_0x114981,_0x4f9c6e,_0x4a01a0){var _0x5e6537=a14_0x5262;if(_0x4a01a0===undefined)_0x4a01a0=_0x4f9c6e;Object[_0x5e6537(0x254)](_0x3a08b7,_0x4a01a0,{'enumerable':!![],'get':function(){return _0x114981[_0x4f9c6e];}});}:function(_0x2390b0,_0x3997f2,_0x2b10f4,_0x46aba5){if(_0x46aba5===undefined)_0x46aba5=_0x2b10f4;_0x2390b0[_0x46aba5]=_0x3997f2[_0x2b10f4];}),__setModuleDefault=this&&this[a14_0x3e6451(0x1f7)]||(Object[a14_0x3e6451(0x1df)]?function(_0x3d2cb6,_0x4b919d){var _0x40afcd=a14_0x3e6451;Object[_0x40afcd(0x254)](_0x3d2cb6,'default',{'enumerable':!![],'value':_0x4b919d});}:function(_0xbabeed,_0x366783){var _0x2e9669=a14_0x3e6451;_0xbabeed[_0x2e9669(0x26b)]=_0x366783;}),__importStar=this&&this[a14_0x3e6451(0x216)]||function(_0x15f6ec){var _0x74c808=a14_0x3e6451;if(_0x15f6ec&&_0x15f6ec['__esModule'])return _0x15f6ec;var _0x4e019b={};if(_0x15f6ec!=null){for(var _0x33f88b in _0x15f6ec)if(_0x33f88b!==_0x74c808(0x26b)&&Object[_0x74c808(0x222)][_0x74c808(0x261)](_0x15f6ec,_0x33f88b))__createBinding(_0x4e019b,_0x15f6ec,_0x33f88b);}return __setModuleDefault(_0x4e019b,_0x15f6ec),_0x4e019b;},__awaiter=this&&this['__awaiter']||function(_0x59e0d2,_0x2ed29a,_0x588be7,_0x28d4c5){function _0x4a3ebb(_0x455744){return _0x455744 instanceof _0x588be7?_0x455744:new _0x588be7(function(_0x4e609a){_0x4e609a(_0x455744);});}return new(_0x588be7||(_0x588be7=Promise))(function(_0x556548,_0xa4bc7d){var _0x4e3cb1=a14_0x5262;function _0x504d7e(_0x417de4){var _0x24bdff=a14_0x5262;try{_0x22e2a9(_0x28d4c5[_0x24bdff(0x23f)](_0x417de4));}catch(_0x57e1a9){_0xa4bc7d(_0x57e1a9);}}function _0x57dc46(_0x25c6c8){var _0x1877cf=a14_0x5262;try{_0x22e2a9(_0x28d4c5[_0x1877cf(0x1ad)](_0x25c6c8));}catch(_0xb7bb0e){_0xa4bc7d(_0xb7bb0e);}}function _0x22e2a9(_0x297007){var _0xd964d1=a14_0x5262;_0x297007[_0xd964d1(0x248)]?_0x556548(_0x297007['value']):_0x4a3ebb(_0x297007[_0xd964d1(0x1a8)])[_0xd964d1(0x1cd)](_0x504d7e,_0x57dc46);}_0x22e2a9((_0x28d4c5=_0x28d4c5['apply'](_0x59e0d2,_0x2ed29a||[]))[_0x4e3cb1(0x23f)]());});},__generator=this&&this['__generator']||function(_0x3fbb55,_0x4c46dd){var _0x35dd26=a14_0x3e6451,_0xfee7b2={'label':0x0,'sent':function(){if(_0x36dab5[0x0]&0x1)throw _0x36dab5[0x1];return _0x36dab5[0x1];},'trys':[],'ops':[]},_0x3f3de2,_0x250762,_0x36dab5,_0x381432;return _0x381432={'next':_0x4ca99b(0x0),'throw':_0x4ca99b(0x1),'return':_0x4ca99b(0x2)},typeof Symbol===_0x35dd26(0x1b5)&&(_0x381432[Symbol['iterator']]=function(){return this;}),_0x381432;function _0x4ca99b(_0x5e45c6){return function(_0x1ebb84){return _0xc1ca70([_0x5e45c6,_0x1ebb84]);};}function _0xc1ca70(_0x181303){var _0x955987=_0x35dd26;if(_0x3f3de2)throw new TypeError(_0x955987(0x1c8));while(_0xfee7b2)try{if(_0x3f3de2=0x1,_0x250762&&(_0x36dab5=_0x181303[0x0]&0x2?_0x250762['return']:_0x181303[0x0]?_0x250762[_0x955987(0x1ad)]||((_0x36dab5=_0x250762['return'])&&_0x36dab5[_0x955987(0x261)](_0x250762),0x0):_0x250762[_0x955987(0x23f)])&&!(_0x36dab5=_0x36dab5[_0x955987(0x261)](_0x250762,_0x181303[0x1]))['done'])return _0x36dab5;if(_0x250762=0x0,_0x36dab5)_0x181303=[_0x181303[0x0]&0x2,_0x36dab5[_0x955987(0x1a8)]];switch(_0x181303[0x0]){case 0x0:case 0x1:_0x36dab5=_0x181303;break;case 0x4:_0xfee7b2['label']++;return{'value':_0x181303[0x1],'done':![]};case 0x5:_0xfee7b2[_0x955987(0x1ab)]++,_0x250762=_0x181303[0x1],_0x181303=[0x0];continue;case 0x7:_0x181303=_0xfee7b2[_0x955987(0x206)][_0x955987(0x21f)](),_0xfee7b2[_0x955987(0x1cb)][_0x955987(0x21f)]();continue;default:if(!(_0x36dab5=_0xfee7b2[_0x955987(0x1cb)],_0x36dab5=_0x36dab5[_0x955987(0x24d)]>0x0&&_0x36dab5[_0x36dab5[_0x955987(0x24d)]-0x1])&&(_0x181303[0x0]===0x6||_0x181303[0x0]===0x2)){_0xfee7b2=0x0;continue;}if(_0x181303[0x0]===0x3&&(!_0x36dab5||_0x181303[0x1]>_0x36dab5[0x0]&&_0x181303[0x1]<_0x36dab5[0x3])){_0xfee7b2[_0x955987(0x1ab)]=_0x181303[0x1];break;}if(_0x181303[0x0]===0x6&&_0xfee7b2[_0x955987(0x1ab)]<_0x36dab5[0x1]){_0xfee7b2[_0x955987(0x1ab)]=_0x36dab5[0x1],_0x36dab5=_0x181303;break;}if(_0x36dab5&&_0xfee7b2[_0x955987(0x1ab)]<_0x36dab5[0x2]){_0xfee7b2['label']=_0x36dab5[0x2],_0xfee7b2['ops'][_0x955987(0x20c)](_0x181303);break;}if(_0x36dab5[0x2])_0xfee7b2[_0x955987(0x206)]['pop']();_0xfee7b2[_0x955987(0x1cb)][_0x955987(0x21f)]();continue;}_0x181303=_0x4c46dd[_0x955987(0x261)](_0x3fbb55,_0xfee7b2);}catch(_0x5be26b){_0x181303=[0x6,_0x5be26b],_0x250762=0x0;}finally{_0x3f3de2=_0x36dab5=0x0;}if(_0x181303[0x0]&0x5)throw _0x181303[0x1];return{'value':_0x181303[0x0]?_0x181303[0x1]:void 0x0,'done':!![]};}},__spreadArrays=this&&this['__spreadArrays']||function(){var _0x56063d=a14_0x3e6451;for(var _0x131666=0x0,_0x2143f5=0x0,_0x406620=arguments['length'];_0x2143f5<_0x406620;_0x2143f5++)_0x131666+=arguments[_0x2143f5][_0x56063d(0x24d)];for(var _0x5bbaef=Array(_0x131666),_0x480a7c=0x0,_0x2143f5=0x0;_0x2143f5<_0x406620;_0x2143f5++)for(var _0x5a763c=arguments[_0x2143f5],_0x176e8d=0x0,_0x12d472=_0x5a763c[_0x56063d(0x24d)];_0x176e8d<_0x12d472;_0x176e8d++,_0x480a7c++)_0x5bbaef[_0x480a7c]=_0x5a763c[_0x176e8d];return _0x5bbaef;},__importDefault=this&&this[a14_0x3e6451(0x1e8)]||function(_0x1dd30f){var _0x28040b=a14_0x3e6451;return _0x1dd30f&&_0x1dd30f[_0x28040b(0x1dc)]?_0x1dd30f:{'default':_0x1dd30f};};Object[a14_0x3e6451(0x254)](exports,a14_0x3e6451(0x1dc),{'value':!![]}),exports['stopContainer']=exports[a14_0x3e6451(0x1e9)]=exports[a14_0x3e6451(0x1fe)]=exports[a14_0x3e6451(0x24c)]=exports[a14_0x3e6451(0x266)]=exports[a14_0x3e6451(0x257)]=exports['resolvePasswdMount']=exports['resolveDebuggerPathToMount']=exports['resolveTmpDirToMount']=exports[a14_0x3e6451(0x1a4)]=exports['detectDockerVersion']=exports[a14_0x3e6451(0x1b3)]=exports[a14_0x3e6451(0x1c5)]=exports[a14_0x3e6451(0x1ec)]=exports[a14_0x3e6451(0x1ea)]=exports['pullFcImageIfNeed']=exports[a14_0x3e6451(0x202)]=exports[a14_0x3e6451(0x1a6)]=exports[a14_0x3e6451(0x220)]=exports[a14_0x3e6451(0x201)]=exports[a14_0x3e6451(0x252)]=exports['imageExist']=void 0x0;function a14_0x5262(_0x54a6ba,_0x4870ce){return a14_0x5262=function(_0x587bea,_0x526265){_0x587bea=_0x587bea-0x1a2;var _0x5bd3c0=a14_0x587b[_0x587bea];return _0x5bd3c0;},a14_0x5262(_0x54a6ba,_0x4870ce);}var dockerode_1=__importDefault(require('dockerode')),logger_1=__importDefault(require(a14_0x3e6451(0x20b))),draftlog=__importStar(require(a14_0x3e6451(0x1c0))),docker_support_1=require(a14_0x3e6451(0x20e)),error_processor_1=require('../error-processor'),lodash_1=__importDefault(require(a14_0x3e6451(0x22e))),nas=__importStar(require(a14_0x3e6451(0x27a))),path_1=__importDefault(require(a14_0x3e6451(0x1c6))),devs_1=require(a14_0x3e6451(0x1fd)),fs=__importStar(require(a14_0x3e6451(0x243))),passwd_1=require(a14_0x3e6451(0x1f3)),dockerOpts=__importStar(require(a14_0x3e6451(0x1da))),debug_1=require(a14_0x3e6451(0x26d)),ip=__importStar(require('ip')),env_1=require(a14_0x3e6451(0x225)),runtime_1=require(a14_0x3e6451(0x229)),definition_1=require('../definition'),devnull=__importStar(require(a14_0x3e6451(0x24b))),core=__importStar(require(a14_0x3e6451(0x272))),isWin=process[a14_0x3e6451(0x1fb)]===a14_0x3e6451(0x1aa),docker=new dockerode_1['default']();draftlog['into'](console);var containers=new Set(),streams=new Set(),skipPullImage=!![];function imageExist(_0x282aa4){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2f8f25;return __generator(this,function(_0x4569c2){var _0x3f74f6=a14_0x5262;switch(_0x4569c2['label']){case 0x0:return[0x4,docker[_0x3f74f6(0x250)]({'filters':{'reference':[_0x282aa4]}})];case 0x1:_0x2f8f25=_0x4569c2[_0x3f74f6(0x1bd)]();return[0x2,_0x2f8f25[_0x3f74f6(0x24d)]>0x0];}});});}exports['imageExist']=imageExist;function generateRamdomContainerName(){var _0xadae31=a14_0x3e6451;return'fc_local_'+new Date()['getTime']()+'_'+Math['random']()[_0xadae31(0x209)](0x24)[_0xadae31(0x21a)](0x2,0x7);}exports['generateRamdomContainerName']=generateRamdomContainerName;function pullImageIfNeed(_0x48bc17,_0x3b4b25,_0x1fa523,_0x10fdef){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1744f3,_0x29e836;return __generator(this,function(_0x201732){var _0x59e748=a14_0x5262;switch(_0x201732[_0x59e748(0x1ab)]){case 0x0:_0x1744f3=_0x48bc17+'/'+_0x3b4b25+'/'+_0x1fa523+':'+_0x10fdef,logger_1['default'][_0x59e748(0x231)](_0x59e748(0x1d2)+_0x1744f3);return[0x4,imageExist(_0x1744f3)];case 0x1:if(!!_0x201732['sent']())return[0x3,0x3];logger_1[_0x59e748(0x26b)]['debug'](_0x59e748(0x1b7)+_0x1744f3);return[0x4,docker[_0x59e748(0x26c)](_0x1744f3)];case 0x2:_0x29e836=_0x201732[_0x59e748(0x1bd)](),_0x201732[_0x59e748(0x1ab)]=0x3;case 0x3:return[0x4,new Promise(function(_0x3598d0,_0x2a9215){var _0x533b13=_0x59e748;if(_0x29e836){var _0x276eda=function(_0x38828c){_0x38828c&&_0x2a9215(_0x38828c),_0x3598d0(_0x1744f3);},_0x4e86ea={},_0x38e32f=function(_0x3948aa){var _0xc639e4=a14_0x5262,_0x2df36c=_0x3948aa[_0xc639e4(0x20d)];_0x3948aa[_0xc639e4(0x213)]&&(_0x2df36c=_0x3948aa[_0xc639e4(0x20d)]+'\x20'+_0x3948aa['progress']);if(_0x3948aa['id']){var _0x1ece03=_0x3948aa['id'];!_0x4e86ea[_0x1ece03]&&(_0x4e86ea[_0x1ece03]=console[_0xc639e4(0x25a)]()),_0x4e86ea[_0x1ece03](_0x1ece03+':\x20'+_0x2df36c);}else{lodash_1[_0xc639e4(0x26b)][_0xc639e4(0x1f2)](_0x3948aa,_0xc639e4(0x1a2))&&(_0x3948aa[_0xc639e4(0x1ac)]=_0x3948aa[_0xc639e4(0x1ef)]['ID']+'\x0a');var _0x4ba81b=_0x3948aa[_0xc639e4(0x20d)]?_0x3948aa[_0xc639e4(0x20d)]+'\x0a':_0x3948aa[_0xc639e4(0x1ac)];process['stdout'][_0xc639e4(0x1db)](_0x4ba81b);}};docker['modem'][_0x533b13(0x1f5)](_0x29e836,_0x276eda,_0x38e32f);}else _0x3598d0(_0x1744f3);})];case 0x4:return[0x2,_0x201732[_0x59e748(0x1bd)]()];}});});}exports['pullImageIfNeed']=pullImageIfNeed;function generateDockerCmd(_0x38fefd,_0x281955,_0x101c1e,_0x1ffe0f,_0x107575,_0x166bbb){var _0x4d62e4=a14_0x3e6451;_0x107575===void 0x0&&(_0x107575=!![]);_0x166bbb===void 0x0&&(_0x166bbb=null);if(runtime_1[_0x4d62e4(0x1b1)](_0x38fefd))return genDockerCmdOfCustomContainer(_0x101c1e);else{if(_0x281955)return[_0x4d62e4(0x271)];}return genDockerCmdOfNonCustomContainer(_0x101c1e,_0x1ffe0f,_0x107575,_0x166bbb);}exports[a14_0x3e6451(0x220)]=generateDockerCmd;function genDockerCmdOfNonCustomContainer(_0x317f41,_0x3f56dc,_0x2df4a7,_0x1f1ce9){var _0x5f1446=a14_0x3e6451;_0x2df4a7===void 0x0&&(_0x2df4a7=!![]);_0x1f1ce9===void 0x0&&(_0x1f1ce9=null);var _0x2fb9a9=['-h',_0x317f41[_0x5f1446(0x277)]];_0x1f1ce9!==null?(_0x2fb9a9[_0x5f1446(0x20c)](_0x5f1446(0x25d),Buffer['from'](_0x1f1ce9)[_0x5f1446(0x209)](_0x5f1446(0x1ca))),_0x2fb9a9[_0x5f1446(0x20c)](_0x5f1446(0x1d0))):_0x2fb9a9[_0x5f1446(0x20c)](_0x5f1446(0x260));_0x3f56dc&&_0x2fb9a9[_0x5f1446(0x20c)](_0x5f1446(0x1d1));var _0x33063b=_0x317f41[_0x5f1446(0x212)];_0x33063b&&_0x2df4a7&&_0x2fb9a9['push']('-i',_0x33063b);var _0x4d6e94=_0x317f41['initializationTimeout'];return _0x4d6e94&&_0x2fb9a9[_0x5f1446(0x20c)](_0x5f1446(0x245),_0x4d6e94[_0x5f1446(0x209)]()),logger_1[_0x5f1446(0x26b)][_0x5f1446(0x231)]('docker\x20cmd:\x20'+_0x2fb9a9),_0x2fb9a9;}function genDockerCmdOfCustomContainer(_0x2b7c94){var _0x1cdc47=a14_0x3e6451,_0x428235=_0x2b7c94[_0x1cdc47(0x26e)][_0x1cdc47(0x1b2)]?JSON[_0x1cdc47(0x228)](_0x2b7c94[_0x1cdc47(0x26e)]['command']):undefined,_0x17e47b=_0x2b7c94[_0x1cdc47(0x26e)][_0x1cdc47(0x20a)]?JSON[_0x1cdc47(0x228)](_0x2b7c94['customContainerConfig']['args']):undefined;if(_0x428235&&_0x17e47b)return __spreadArrays(_0x428235,_0x17e47b);else{if(_0x428235)return _0x428235;else{if(_0x17e47b)return _0x17e47b;}}return[];}function generateDockerEnvs(_0x300aab,_0x58401a,_0x6e8009,_0x44919c,_0x238ccb,_0x228998,_0x374383,_0x552fbd,_0x45efee,_0x159442,_0x57d388,_0x3be48b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x4325b8,_0x5ba730,_0x84e826,_0x4f79cc,_0x47681e;return __generator(this,function(_0x43bb16){var _0x551ea0=a14_0x5262;switch(_0x43bb16[_0x551ea0(0x1ab)]){case 0x0:_0x4325b8={};_0x45efee&&Object['assign'](_0x4325b8,{'FC_HTTP_PARAMS':_0x45efee});return[0x4,env_1[_0x551ea0(0x1c7)](_0x6e8009,_0x374383['codeUri'])];case 0x1:_0x5ba730=_0x43bb16[_0x551ea0(0x1bd)](),Object['assign'](_0x4325b8,_0x5ba730),_0x84e826=_0x374383[_0x551ea0(0x204)];if(_0x552fbd&&!_0x3be48b)_0x4f79cc=debug_1[_0x551ea0(0x22d)](_0x84e826,_0x552fbd,_0x57d388),Object['assign'](_0x4325b8,_0x4f79cc);else _0x3be48b&&Object['assign'](_0x4325b8,{'DEBUG_OPTIONS':_0x3be48b});Object[_0x551ea0(0x1ed)](_0x4325b8,generateFunctionEnvs(_0x374383));definition_1[_0x551ea0(0x1be)](_0x238ccb===null||_0x238ccb===void 0x0?void 0x0:_0x238ccb[_0x551ea0(0x25b)])?_0x47681e=definition_1['resolveAutoLogConfig'](_0x300aab===null||_0x300aab===void 0x0?void 0x0:_0x300aab[_0x551ea0(0x210)],_0x58401a,_0x44919c):_0x47681e=_0x238ccb===null||_0x238ccb===void 0x0?void 0x0:_0x238ccb[_0x551ea0(0x25b)];(_0x374383===null||_0x374383===void 0x0?void 0x0:_0x374383[_0x551ea0(0x204)][_0x551ea0(0x1c2)](_0x551ea0(0x1e6)))&&Object[_0x551ea0(0x1ed)](_0x4325b8,{'fc_enable_new_java_ca':!![]});Object[_0x551ea0(0x1ed)](_0x4325b8,{'local':!![],'FC_ACCESS_KEY_ID':_0x300aab===null||_0x300aab===void 0x0?void 0x0:_0x300aab[_0x551ea0(0x1a3)],'FC_ACCESS_KEY_SECRET':_0x300aab===null||_0x300aab===void 0x0?void 0x0:_0x300aab[_0x551ea0(0x230)],'FC_SECURITY_TOKEN':_0x300aab===null||_0x300aab===void 0x0?void 0x0:_0x300aab['SecurityToken'],'FC_ACCOUNT_ID':_0x300aab===null||_0x300aab===void 0x0?void 0x0:_0x300aab[_0x551ea0(0x210)],'FC_REGION':_0x58401a,'FC_FUNCTION_NAME':_0x228998,'FC_HANDLER':_0x374383['handler'],'FC_MEMORY_SIZE':_0x374383[_0x551ea0(0x234)]||0x80,'FC_TIMEOUT':_0x374383[_0x551ea0(0x211)]||0x3,'FC_INITIALIZER':_0x374383[_0x551ea0(0x212)],'FC_INITIALIZATION_TIMEOUT':_0x374383['initializationTimeout']||0x3,'FC_SERVICE_NAME':_0x44919c,'FC_SERVICE_LOG_PROJECT':_0x47681e===null||_0x47681e===void 0x0?void 0x0:_0x47681e[_0x551ea0(0x1de)],'FC_SERVICE_LOG_STORE':_0x47681e===null||_0x47681e===void 0x0?void 0x0:_0x47681e[_0x551ea0(0x218)]});if(runtime_1['isCustomContainerRuntime'](_0x374383[_0x551ea0(0x204)]))return[0x2,_0x4325b8];return[0x2,env_1['addEnv'](_0x4325b8,_0x159442)];}});});}exports['generateDockerEnvs']=generateDockerEnvs;function generateFunctionEnvs(_0x552bad){var _0x5e1698=a14_0x3e6451,_0x4a0794=_0x552bad[_0x5e1698(0x1d4)];if(!_0x4a0794)return{};return Object['assign']({},_0x4a0794);}exports[a14_0x3e6451(0x202)]=generateFunctionEnvs;function pullFcImageIfNeed(_0xe8c08){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d7dfc;return __generator(this,function(_0x45826a){var _0x3f8101=a14_0x5262;switch(_0x45826a[_0x3f8101(0x1ab)]){case 0x0:return[0x4,imageExist(_0xe8c08)];case 0x1:_0x5d7dfc=_0x45826a['sent']();if(!(!_0x5d7dfc||!skipPullImage))return[0x3,0x3];return[0x4,pullImage(_0xe8c08)];case 0x2:_0x45826a[_0x3f8101(0x1bd)]();return[0x3,0x4];case 0x3:logger_1[_0x3f8101(0x26b)][_0x3f8101(0x231)](_0x3f8101(0x278)+_0xe8c08+'...'),logger_1[_0x3f8101(0x26b)][_0x3f8101(0x22b)](_0x3f8101(0x1f8)+_0xe8c08+'...'),_0x45826a[_0x3f8101(0x1ab)]=0x4;case 0x4:return[0x2];}});});}exports[a14_0x3e6451(0x256)]=pullFcImageIfNeed;function pullImage(_0x2de5ff){return __awaiter(this,void 0x0,void 0x0,function(){var _0xd0fcf3,_0x396b47,_0x4e10ba=this;return __generator(this,function(_0x19ebcc){var _0x516b9c=a14_0x5262;switch(_0x19ebcc[_0x516b9c(0x1ab)]){case 0x0:return[0x4,dockerOpts[_0x516b9c(0x270)](_0x2de5ff)];case 0x1:_0xd0fcf3=_0x19ebcc[_0x516b9c(0x1bd)]();return[0x4,docker['pull'](_0xd0fcf3)];case 0x2:_0x396b47=_0x19ebcc[_0x516b9c(0x1bd)]();return[0x4,new Promise(function(_0x355190,_0x308c8b){var _0x386080=_0x516b9c;logger_1[_0x386080(0x26b)]['info'](_0x386080(0x236)+_0xd0fcf3+_0x386080(0x235)+(_0x386080(0x24a)+_0xd0fcf3+'\x27')+_0x386080(0x1c1));var _0x586ee5=function(_0x5b7cdb){return __awaiter(_0x4e10ba,void 0x0,void 0x0,function(){var _0x3d8f4b,_0x3ec2a5,_0x40b1cd,_0x3a9af3,_0x551df8,_0x411a75;return __generator(this,function(_0x6a1cfc){var _0x36fc35=a14_0x5262;switch(_0x6a1cfc[_0x36fc35(0x1ab)]){case 0x0:_0x5b7cdb&&_0x308c8b(_0x5b7cdb);containers[_0x36fc35(0x21e)](_0x396b47),(_0x3d8f4b=0x0,_0x3ec2a5=dockerOpts[_0x36fc35(0x226)]),_0x6a1cfc[_0x36fc35(0x1ab)]=0x1;case 0x1:if(!(_0x3d8f4b<_0x3ec2a5[_0x36fc35(0x24d)]))return[0x3,0x5];_0x40b1cd=_0x3ec2a5[_0x3d8f4b];if(!(_0xd0fcf3[_0x36fc35(0x1dd)](_0x40b1cd)===0x0))return[0x3,0x4];return[0x4,docker['getImage'](_0xd0fcf3)];case 0x2:_0x3a9af3=_0x6a1cfc[_0x36fc35(0x1bd)](),_0x551df8=_0xd0fcf3[_0x36fc35(0x203)](_0x40b1cd[_0x36fc35(0x24d)]+0x1),_0x411a75=_0x551df8[_0x36fc35(0x267)](':');return[0x4,_0x3a9af3[_0x36fc35(0x26f)]({'name':_0xd0fcf3,'repo':lodash_1[_0x36fc35(0x26b)][_0x36fc35(0x275)](_0x411a75),'tag':lodash_1[_0x36fc35(0x26b)]['last'](_0x411a75)})];case 0x3:_0x6a1cfc[_0x36fc35(0x1bd)]();return[0x3,0x5];case 0x4:_0x3d8f4b++;return[0x3,0x1];case 0x5:_0x355190(_0xd0fcf3);return[0x2];}});});};containers[_0x386080(0x247)](_0x396b47),followProgress(_0x396b47,_0x586ee5);})];case 0x3:return[0x2,_0x19ebcc[_0x516b9c(0x1bd)]()];}});});}exports[a14_0x3e6451(0x1ea)]=pullImage;function followProgress(_0x32dfca,_0x518482){var _0x3c71d5=a14_0x3e6451,_0x53aac0={},_0x1a6151=function(_0x3c6acd){var _0x4170cb=a14_0x5262,_0x8e7717=_0x3c6acd['status'];_0x3c6acd['progress']&&(_0x8e7717=_0x3c6acd['status']+'\x20'+_0x3c6acd[_0x4170cb(0x213)]);if(_0x3c6acd['id']){var _0x566983=_0x3c6acd['id'];!_0x53aac0[_0x566983]&&(_0x53aac0[_0x566983]=console[_0x4170cb(0x25a)]()),_0x53aac0[_0x566983](_0x566983+':\x20'+_0x8e7717);}else{lodash_1[_0x4170cb(0x26b)][_0x4170cb(0x1f2)](_0x3c6acd,_0x4170cb(0x1a2))&&(_0x3c6acd[_0x4170cb(0x1ac)]=_0x3c6acd[_0x4170cb(0x1ef)]['ID']+'\x0a');var _0x25d900=_0x3c6acd[_0x4170cb(0x20d)]?_0x3c6acd[_0x4170cb(0x20d)]+'\x0a':_0x3c6acd[_0x4170cb(0x1ac)];process['stdout'][_0x4170cb(0x1db)](_0x25d900);}};docker['modem'][_0x3c71d5(0x1f5)](_0x32dfca,_0x518482,_0x1a6151);}function runContainer(_0x2d2a5c,_0x441a08,_0x4660bd,_0x2dbb85){return __awaiter(this,void 0x0,void 0x0,function(){var _0x14a21b,_0x5c32b7,_0x4620ad,_0x82879,_0x25f671;return __generator(this,function(_0x55f3f7){var _0x5a1ad1=a14_0x5262;switch(_0x55f3f7[_0x5a1ad1(0x1ab)]){case 0x0:return[0x4,createContainer(_0x2d2a5c)];case 0x1:_0x14a21b=_0x55f3f7[_0x5a1ad1(0x1bd)](),_0x5c32b7={'hijack':!![],'stream':!![],'stdin':!![],'stdout':!![],'stderr':!![]};return[0x4,_0x14a21b[_0x5a1ad1(0x1e1)](_0x5c32b7)];case 0x2:_0x4620ad=_0x55f3f7['sent']();!_0x441a08&&(_0x441a08=process[_0x5a1ad1(0x1ff)]);!_0x4660bd&&(_0x4660bd=process['stderr']);_0x82879=error_processor_1[_0x5a1ad1(0x1f0)]({'serviceName':_0x2dbb85===null||_0x2dbb85===void 0x0?void 0x0:_0x2dbb85[_0x5a1ad1(0x25c)],'functionName':_0x2dbb85===null||_0x2dbb85===void 0x0?void 0x0:_0x2dbb85[_0x5a1ad1(0x1e3)],'errorStream':_0x4660bd});!isWin&&_0x14a21b['modem'][_0x5a1ad1(0x23a)](_0x4620ad,_0x441a08,_0x82879);return[0x4,_0x14a21b['start']()];case 0x3:_0x55f3f7[_0x5a1ad1(0x1bd)]();if(!isWin)return[0x3,0x5];return[0x4,_0x14a21b[_0x5a1ad1(0x221)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x4:_0x25f671=_0x55f3f7[_0x5a1ad1(0x1bd)](),_0x14a21b['modem'][_0x5a1ad1(0x23a)](_0x25f671,_0x441a08,_0x82879),_0x55f3f7[_0x5a1ad1(0x1ab)]=0x5;case 0x5:containers[_0x5a1ad1(0x247)](_0x14a21b['id']),streams['add'](_0x4620ad);return[0x2,{'container':_0x14a21b,'stream':_0x4620ad}];}});});}exports[a14_0x3e6451(0x1ec)]=runContainer;function resolveCodeUriToMount(_0x3233a2,_0x37e0dd){return _0x37e0dd===void 0x0&&(_0x37e0dd=!![]),__awaiter(this,void 0x0,void 0x0,function(){var _0x5a7c93,_0x4b4c02;return __generator(this,function(_0x2e882d){var _0x5ba5a6=a14_0x5262;switch(_0x2e882d[_0x5ba5a6(0x1ab)]){case 0x0:if(!_0x3233a2)return[0x2,null];_0x5a7c93=null;return[0x4,fs[_0x5ba5a6(0x1bb)](_0x3233a2)];case 0x1:_0x4b4c02=_0x2e882d[_0x5ba5a6(0x1bd)]();_0x4b4c02[_0x5ba5a6(0x1ba)]()?_0x5a7c93='/code':_0x5a7c93=path_1[_0x5ba5a6(0x26b)][_0x5ba5a6(0x1ae)]['join'](_0x5ba5a6(0x233),path_1[_0x5ba5a6(0x26b)][_0x5ba5a6(0x1cf)](_0x3233a2));return[0x2,{'Type':_0x5ba5a6(0x26a),'Source':_0x3233a2,'Target':_0x5a7c93,'ReadOnly':_0x37e0dd}];}});});}exports[a14_0x3e6451(0x1c5)]=resolveCodeUriToMount;function isDockerToolBoxAndEnsureDockerVersion(){return __awaiter(this,void 0x0,void 0x0,function(){var _0xa87ca9,_0xf81923;return __generator(this,function(_0x4c96bb){var _0xccfa57=a14_0x5262;switch(_0x4c96bb[_0xccfa57(0x1ab)]){case 0x0:return[0x4,docker['info']()];case 0x1:_0xa87ca9=_0x4c96bb['sent']();return[0x4,detectDockerVersion(_0xa87ca9[_0xccfa57(0x1a7)]||'')];case 0x2:_0x4c96bb['sent'](),_0xf81923=(_0xa87ca9['Labels']||[])[_0xccfa57(0x276)](function(_0x43ff17){var _0x2dbd53=_0xccfa57;return lodash_1[_0x2dbd53(0x26b)][_0x2dbd53(0x267)](_0x43ff17,'=',0x2);})[_0xccfa57(0x259)](function(_0x57b7a3){var _0x3e42a8=_0xccfa57;return _0x57b7a3[_0x3e42a8(0x24d)]===0x2;})[_0xccfa57(0x224)](function(_0x51bb53,_0x149222){return _0x51bb53[_0x149222[0x0]]=_0x149222[0x1],_0x51bb53;},{});return[0x2,process[_0xccfa57(0x1fb)]===_0xccfa57(0x1aa)&&_0xf81923['provider']===_0xccfa57(0x1b8)];}});});}exports['isDockerToolBoxAndEnsureDockerVersion']=isDockerToolBoxAndEnsureDockerVersion;function detectDockerVersion(_0x1c394c){return __awaiter(this,void 0x0,void 0x0,function(){var _0x2f4f11;return __generator(this,function(_0x1b13b8){var _0x4d0ff7=a14_0x5262;_0x2f4f11=_0x1c394c[_0x4d0ff7(0x267)]('.');if(Number[_0x4d0ff7(0x22a)](_0x2f4f11[0x0])===0x1&&Number['parseInt'](_0x2f4f11[0x1])<=0xd)throw new Error(_0x4d0ff7(0x237)+_0x1c394c+_0x4d0ff7(0x20f));return[0x2];});});}exports[a14_0x3e6451(0x262)]=detectDockerVersion;function createContainer(_0x4f9bcd){var _0x55f516;return __awaiter(this,void 0x0,void 0x0,function(){var _0x186f79,_0x530a05,_0x1eb167,_0xdb1e6f,_0x22ab6a,_0x3b0c7a;return __generator(this,function(_0x420b07){var _0x531ff1=a14_0x5262;switch(_0x420b07[_0x531ff1(0x1ab)]){case 0x0:_0x186f79=process[_0x531ff1(0x1fb)]===_0x531ff1(0x1aa),_0x530a05=process[_0x531ff1(0x1fb)]==='darwin';if(!(_0x4f9bcd&&_0x530a05))return[0x3,0x2];if(!_0x4f9bcd[_0x531ff1(0x249)])return[0x3,0x2];return[0x4,docker_support_1['findPathsOutofSharedPaths']((_0x55f516=_0x4f9bcd[_0x531ff1(0x249)])===null||_0x55f516===void 0x0?void 0x0:_0x55f516[_0x531ff1(0x1f6)])];case 0x1:_0x1eb167=_0x420b07['sent']();if(_0x530a05&&_0x1eb167[_0x531ff1(0x24d)]>0x0)throw new Error(_0x531ff1(0x1d9)+_0x1eb167+_0x531ff1(0x1d6));_0x420b07[_0x531ff1(0x1ab)]=0x2;case 0x2:return[0x4,isDockerToolBoxAndEnsureDockerVersion()];case 0x3:_0xdb1e6f=_0x420b07[_0x531ff1(0x1bd)](),_0x420b07[_0x531ff1(0x1ab)]=0x4;case 0x4:_0x420b07['trys'][_0x531ff1(0x20c)]([0x4,0x6,,0x7]);return[0x4,docker[_0x531ff1(0x265)](_0x4f9bcd)];case 0x5:_0x22ab6a=_0x420b07[_0x531ff1(0x1bd)]();return[0x3,0x7];case 0x6:_0x3b0c7a=_0x420b07[_0x531ff1(0x1bd)]();if(_0x3b0c7a['message'][_0x531ff1(0x1dd)](_0x531ff1(0x274))!==-0x1&&_0xdb1e6f)throw new Error(_0x531ff1(0x223));if(_0x3b0c7a[_0x531ff1(0x23d)]['indexOf'](_0x531ff1(0x1d7))!==-0x1&&_0x186f79)throw new Error(_0x3b0c7a['message']+_0x531ff1(0x1d8));throw _0x3b0c7a;case 0x7:return[0x2,_0x22ab6a];}});});}function resolveNasConfigToMounts(_0x4cd815,_0x219746,_0x3089da,_0x5e575f){return __awaiter(this,void 0x0,void 0x0,function(){var _0x14df14;return __generator(this,function(_0x2bbe20){var _0x1ac7bd=a14_0x5262;switch(_0x2bbe20[_0x1ac7bd(0x1ab)]){case 0x0:return[0x4,nas[_0x1ac7bd(0x1f4)](_0x5e575f,_0x3089da,_0x219746)];case 0x1:_0x14df14=_0x2bbe20[_0x1ac7bd(0x1bd)]();return[0x2,convertNasMappingsToMounts(devs_1[_0x1ac7bd(0x1b4)](_0x4cd815),_0x14df14)];}});});}exports[a14_0x3e6451(0x1a4)]=resolveNasConfigToMounts;function convertNasMappingsToMounts(_0x1bc71e,_0x25ab2e){var _0x581aeb=a14_0x3e6451;return _0x25ab2e[_0x581aeb(0x276)](function(_0x1dafa5){var _0x1b1647=_0x581aeb;return{'Type':_0x1b1647(0x26a),'Source':path_1[_0x1b1647(0x26b)][_0x1b1647(0x1a9)](_0x1bc71e,_0x1dafa5[_0x1b1647(0x1fc)]),'Target':_0x1dafa5[_0x1b1647(0x1f9)],'ReadOnly':![]};});}function resolveTmpDirToMount(_0x46674c){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x5f4542){var _0xdd3c92=a14_0x5262;if(!_0x46674c)return[0x2,{}];return[0x2,{'Type':_0xdd3c92(0x26a),'Source':_0x46674c,'Target':_0xdd3c92(0x258),'ReadOnly':![]}];});});}exports[a14_0x3e6451(0x263)]=resolveTmpDirToMount;function resolveDebuggerPathToMount(_0x2fc268){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5d02e8;return __generator(this,function(_0x31f3a4){var _0x50deb3=a14_0x5262;if(!_0x2fc268)return[0x2,{}];return _0x5d02e8=path_1[_0x50deb3(0x26b)][_0x50deb3(0x1a9)](_0x2fc268),[0x2,{'Type':_0x50deb3(0x26a),'Source':_0x5d02e8,'Target':'/tmp/debugger_files','ReadOnly':![]}];});});}exports[a14_0x3e6451(0x1e7)]=resolveDebuggerPathToMount;function resolvePasswdMount(){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5360d3;return __generator(this,function(_0x4467ac){var _0x51ce47=a14_0x5262;switch(_0x4467ac[_0x51ce47(0x1ab)]){case 0x0:if(!(process['platform']===_0x51ce47(0x1c4)))return[0x3,0x2];_0x5360d3={'Type':'bind'};return[0x4,passwd_1['generatePwdFile']()];case 0x1:return[0x2,(_0x5360d3[_0x51ce47(0x1af)]=_0x4467ac[_0x51ce47(0x1bd)](),_0x5360d3['Target']=_0x51ce47(0x1a5),_0x5360d3[_0x51ce47(0x240)]=!![],_0x5360d3)];case 0x2:return[0x2,null];}});});}exports['resolvePasswdMount']=resolvePasswdMount;function createAndRunContainer(_0x4baa21){return __awaiter(this,void 0x0,void 0x0,function(){var _0x5b618b;return __generator(this,function(_0x56fe9a){var _0x694bcc=a14_0x5262;switch(_0x56fe9a[_0x694bcc(0x1ab)]){case 0x0:return[0x4,createContainer(_0x4baa21)];case 0x1:_0x5b618b=_0x56fe9a[_0x694bcc(0x1bd)](),containers['add'](_0x5b618b['id']);return[0x4,_0x5b618b[_0x694bcc(0x1f1)]({})];case 0x2:_0x56fe9a[_0x694bcc(0x1bd)]();return[0x2,_0x5b618b];}});});}exports[a14_0x3e6451(0x257)]=createAndRunContainer;function showDebugIdeTipsForVscode(_0xcae327,_0x1cb803,_0x38b0e4,_0x3b08a2,_0x334a71){return __awaiter(this,void 0x0,void 0x0,function(){var _0x116ca4;return __generator(this,function(_0x3e822f){var _0x869445=a14_0x5262;switch(_0x3e822f[_0x869445(0x1ab)]){case 0x0:return[0x4,debug_1[_0x869445(0x253)](_0xcae327,_0x1cb803,_0x38b0e4,_0x3b08a2,_0x334a71)];case 0x1:_0x116ca4=_0x3e822f[_0x869445(0x1bd)](),logger_1[_0x869445(0x26b)][_0x869445(0x241)](_0x869445(0x1eb),'yellow'),logger_1[_0x869445(0x26b)][_0x869445(0x241)]('/////////////////\x20config\x20begin\x20/////////////////'),logger_1['default'][_0x869445(0x241)](JSON['stringify'](_0x116ca4,null,0x4)),logger_1[_0x869445(0x26b)][_0x869445(0x241)](_0x869445(0x227));return[0x2];}});});}exports['showDebugIdeTipsForVscode']=showDebugIdeTipsForVscode;function showDebugIdeTipsForPycharm(_0x9ba4a1,_0x5dab1b){return __awaiter(this,void 0x0,void 0x0,function(){var _0x3e04f9;return __generator(this,function(_0x392329){var _0xa0ce05=a14_0x5262;switch(_0x392329[_0xa0ce05(0x1ab)]){case 0x0:return[0x4,fs[_0xa0ce05(0x1bb)](_0x9ba4a1)];case 0x1:_0x3e04f9=_0x392329[_0xa0ce05(0x1bd)]();!_0x3e04f9[_0xa0ce05(0x1ba)]()&&(_0x9ba4a1=path_1[_0xa0ce05(0x26b)][_0xa0ce05(0x1b6)](_0x9ba4a1));logger_1[_0xa0ce05(0x26b)][_0xa0ce05(0x241)](_0xa0ce05(0x1b9)+ip[_0xa0ce05(0x1bf)]()+'\x0aPort\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20:\x20'+_0x5dab1b+_0xa0ce05(0x1e2)+_0x9ba4a1+_0xa0ce05(0x1cc)+ip[_0xa0ce05(0x1bf)]()+'\x27,\x20port='+_0x5dab1b+_0xa0ce05(0x24e),_0xa0ce05(0x273));return[0x2];}});});}exports[a14_0x3e6451(0x24c)]=showDebugIdeTipsForPycharm;function writeEventToStreamAndClose(_0xa17432,_0x3a9a91){var _0x232c9c=a14_0x3e6451;_0x3a9a91&&_0xa17432[_0x232c9c(0x1db)](_0x3a9a91),_0xa17432[_0x232c9c(0x232)]();}function startContainer(_0x8e2392,_0x74c07c,_0x59c2db,_0x33a9f2){return __awaiter(this,void 0x0,void 0x0,function(){var _0x22017e,_0x36b21f,_0x45ae5b,_0x41354c,_0x47030c=this;return __generator(this,function(_0x50bc9e){var _0x508e28=a14_0x5262;switch(_0x50bc9e['label']){case 0x0:return[0x4,createContainer(_0x8e2392)];case 0x1:_0x22017e=_0x50bc9e[_0x508e28(0x1bd)](),containers[_0x508e28(0x247)](_0x22017e['id']),_0x50bc9e[_0x508e28(0x1ab)]=0x2;case 0x2:_0x50bc9e['trys'][_0x508e28(0x20c)]([0x2,0x4,,0x5]);return[0x4,_0x22017e['start']({})];case 0x3:_0x50bc9e[_0x508e28(0x1bd)]();return[0x3,0x5];case 0x4:_0x36b21f=_0x50bc9e['sent'](),logger_1[_0x508e28(0x26b)][_0x508e28(0x1c9)](_0x36b21f);return[0x3,0x5];case 0x5:_0x45ae5b=_0x74c07c||_0x59c2db;if(!_0x45ae5b)return[0x3,0x7];!_0x74c07c&&(_0x74c07c=devnull());!_0x59c2db&&(_0x59c2db=devnull());return[0x4,_0x22017e[_0x508e28(0x221)]({'stdout':!![],'stderr':!![],'follow':!![]})];case 0x6:_0x41354c=_0x50bc9e[_0x508e28(0x1bd)](),_0x22017e['modem'][_0x508e28(0x23a)](_0x41354c,_0x74c07c,error_processor_1['processorTransformFactory']({'serviceName':_0x33a9f2['serviceName'],'functionName':_0x33a9f2[_0x508e28(0x1e3)],'errorStream':_0x59c2db})),_0x50bc9e[_0x508e28(0x1ab)]=0x7;case 0x7:return[0x2,{'containerId':_0x22017e===null||_0x22017e===void 0x0?void 0x0:_0x22017e['id'],'stop':function(){return __awaiter(_0x47030c,void 0x0,void 0x0,function(){return __generator(this,function(_0x367f75){var _0x12ccad=a14_0x5262;switch(_0x367f75['label']){case 0x0:logger_1[_0x12ccad(0x26b)][_0x12ccad(0x22b)](_0x12ccad(0x23b)+_0x22017e['id']);return[0x4,_0x22017e['stop']()];case 0x1:_0x367f75[_0x12ccad(0x1bd)](),containers['delete'](_0x22017e['id']);return[0x2];}});});},'kill':function(){return __awaiter(_0x47030c,void 0x0,void 0x0,function(){return __generator(this,function(_0x4d70ed){var _0x1ce80f=a14_0x5262;switch(_0x4d70ed[_0x1ce80f(0x1ab)]){case 0x0:logger_1[_0x1ce80f(0x26b)][_0x1ce80f(0x22b)]('Killing\x20container:\x20'+_0x22017e['id']);return[0x4,_0x22017e[_0x1ce80f(0x22c)]()];case 0x1:_0x4d70ed['sent'](),containers[_0x1ce80f(0x21e)](_0x22017e['id']);return[0x2];}});});},'exec':function(_0x48d2b7,_0x4cf98a){var _0x4ce9de=_0x508e28,_0x1563d2=_0x4cf98a===void 0x0?{}:_0x4cf98a,_0x3912e4=_0x1563d2[_0x4ce9de(0x1d5)],_0x34c6db=_0x3912e4===void 0x0?'':_0x3912e4,_0x2263ae=_0x1563d2[_0x4ce9de(0x246)],_0x4313ec=_0x2263ae===void 0x0?{}:_0x2263ae,_0x4d72ce=_0x1563d2['outputStream'],_0x5ac97b=_0x4d72ce===void 0x0?process['stdout']:_0x4d72ce,_0x2e688d=_0x1563d2[_0x4ce9de(0x239)],_0x80209d=_0x2e688d===void 0x0?process[_0x4ce9de(0x251)]:_0x2e688d,_0x499be7=_0x1563d2[_0x4ce9de(0x22f)],_0x526e7a=_0x499be7===void 0x0?![]:_0x499be7,_0x4defb3=_0x1563d2[_0x4ce9de(0x255)],_0xcd9ac7=_0x4defb3===void 0x0?{}:_0x4defb3,_0x29993b=_0x1563d2['event'],_0x4c2578=_0x29993b===void 0x0?null:_0x29993b;return __awaiter(_0x47030c,void 0x0,void 0x0,function(){var _0x4f3f7c,_0x403cf3,_0x4730be,_0x5f1a71;return __generator(this,function(_0xee78a3){var _0x309368=a14_0x5262;switch(_0xee78a3[_0x309368(0x1ab)]){case 0x0:_0x4f3f7c=_0x4c2578?!![]:![],_0x403cf3={'Env':dockerOpts[_0x309368(0x25f)](_0x4313ec),'Tty':![],'AttachStdin':_0x4f3f7c,'AttachStdout':!![],'AttachStderr':!![],'WorkingDir':_0x34c6db};_0x48d2b7!==[]&&(_0x403cf3[_0x309368(0x208)]=_0x48d2b7);logger_1[_0x309368(0x26b)]['debug'](_0x309368(0x1b0)+JSON[_0x309368(0x214)](_0x403cf3,null,0x4));return[0x4,_0x22017e[_0x309368(0x1c3)](_0x403cf3)];case 0x1:_0x4730be=_0xee78a3[_0x309368(0x1bd)]();return[0x4,_0x4730be[_0x309368(0x1f1)]({'hijack':!![],'stdin':_0x4f3f7c})];case 0x2:_0x5f1a71=_0xee78a3['sent']();return[0x4,new Promise(function(_0x229f0b){return setTimeout(_0x229f0b,0x1e);})];case 0x3:_0xee78a3[_0x309368(0x1bd)]();_0x4c2578!==null&&writeEventToStreamAndClose(_0x5f1a71,_0x4c2578);!_0x5ac97b&&(_0x5ac97b=process['stdout']);!_0x80209d&&(_0x80209d=process[_0x309368(0x251)]);_0x526e7a?_0x22017e['modem']['demuxStream'](_0x5f1a71,_0x5ac97b,_0x80209d):_0x22017e[_0x309368(0x244)]['demuxStream'](_0x5f1a71,devnull(),_0x80209d);return[0x4,waitForExec(_0x4730be)];case 0x4:return[0x2,_0xee78a3[_0x309368(0x1bd)]()];}});});}}];}});});}exports[a14_0x3e6451(0x1fe)]=startContainer;function waitForExec(_0xc1b196){return __awaiter(this,void 0x0,void 0x0,function(){return __generator(this,function(_0x2b7606){var _0x31de00=a14_0x5262;switch(_0x2b7606[_0x31de00(0x1ab)]){case 0x0:return[0x4,new Promise(function(_0x46a419,_0x4e3eeb){function _0x37374a(){var _0xa0ec12=a14_0x5262;_0xc1b196[_0xa0ec12(0x1e4)](function(_0xb9ecc4,_0x54a2af){var _0x24ed8f=_0xa0ec12;if(_0x54a2af[_0x24ed8f(0x1ce)]){setTimeout(_0x37374a,0x64);return;}if(_0xb9ecc4)_0x4e3eeb(_0xb9ecc4);else _0x54a2af[_0x24ed8f(0x1ee)]!==0x0?_0x4e3eeb(_0x54a2af['ProcessConfig']['entrypoint']+_0x24ed8f(0x25e)+_0x54a2af['ExitCode']):_0x46a419(_0x54a2af[_0x24ed8f(0x1ee)]);});}_0x37374a();})];case 0x1:return[0x2,_0x2b7606[_0x31de00(0x1bd)]()];}});});}function run(_0x1659c3,_0x5c6cff,_0x5b377a,_0x58ce3e,_0x4ac6be){return _0x4ac6be===void 0x0&&(_0x4ac6be={}),__awaiter(this,void 0x0,void 0x0,function(){var _0x19dbd5,_0x2a63ed,_0x395c19,_0x49bc99;return __generator(this,function(_0x3c3d1c){var _0x2618fb=a14_0x5262;switch(_0x3c3d1c['label']){case 0x0:return[0x4,runContainer(_0x1659c3,_0x5b377a,_0x58ce3e,_0x4ac6be)];case 0x1:_0x19dbd5=_0x3c3d1c[_0x2618fb(0x1bd)](),_0x2a63ed=_0x19dbd5['container'],_0x395c19=_0x19dbd5[_0x2618fb(0x1ac)],writeEventToStreamAndClose(_0x395c19,_0x5c6cff);return[0x4,_0x2a63ed[_0x2618fb(0x205)]()];case 0x2:_0x49bc99=_0x3c3d1c['sent'](),containers['delete'](_0x2a63ed['id']),streams[_0x2618fb(0x21e)](_0x395c19);return[0x2,_0x49bc99];}});});}exports[a14_0x3e6451(0x1e9)]=run;function stopContainer(_0x41e246){return __awaiter(this,void 0x0,void 0x0,function(){var _0x1bb9ae,_0x4ff844,_0x239fe6;return __generator(this,function(_0x27ee41){var _0xcfa56c=a14_0x5262;switch(_0x27ee41[_0xcfa56c(0x1ab)]){case 0x0:_0x1bb9ae=core[_0xcfa56c(0x1bc)](_0xcfa56c(0x1d3)+_0x41e246['id']),_0x27ee41[_0xcfa56c(0x1ab)]=0x1;case 0x1:_0x27ee41['trys'][_0xcfa56c(0x20c)]([0x1,0x3,,0x8]);return[0x4,_0x41e246['stop']()];case 0x2:_0x27ee41['sent'](),_0x1bb9ae['succeed'](_0xcfa56c(0x21b));return[0x3,0x8];case 0x3:_0x4ff844=_0x27ee41['sent'](),_0x1bb9ae[_0xcfa56c(0x215)]('Failed\x20to\x20stop\x20the\x20container.'),logger_1['default']['debug'](_0xcfa56c(0x269)+_0x41e246['id']+_0xcfa56c(0x23e)+_0x4ff844),_0x1bb9ae=core[_0xcfa56c(0x1bc)](_0xcfa56c(0x268)+_0x41e246['id']),_0x27ee41[_0xcfa56c(0x1ab)]=0x4;case 0x4:_0x27ee41[_0xcfa56c(0x1cb)][_0xcfa56c(0x20c)]([0x4,0x6,,0x7]);return[0x4,_0x41e246['kill']()];case 0x5:_0x27ee41['sent'](),_0x1bb9ae[_0xcfa56c(0x264)](_0xcfa56c(0x21c));return[0x3,0x7];case 0x6:_0x239fe6=_0x27ee41['sent'](),_0x1bb9ae[_0xcfa56c(0x215)](_0xcfa56c(0x219)),logger_1[_0xcfa56c(0x26b)][_0xcfa56c(0x231)](_0xcfa56c(0x21d)+_0x41e246['id']+_0xcfa56c(0x23e)+_0x239fe6);return[0x3,0x7];case 0x7:return[0x3,0x8];case 0x8:return[0x2];}});});}exports[a14_0x3e6451(0x200)]=stopContainer;